(()=>{var t={1601(t){"use strict";t.exports=function(t){return t[1]}},2087(t,e,n){var r=n(1601),i=n(6314),o=n(4417),a=n(6405),s=n(9392),l=n(3122),c=n(8597),d=n(7765),h=i(r),u=o(a),m=o(s),g=o(l),p=o(c),b=o(d);h.push([t.id,`/* ==========================================================================\n   Default style for all MvuElements\n   ========================================================================== */\n*,\n::before,\n::after {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n\t-webkit-user-drag: none;\n}\n\n*,\n*:focus,\n*:hover {\n\toutline: none;\n}\n\n/* not working in Firefox */\n::-webkit-scrollbar {\n\twidth: 0.4em;\n}\n/* fix Windows Firefox scrollbar*/\n@-moz-document url-prefix() /* stylelint-disable-line */ {\n\t* {\n\t\tscrollbar-color: var(--secondary-bg-color) var(--primary-bg-color);\n\t\tscrollbar-width: thin;\n\t}\n}\n::-webkit-scrollbar-thumb {\n\tborder-radius: 0.9em;\n\tbackground: var(--secondary-bg-color);\n}\n::-moz-selection {\n\tcolor: var(--text3);\n\tbackground: var(--secondary-color);\n}\n\n::selection {\n\tcolor: var(--text5);\n\tbackground: var(--secondary-color);\n}\ninput:-webkit-autofill:focus-visible::selection {\n\t-webkit-text-fill-color: var(--text5);\n\t-webkit-box-shadow: 0 0 0px 40rem var(--secondary-color) inset;\n}\n\n/* \n   tags\n*/\n\na,\nbutton,\ninput,\nselect,\ntextarea {\n\tfont-size: 1rem;\n\tfont-family: var(--font-family);\n\tcolor: var(--text1);\n\tline-height: 1.2;\n\tletter-spacing: 0.01em;\n}\na,\nbutton,\nselect,\nba-checkbox {\n\tcursor: pointer;\n\toverflow-wrap: anywhere;\n}\na {\n\ttext-decoration: none;\n}\ninput,\ntextarea {\n\tpadding: 0.1em 0.5em;\n\tborder: 1px solid var(--text2);\n\tline-height: 1.8;\n\twidth: 100%;\n\tbox-shadow: none;\n\tbackground: var(--primary-bg-color);\n}\nselect {\n\twidth: 100%;\n\tpadding: 0.2em 1.4em 0.3em 0.1em;\n\tborder: none;\n\tborder-bottom: 1px solid var(--text1);\n\tbox-shadow: none;\n\tappearance: none;\n\tbackground: var(--primary-bg--color);\n\tbackground-image: url(${u});\n\tbackground-repeat: no-repeat;\n\tbackground-position: calc(100% - 0.5em) center;\n\tbackground-size: 0.7em;\n}\nselect:focus-visible {\n\tborder-bottom: 1px solid var(--primary-color);\n}\nselect option {\n\tbackground-color: var(--primary-bg-color);\n\tcolor: var(--text1);\n\tborder: none;\n}\ninput[readonly],\ntextarea[readonly],\nselect[disabled] {\n\tbackground: var(--secondary-bg-color);\n\topacity: 0.7;\n}\ninput[type='range'] {\n\tborder: none;\n\tpadding: 0;\n\t--track-height: 0.3em;\n\t--track-fill: 0%;\n\t--thumb-size: 1.5em;\n\t--thumb-offset: -0.6em;\n\t--thumb-highlight-size: 0px;\n\t--primary-color-light: var(--primary-color-lighter);\n\tappearance: none;\n\tdisplay: block;\n\tinline-size: 100%;\n\tbackground: transparent;\n\toutline-offset: 5px;\n}\ninput[type='range']::-webkit-slider-runnable-track {\n\tappearance: none;\n\tblock-size: var(--track-height);\n\tborder-radius: 0.5em;\n\tbackground: linear-gradient(to right, var(--primary-color) var(--track-fill), var(--secondary-bg-color) 0%);\n}\ninput[type='range']::-moz-range-track {\n\tappearance: none;\n\tblock-size: var(--track-height);\n\tborder-radius: 0.5em;\n\tbackground: linear-gradient(to right, var(--primary-color) var(--track-fill), var(--secondary-bg-color) 0%);\n}\ninput[type='range']::-webkit-slider-thumb {\n\tappearance: none;\n\tcursor: ew-resize;\n\tborder: 3px solid var(--primary-bg-color);\n\tblock-size: var(--thumb-size);\n\tinline-size: var(--thumb-size);\n\tmargin-top: var(--thumb-offset);\n\tborder-radius: 50%;\n\tbackground: var(--primary-color) fixed;\n\tbox-shadow: 0 0 0 var(--thumb-highlight-size) var(--primary-color-lighter);\n\ttransition: box-shadow 0.1s ease;\n}\ninput[type='range']::-moz-range-thumb {\n\tappearance: none;\n\tcursor: ew-resize;\n\tborder: 3px solid var(--primary-bg-color);\n\tblock-size: var(--thumb-size);\n\tinline-size: var(--thumb-size);\n\tmargin-top: var(--thumb-offset);\n\tborder-radius: 50%;\n\tbackground: var(--primary-color) fixed;\n\tbox-shadow: 0 0 0 var(--thumb-highlight-size) var(--primary-color-lighter);\n\ttransition: box-shadow 0.1s ease;\n}\ninput[type='range']:focus-visible {\n\t--thumb-highlight-size: 0.3em;\n}\n\n/* Default background for transparent images in dark mode*/\nimg {\n\tbackground: var(--surface1-light);\n}\n\n/* \n   ba-form-element  \n*/\n.ba-form-element {\n\tposition: relative;\n\tmargin: 1em 0 1.5em 0;\n\twidth: 100%;\n}\n.ba-form-element:last-of-type {\n\tmargin: 1em 0 0em 0;\n}\n.ba-form-element .control-label {\n\tfont-size: 0.8rem;\n\ttop: 0.4em;\n\tleft: 1.2em;\n\tposition: absolute;\n\tpointer-events: none;\n\tcolor: var(--hc-placeholder, var(--text1));\n\tz-index: 1;\n\t-webkit-transition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n}\n.ba-form-element textarea::placeholder,\n.ba-form-element input::placeholder {\n\tcolor: transparent;\n}\n.error-label {\n\tdisplay: none;\n}\n.ba-form-element .helper-label,\n.ba-form-element .error-label {\n\tposition: relative;\n\tfont-size: 0.8rem;\n\tleft: 0.9em;\n\ttop: 0;\n\tpointer-events: none;\n\tpadding-left: 0.125rem;\n\tz-index: 1;\n\tcolor: var(--text1);\n\tfont-weight: normal;\n\t-webkit-transition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n}\n.ba-form-element .bar {\n\tposition: relative;\n\tdisplay: block;\n\tborder-bottom: 0.2em solid var(--secondary-color);\n}\n.ba-form-element .bar::before {\n\tcontent: '';\n\theight: 0.2em;\n\twidth: 0;\n\tleft: 0%;\n\tbottom: -0.2em;\n\tposition: absolute;\n\tbackground: var(--primary-color);\n\tz-index: 2;\n\t-webkit-transition:\n\t\tleft var(--animation-duration-medium-open) var(--animation-easing-linear),\n\t\twidth var(--animation-duration-medium-open) var(--animation-easing-linear);\n\ttransition:\n\t\tleft var(--animation-duration-medium-open) var(--animation-easing-linear),\n\t\twidth var(--animation-duration-medium-open) var(--animation-easing-linear);\n}\n.ba-form-element input,\n.ba-form-element textarea {\n\tdisplay: block;\n\tpadding: 0 1em 0.6em;\n\tborder-width: 0;\n\tborder-color: transparent;\n\tline-height: 1.9;\n\twidth: 100%;\n\tcolor: var(--text1);\n\tbox-shadow: none;\n\tbackground: var(--header-background-color);\n\tborder-top: 1.5em solid var(--header-background-color);\n\toutline: var(--hc-border1);\n}\n.ba-form-element select {\n\tborder-bottom: 0;\n\tbackground: var(--header-background-color);\n\tfont-size: 1.1rem;\n\tpadding: 1.5em 1em 0.6em;\n\tbox-shadow: none;\n\tbackground-image: url(${u});\n\tbackground-repeat: no-repeat;\n\tbackground-position: calc(100% - 1em) center;\n\tbackground-size: 1em;\n\toutline: var(--hc-border1);\n}\n.ba-form-element select:focus-visible {\n\tbackground-image: url(${m});\n}\n\n.ba-form-element select:invalid ~ .control-label,\n.ba-form-element input:placeholder-shown ~ .control-label,\n.ba-form-element textarea:placeholder-shown ~ .control-label {\n\tfont-size: 1.1rem;\n\ttop: 1.2em;\n\tleft: 0.9em;\n\tcolor: var(--hc-placeholder, var(--text2));\n}\n\n.ba-form-element input:focus-visible ~ .control-label,\n.ba-form-element textarea:focus-visible ~ .control-label {\n\tfont-size: 0.8rem;\n\tcolor: var(--hc-placeholder, var(--text2));\n\ttop: 0.4em;\n\tleft: 1.2em;\n}\n.ba-form-element select:focus-visible ~ .control-label,\n.ba-form-element input:focus-visible ~ .control-label,\n.ba-form-element textarea:focus-visible ~ .control-label {\n\tcolor: var(--hc-placeholder, var(--text4));\n}\n.ba-form-element select:focus-visible ~ .bar::before,\n.ba-form-element input:focus-visible ~ .bar::before,\n.ba-form-element textarea:focus-visible ~ .bar::before {\n\twidth: 100%;\n\tleft: 0;\n}\n.ba-form-element.userVisited input:invalid ~ .bar::before,\n.ba-form-element.userVisited textarea:invalid ~ .bar::before,\n.ba-form-element.userVisited select:invalid ~ .bar::before {\n\twidth: 100%;\n\tleft: 0;\n\tbackground: var(--error-color);\n}\n.ba-form-element.userVisited input:invalid ~ .control-label,\n.ba-form-element.userVisited textarea:invalid ~ .control-label {\n\tcolor: var(--error-color);\n}\n.ba-form-element.userVisited input:invalid ~ .helper-label,\n.ba-form-element.userVisited textarea:invalid ~ .helper-label {\n\tdisplay: none;\n}\n\n.ba-form-element.userVisited input:invalid ~ .error-label,\n.ba-form-element.userVisited textarea:invalid ~ .error-label {\n\tdisplay: block;\n\tcolor: var(--error-color);\n}\n.ba-form-element input:invalid ~ .error,\n.ba-form-element textarea:invalid ~ .error {\n\topacity: 1;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tbackground-image: url(${g});\n}\n.ba-form-element.userVisited .icon {\n\tfont-size: 2em;\n\topacity: 0;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\theight: 2em;\n\twidth: 1.8em;\n\tbackground-size: 0.7em;\n\tcolor: var(--text1);\n}\n.ba-form-element .check .icon {\n\tbackground: var(--success-color);\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tbackground-image: url(${p});\n}\n.ba-form-element .icon:focus-visible {\n\topacity: 1;\n}\n.ba-form-element .clear {\n\tbackground: var(--primary-bg--color);\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tbackground-image: url(${b});\n}\n.ba-form-element .select-icon {\n\tfont-size: 1.5em !important;\n\topacity: 1 !important;\n\tbackground: var(--primary-bg--color);\n\tbackground-image: url(${u});\n\tbackground-repeat: no-repeat;\n\tbackground-position: calc(100% - 0.5em) center;\n\twidth: 2em !important;\n}\n.ba-form-element .hint {\n\tpadding: 1em 0;\n\twidth: 100%;\n}\n\ninput:-webkit-autofill,\ninput:-webkit-autofill:hover,\ninput:-webkit-autofill:focus-visible {\n\t-webkit-text-fill-color: var(--text1);\n\t-webkit-box-shadow: 0 0 0px 40rem var(--header-background-color) inset;\n}\n\n/* \n   helper\n*/\n.hide {\n\tdisplay: none !important;\n}\n.selectable {\n\t-webkit-user-select: text;\n\tuser-select: text;\n}\n.draggable {\n\t-webkit-user-drag: element;\n}\n\n.attention {\n\tanimation-name: attention;\n\tanimation-duration: 600ms;\n\tanimation-iteration-count: 3;\n\tz-index: calc(var(--z-disableall) + 100);\n}\n\n@container style(--is-hc-mode: true) {\n\t*,\n\t::before,\n\t::after {\n\t\tbox-shadow: none !important;\n\t\t--topic-theme: var(--hc-color1) !important;\n\t\t--secondary-color-theme: var(--hc-color1) !important;\n\t}\n\n\ta {\n\t\tcolor: var(--hc-link-color) !important;\n\t\ttext-decoration: var(--hc-link-style) !important;\n\t}\n\n\t*::-webkit-scrollbar-thumb {\n\t\tbackground: var(--hc-color1);\n\t}\n\n\tinput[type='range']::-webkit-slider-runnable-track {\n\t\tborder: var(--hc-border1);\n\t}\n}\n\n@media (forced-colors: active) {\n\t*,\n\t::before,\n\t::after {\n\t\tbox-shadow: none !important;\n\t\t--topic-theme: var(--hc-color1) !important;\n\t\t--secondary-color-theme: var(--hc-color1) !important;\n\t}\n\n\ta {\n\t\tcolor: var(--hc-link-color) !important;\n\t\ttext-decoration: var(--hc-link-style) !important;\n\t}\n\ta:visited {\n\t\tcolor: var(--hc-link-visited-color) !important;\n\t\ttext-decoration: var(--hc-link-visited-color) !important;\n\t}\n\n\t*::-webkit-scrollbar-thumb {\n\t\tbackground: var(--hc-color1);\n\t}\n\n\tinput[type='range']::-webkit-slider-runnable-track {\n\t\tborder: var(--hc-border1);\n\t}\n}\n\n@keyframes attention {\n\t0% {\n\t\toutline: 0.5em solid var(--primary-bg-color);\n\t\toutline-offset: 0.5em;\n\t\tbox-shadow: 0 0 0 1.5em var(--primary-bg-color);\n\t}\n\t50% {\n\t\toutline: 0.5em solid var(--primary-color);\n\t\toutline-offset: 0.5em;\n\t\tbox-shadow: 0 0 0 1.5em var(--primary-bg-color);\n\t}\n\t100% {\n\t\toutline: 0.5em solid var(--primary-bg-color);\n\t\toutline-offset: 0.5em;\n\t\tbox-shadow: 0 0 0 1.5em var(--primary-bg-color);\n\t}\n}\n`,""]),t.exports=h},3122(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZXhjbGFtYXRpb24tY2lyY2xlIj48IS0tTUlUIExpY2Vuc2UtLT48cGF0aCBmaWxsPSIjY2UzYjZhIiBkPSJNOCAxNUE3IDcgMCAxIDEgOCAxYTcgNyAwIDAgMSAwIDE0bTAgMUE4IDggMCAxIDAgOCAwYTggOCAwIDAgMCAwIDE2Ii8+PHBhdGggZmlsbD0iI2NlM2I2YSIgZD0iTTcuMDAyIDExYTEgMSAwIDEgMSAyIDAgMSAxIDAgMCAxLTIgME03LjEgNC45OTVhLjkwNS45MDUgMCAxIDEgMS44IDBsLS4zNSAzLjUwN2EuNTUyLjU1MiAwIDAgMS0xLjEgMHoiLz48L3N2Zz4K"},4417(t){"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},6277(t,e,n){var r=n(8529);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},6314(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},6405(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgY2xhc3M9ImJpIGJpLWNhcmV0LWRvd24tZmlsbCI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZmlsbD0iIzJjNWE5MyIgZD0iTTcuMjQ3IDExLjE0IDIuNDUxIDUuNjU4QzEuODg1IDUuMDEzIDIuMzQ1IDQgMy4yMDQgNGg5LjU5MmExIDEgMCAwIDEgLjc1MyAxLjY1OWwtNC43OTYgNS40OGExIDEgMCAwIDEtMS41MDYgMHoiLz48L3N2Zz4K"},6947(t,e,n){var r=n(2087);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},7765(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmkteC1jaXJjbGUiPjwhLS1NSVQgTGljZW5zZS0tPjxwYXRoIGQ9Ik04IDE1QTcgNyAwIDEgMSA4IDFhNyA3IDAgMCAxIDAgMTRtMCAxQTggOCAwIDEgMCA4IDBhOCA4IDAgMCAwIDAgMTYiLz48cGF0aCBkPSJNNC42NDYgNC42NDZhLjUuNSAwIDAgMSAuNzA4IDBMOCA3LjI5M2wyLjY0Ni0yLjY0N2EuNS41IDAgMCAxIC43MDguNzA4TDguNzA3IDhsMi42NDcgMi42NDZhLjUuNSAwIDAgMS0uNzA4LjcwOEw4IDguNzA3bC0yLjY0NiAyLjY0N2EuNS41IDAgMCAxLS43MDgtLjcwOEw3LjI5MyA4IDQuNjQ2IDUuMzU0YS41LjUgMCAwIDEgMC0uNzA4Ii8+PC9zdmc+Cg=="},8529(t,e,n){var r=n(1601),i=n(6314)(r);i.push([t.id,"/* add style here for public WC  */\n",""]),t.exports=i},8597(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktY2hlY2syLWNpcmNsZSI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZD0iTTIuNSA4YTUuNSA1LjUgMCAwIDEgOC4yNS00Ljc2NC41LjUgMCAwIDAgLjUtLjg2NkE2LjUgNi41IDAgMSAwIDE0LjUgOGEuNS41IDAgMCAwLTEgMCA1LjUgNS41IDAgMSAxLTExIDAiLz48cGF0aCBkPSJNMTUuMzU0IDMuMzU0YS41LjUgMCAwIDAtLjcwOC0uNzA4TDggOS4yOTMgNS4zNTQgNi42NDZhLjUuNSAwIDEgMC0uNzA4LjcwOGwzIDNhLjUuNSAwIDAgMCAuNzA4IDB6Ii8+PC9zdmc+Cg=="},9392(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktY2FyZXQtdXAtZmlsbCI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZmlsbD0iIzJjNWE5MyIgZD0ibTcuMjQ3IDQuODYtNC43OTYgNS40ODFjLS41NjYuNjQ3LS4xMDYgMS42NTkuNzUzIDEuNjU5aDkuNTkyYTEgMSAwIDAgMCAuNzUzLTEuNjU5bC00Ljc5Ni01LjQ4YTEgMSAwIDAgMC0xLjUwNiAweiIvPjwvc3ZnPgo="}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";class t{#t={};#e=[];#n="injector_"+Math.random().toString(36).substr(2,9);#r=!1;constructor(){}reset(){return this.#t={},this.#r=!1,this}register(t,e){return this.#i(t,e,!1,!1)}registerSingleton(t,e){return this.#i(t,e,!0,!1)}registerFactory(t,e){return this.#i(t,e,!1,!0)}registerModule(t){return t(this),this}inject(...t){const e={};return t.map((t=>{const n=this.#t[t];if(!n)throw new Error(`No registered instance or factory found for "${t}"`);n.factory?e[t]=n.dependency():e[t]=n.singleton?n.dependency:new n.dependency})),e}onReady(t){this.#e.push(t)}ready(){this.#r?console.warn("Injector already marked as ready!"):(this.#e.forEach((t=>t())),this.#r=!0)}isReady(){return this.#r}getId(){return this.#n}getScope(e){return this.#t[e]?this.#t[e].singleton?t.SCOPE_SINGLETON:t.SCOPE_PERLOOKUP:null}count(){return Object.keys(this.#t).length}static get SCOPE_SINGLETON(){return"Singleton"}static get SCOPE_PERLOOKUP(){return"PerLookup"}#i(t,e,n,r){if("string"==typeof t){const i=t;if(this.#t[i])throw new Error("Instance already registered for "+i);this.#t[i]={dependency:e,singleton:n,factory:r}}else for(const[e,i]of Object.entries(t))this.#t[e]={dependency:i,singleton:n,factory:r};return this}}const e=new t;class r{#o=!0;constructor(t=!0){this.#o=t,this.#a()}#a(){this._properties=new Map,this._properties.set("RUNTIME_MODE",window?.ba_externalConfigProperties?.NODE_ENV??"production"),this._properties.set("SOFTWARE_VERSION","4.5"),this._properties.set("SOFTWARE_INFO",window?.ba_externalConfigProperties?.SOFTWARE_INFO??"MISSING_ENV_VAR".SOFTWARE_INFO),this._properties.set("DEFAULT_LANG",window?.ba_externalConfigProperties?.DEFAULT_LANG??"MISSING_ENV_VAR".DEFAULT_LANG??"en"),this._properties.set("PROXY_URL",window?.ba_externalConfigProperties?.PROXY_URL??"MISSING_ENV_VAR".PROXY_URL),this._properties.set("BACKEND_URL",window?.ba_externalConfigProperties?.BACKEND_URL??"MISSING_ENV_VAR".BACKEND_URL),this._properties.set("BACKEND_ADMIN_TOKEN",window?.ba_externalConfigProperties?.BACKEND_ADMIN_TOKEN??"MISSING_ENV_VAR".BACKEND_ADMIN_TOKEN),this._properties.set("FRONTEND_URL",window?.ba_externalConfigProperties?.FRONTEND_URL??"MISSING_ENV_VAR".FRONTEND_URL??`${location.protocol}//${location.host}`),this._properties.set("SHORTENING_SERVICE_URL",window?.ba_externalConfigProperties?.SHORTENING_SERVICE_URL??"MISSING_ENV_VAR".SHORTENING_SERVICE_URL),this.#o&&this._properties.forEach(((t,e)=>{void 0!==t||r.SILENT_PROPERTY_KEYS.includes(e)||console.warn("No config property found for "+e+". This is likely because the .env file is missing or you have to append this key to the .env file.")}))}_trailingSlash(t,e){if(t)return t=t.trim(),e?t.endsWith("/")?t:t+"/":t.replace(/\/$/,"")}getValue(t,e){return this._properties.get(t)??e??(()=>{throw new Error(`No value found for '${t}'`)})()}getValueAsPath(t,e){return this._trailingSlash(this.getValue(t,e),!0)}hasKey(t){return!!this._properties.get(t)}isLoggingEnabled(){return this.#o}static get SILENT_PROPERTY_KEYS(){return["BACKEND_ADMIN_TOKEN"]}}function i(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var o=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),a=()=>Math.random().toString(36).substring(7).split("").join("."),s={INIT:`@@redux/INIT${a()}`,REPLACE:`@@redux/REPLACE${a()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${a()}`};function l(t,e,n){if("function"!=typeof t)throw new Error(i(2));if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(i(1));return n(l)(t,e)}let r=t,a=e,c=new Map,d=c,h=0,u=!1;function m(){d===c&&(d=new Map,c.forEach(((t,e)=>{d.set(e,t)})))}function g(){if(u)throw new Error(i(3));return a}function p(t){if("function"!=typeof t)throw new Error(i(4));if(u)throw new Error(i(5));let e=!0;m();const n=h++;return d.set(n,t),function(){if(e){if(u)throw new Error(i(6));e=!1,m(),d.delete(n),c=null}}}function b(t){if(!function(t){if("object"!=typeof t||null===t)return!1;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||null===Object.getPrototypeOf(t)}(t))throw new Error(i(7));if(void 0===t.type)throw new Error(i(8));if("string"!=typeof t.type)throw new Error(i(17));if(u)throw new Error(i(9));try{u=!0,a=r(a,t)}finally{u=!1}return(c=d).forEach((t=>{t()})),t}return b({type:s.INIT}),{dispatch:b,subscribe:p,getState:g,replaceReducer:function(t){if("function"!=typeof t)throw new Error(i(10));r=t,b({type:s.REPLACE})},[o]:function(){const t=p;return{subscribe(e){if("object"!=typeof e||null===e)throw new Error(i(11));function n(){const t=e;t.next&&t.next(g())}return n(),{unsubscribe:t(n)}},[o](){return this}}}}}class c{constructor(){this._store=l((t=>t),{})}getStore(){return this._store}}class d{constructor(t=window){this._window=t;const{ConfigService:n}=e.inject("ConfigService");this._configService=n}getQueryParams(){return new URLSearchParams(this._window.location.search)}getWindow(){return this._window}isTouch(){return this._window.matchMedia("(pointer:coarse)").matches}isMouse(){return this._window.matchMedia("(pointer:fine)").matches&&this._window.matchMedia("(hover:hover)").matches}isMouseWithTouchSupport(){return this._window.matchMedia("(any-pointer:coarse)").matches&&this._window.matchMedia("(pointer:fine)").matches}isRetinaDisplay(){const t=this._window,e=t.matchMedia&&t.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min--moz-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 1.5dppx)");return(e&&e.matches)??t.devicePixelRatio>1}isDarkMode(){const t=this._window;return t.matchMedia&&t.matchMedia("(prefers-color-scheme: dark)").matches}isHighContrast(){const t=this._window;return t.matchMedia&&t.matchMedia("(forced-colors: active)").matches}isEmbedded(){return this.isEmbeddedAsIframe()||this.isEmbeddedAsWC()}isEmbeddedAsIframe(){return d._EMBED_DETECTION_REGEX.test(this._window.location.pathname)&&!this._window.name?.startsWith("ba_")}isEmbeddedAsWC(){return d._EMBED_DETECTION_REGEX.test(this._window.location.pathname)&&this._window.name?.startsWith("ba_")}isStandalone(){return!this._configService.getValue("BACKEND_URL",!1)}static get _EMBED_DETECTION_REGEX(){return/(\/embed[/]?(index.html)?|embed.html)$/}}const h=t=>"string"==typeof t||t instanceof String,u=(t,e=!0)=>!e&&h(t)?["true","false"].includes(t):"boolean"==typeof t,m=(t,e=!0)=>e?null!=t&&!h(t)&&!Array.isArray(t)&&!isNaN(t):null!==t&&!Number.isNaN(Number(t))&&0!==t.length,g=t=>Array.isArray(t)&&2===t.length&&m(t[0])&&m(t[1]),p=t=>void 0!==t,b=()=>Math.floor(Math.random()*Date.now()),f=globalThis,_=f.trustedTypes,A=_?_.createPolicy("lit-html",{createHTML:t=>t}):void 0,E="$lit$",v=`lit$${Math.random().toFixed(9).slice(2)}$`,y="?"+v,w=`<${y}>`,I=document,S=()=>I.createComment(""),O=t=>null===t||"object"!=typeof t&&"function"!=typeof t,N=Array.isArray,M="[ \t\n\f\r]",L=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,R=/-->/g,x=/>/g,C=RegExp(`>|${M}(?:([^\\s"'>=/]+)(${M}*=${M}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),T=/'/g,$=/"/g,D=/^(?:script|style|textarea|title)$/i,k=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),P=k(1),j=(k(2),k(3),Symbol.for("lit-noChange")),z=Symbol.for("lit-nothing"),U=new WeakMap,Y=I.createTreeWalker(I,129);function F(t,e){if(!N(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==A?A.createHTML(e):e}const V=(t,e)=>{const n=t.length-1,r=[];let i,o=2===e?"<svg>":3===e?"<math>":"",a=L;for(let e=0;e<n;e++){const n=t[e];let s,l,c=-1,d=0;for(;d<n.length&&(a.lastIndex=d,l=a.exec(n),null!==l);)d=a.lastIndex,a===L?"!--"===l[1]?a=R:void 0!==l[1]?a=x:void 0!==l[2]?(D.test(l[2])&&(i=RegExp("</"+l[2],"g")),a=C):void 0!==l[3]&&(a=C):a===C?">"===l[0]?(a=i??L,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,s=l[1],a=void 0===l[3]?C:'"'===l[3]?$:T):a===$||a===T?a=C:a===R||a===x?a=L:(a=C,i=void 0);const h=a===C&&t[e+1].startsWith("/>")?" ":"";o+=a===L?n+w:c>=0?(r.push(s),n.slice(0,c)+E+n.slice(c)+v+h):n+v+(-2===c?e:h)}return[F(t,o+(t[n]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]};class G{constructor({strings:t,_$litType$:e},n){let r;this.parts=[];let i=0,o=0;const a=t.length-1,s=this.parts,[l,c]=V(t,e);if(this.el=G.createElement(l,n),Y.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=Y.nextNode())&&s.length<a;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(E)){const e=c[o++],n=r.getAttribute(t).split(v),a=/([.?@])?(.*)/.exec(e);s.push({type:1,index:i,name:a[2],strings:n,ctor:"."===a[1]?K:"?"===a[1]?Q:"@"===a[1]?X:Z}),r.removeAttribute(t)}else t.startsWith(v)&&(s.push({type:6,index:i}),r.removeAttribute(t));if(D.test(r.tagName)){const t=r.textContent.split(v),e=t.length-1;if(e>0){r.textContent=_?_.emptyScript:"";for(let n=0;n<e;n++)r.append(t[n],S()),Y.nextNode(),s.push({type:2,index:++i});r.append(t[e],S())}}}else if(8===r.nodeType)if(r.data===y)s.push({type:2,index:i});else{let t=-1;for(;-1!==(t=r.data.indexOf(v,t+1));)s.push({type:7,index:i}),t+=v.length-1}i++}}static createElement(t,e){const n=I.createElement("template");return n.innerHTML=t,n}}function H(t,e,n=t,r){if(e===j)return e;let i=void 0!==r?n._$Co?.[r]:n._$Cl;const o=O(e)?void 0:e._$litDirective$;return i?.constructor!==o&&(i?._$AO?.(!1),void 0===o?i=void 0:(i=new o(t),i._$AT(t,n,r)),void 0!==r?(n._$Co??=[])[r]=i:n._$Cl=i),void 0!==i&&(e=H(t,i._$AS(t,e.values),i,r)),e}class B{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,r=(t?.creationScope??I).importNode(e,!0);Y.currentNode=r;let i=Y.nextNode(),o=0,a=0,s=n[0];for(;void 0!==s;){if(o===s.index){let e;2===s.type?e=new W(i,i.nextSibling,this,t):1===s.type?e=new s.ctor(i,s.name,s.strings,this,t):6===s.type&&(e=new J(i,this,t)),this._$AV.push(e),s=n[++a]}o!==s?.index&&(i=Y.nextNode(),o++)}return Y.currentNode=I,r}p(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class W{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,n,r){this.type=2,this._$AH=z,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=H(this,t,e),O(t)?t===z||null==t||""===t?(this._$AH!==z&&this._$AR(),this._$AH=z):t!==this._$AH&&t!==j&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>N(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==z&&O(this._$AH)?this._$AA.nextSibling.data=t:this.T(I.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:n}=t,r="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=G.createElement(F(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(e);else{const t=new B(r,this),n=t.u(this.options);t.p(e),this.T(n),this._$AH=t}}_$AC(t){let e=U.get(t.strings);return void 0===e&&U.set(t.strings,e=new G(t)),e}k(t){N(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,r=0;for(const i of t)r===e.length?e.push(n=new W(this.O(S()),this.O(S()),this,this.options)):n=e[r],n._$AI(i),r++;r<e.length&&(this._$AR(n&&n._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class Z{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,r,i){this.type=1,this._$AH=z,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=z}_$AI(t,e=this,n,r){const i=this.strings;let o=!1;if(void 0===i)t=H(this,t,e,0),o=!O(t)||t!==this._$AH&&t!==j,o&&(this._$AH=t);else{const r=t;let a,s;for(t=i[0],a=0;a<i.length-1;a++)s=H(this,r[n+a],e,a),s===j&&(s=this._$AH[a]),o||=!O(s)||s!==this._$AH[a],s===z?t=z:t!==z&&(t+=(s??"")+i[a+1]),this._$AH[a]=s}o&&!r&&this.j(t)}j(t){t===z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class K extends Z{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===z?void 0:t}}class Q extends Z{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==z)}}class X extends Z{constructor(t,e,n,r,i){super(t,e,n,r,i),this.type=5}_$AI(t,e=this){if((t=H(this,t,e,0)??z)===j)return;const n=this._$AH,r=t===z&&n!==z||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,i=t!==z&&(n===z||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class J{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){H(this,t)}}const q=f.litHtmlPolyfillSupport;q?.(G,W),(f.litHtmlVersions??=[]).push("3.3.2");const tt=(t,e,n)=>{const r=n?.renderBefore??e;let i=r._$litPart$;if(void 0===i){const t=n?.renderBefore??null;r._$litPart$=i=new W(e.insertBefore(S(),t),t,void 0,n??{})}return i._$AI(t),i},et=(t,e)=>{if(t===e)return!0;if("function"==typeof t&&"function"==typeof e)return t.toString()===e.toString();if("object"!=typeof t||"object"!=typeof e||!t||!e)return!1;if(Array.isArray(t)&&!Array.isArray(e)||!Array.isArray(t)&&Array.isArray(e))return!1;const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((n=>!!r.includes(n)&&et(t[n],e[n])))};var nt=n(6947),rt=n.n(nt);class it extends HTMLElement{#s=[];#l=[];constructor(t={}){if(super(),this._logLifeCycle(`ðŸ“¦ ${this.constructor.name}#constructor`,t),this.constructor===it)throw new Error("Can not construct abstract class.");this._root=this.attachShadow({mode:this.isShadowRootOpen()?"open":"closed"});const{StoreService:n}=e.inject("StoreService");this._storeService=n,this._model={...t},this._rendered=!1}isShadowRootOpen(){return!0}signal(t,e=null){this._logLifeCycle(`ðŸŽº ${this.constructor.name}#signal`,t,e);const n=this.update(t,e,this.getModel());n&&!et(n,this._model)&&(this._model=n,this.#s.forEach((t=>t())),this._logLifeCycle(`ðŸ“Œ ${this.constructor.name}#onModelChanged`,this.getModel()),this.onModelChanged(this.getModel()))}update(t,e,n){throw new Error("Please implement method #update before calling #signal or do not call super.update from child.")}getModel(){return{...this._model}}connectedCallback(){window.ba_fireConnectedEvent&&document.dispatchEvent(new CustomEvent("connected",{detail:this,bubbles:!0})),window.addEventListener("load",(()=>{this.onWindowLoad()})),this._logLifeCycle(`ðŸ“Œ ${this.constructor.name}#onInitialize`),this.onInitialize(),this._initialized=!0,this.render()}disconnectedCallback(){for(this._logLifeCycle(`ðŸ“Œ ${this.constructor.name}#onDisconnect`);this.#l.length>0;)this.#l.shift()();this.onDisconnect()}isRenderingSkipped(){return!1}getRenderTarget(){return this._root}createView(t){throw new Error("Please implement abstract method #createView or do not call super.createView from child.")}onInitialize(){}onBeforeRender(t){}render(){if(this._initialized&&!this.isRenderingSkipped()){const t=!this._rendered;this._logLifeCycle(`ðŸ“Œ ${this.constructor.name}#onBeforeRender`),this.onBeforeRender(t),this._logLifeCycle(`ðŸ§ª ${this.constructor.name}#render`,this.getModel());const e=this.createView(this.getModel());this._isNothing(e)?tt(e,this.getRenderTarget()):tt(P`${this.defaultCss()} ${e}`,this.getRenderTarget()),st(this),this._rendered=!0,this._logLifeCycle(`ðŸ“Œ ${this.constructor.name}#onAfterRender`),this.onAfterRender(t)}}_isNothing(t){return t===z||null==t||""===t}defaultCss(){return P`
			<style>
				${rt()}
			</style>
		`}onAfterRender(t){}onWindowLoad(){}onModelChanged(t){this.render()}onDisconnect(){}static get tag(){throw this===it?new Error("Can not call static abstract method #tag."):new Error("Please implement static abstract method #tag or do not call static abstract method #tag from child.")}observe(t,e,n=!0){const r=((t,e,n,r=!0)=>{const i=Object.freeze({});let o=i;const a=()=>{const a=e(t.getState());if(!et(a,o)){const e=o!==i||!r;o=a,e&&n(o,t.getState())}},s=t.subscribe(a);return a(),s})(this._storeService.getStore(),t,e,!n);return this.#l.push(r),r}observeModel(t,e,n=!1){const r=(t,e)=>{let n=this._model[t];return()=>{const r=this._model[t];et(r,n)||(n=r,e(n))}},i=(Array.isArray(t)?t:[t]).map((t=>{if(void 0!==this._model[t]){const i=r(t,e);return this.#s.push(i),n&&e(this._model[t]),i}console.error(`Could not register observer --\x3e '${t}' is not a field in the Model of ${this.constructor.name}`)})).filter((t=>!!t));return()=>{i.forEach((t=>{this.#s.splice(this.#s.indexOf(t),1)}))}}_logLifeCycle(t,...e){this.hasAttribute(at)&&console.log(`${t}${e.length?": ":""}${e.map((t=>JSON.stringify(t))).join(", ")}`)}}const ot="data-test-id",at="data-log-lifecycle",st=t=>{if(window.ba_enableTestIds){const e=[];let n=t.parentNode,r=t;for(;n;){if(n instanceof it){const t=[...n.shadowRoot.querySelectorAll(r.tagName)].indexOf(r),i=r.tagName.toLowerCase();e.push(`${i}-${t}`),r=n}n=n.parentNode??n.host,n||e.push(`${r.tagName.toLowerCase()}-0`)}const i=e.reverse().join("_");t.hasAttribute(ot)&&t.setAttribute(ot,i),[...t.shadowRoot.querySelectorAll(`[${ot}]`)].forEach((t=>{if(!(t instanceof it)){const e=t.getAttribute("id")??t.getAttribute("class");e?t.setAttribute(ot,`${i}_${e.replace(" ","-")}`):console.warn(`No data-test-id qualifier found for: ${i} -> ${t.tagName.toLocaleLowerCase()}. Please add either an id or a class attribute.`)}}))}},lt=(t,e,n)=>{const r=t=>t.shadowRoot??t;r(t).childNodes.forEach((t=>{t.matches&&t?.matches(e)&&n(t),lt(r(t),e,n)}))},ct=(t,e)=>{const n=[];return lt(t,e,(t=>n.push(t))),n},dt=(t,e)=>{const n=t.getBoundingClientRect(),r=e.map((t=>t.getBoundingClientRect())),i=t=>t.left>=t.right||t.top>=t.bottom,o=(t,e,n,r)=>DOMRect.fromRect({x:t,y:e,width:n-t,height:r-e}),a=((t,e)=>{const n=t=>t.width*t.height;return e.reduce(((t,e)=>t.map((t=>((t,e)=>{const n=[];if(e=((t,e)=>{if(i(t)||i(e))return DOMRect.fromRect();const n=Math.max(t.left,e.left),r=Math.min(t.right,e.right),o=Math.max(t.top,e.top),a=Math.min(t.bottom,e.bottom);return DOMRect.fromRect({x:n,y:o,width:Math.max(0,r-n),height:Math.max(0,a-o)})})(e,t),i(e))return[(r=t,DOMRect.fromRect({x:r.x,y:r.y,width:r.width,height:r.height}))];var r;const a=o(t.left,t.top,e.left,t.bottom);i(a)||n.push(a);const s=o(e.left,t.top,e.right,e.top);i(s)||n.push(s);const l=o(e.left,e.bottom,e.right,t.bottom);i(l)||n.push(l);const c=o(e.right,t.top,t.right,t.bottom);return i(c)||n.push(c),n})(t,e))).flat()),[t]).sort(((t,e)=>n(t)-n(e)||t.x-e.x||t.y-e.y))})(n,r);return a[a.length-1]},ht=Object.freeze({WGS84:{id:"cr_global_wgs84",label:"global_cr_global_wgs84",code:4326,digits:5,global:!0,group:"wgs84"},UTM:{id:"cr_global_utm",label:"UTM",code:null,digits:0,global:!0,group:"utm"},MGRS:{id:"cr_global_mgrs",label:"UTMREF",code:null,digits:0,global:!0,group:"mgrs"},SphericalMercator:{id:"cr_global_3857",label:"3857",code:3857,digits:6,global:!0,group:"sm"}}),ut=Object.freeze({UTM32:{id:"cr_local_utm32",label:"UTM32",code:25832,digits:0,global:!1,group:"utm"},UTM33:{id:"cr_local_utm33",label:"UTM33",code:25833,digits:0,global:!1,group:"utm"},GK4:{id:"cr_local_gk4",label:"GK4",code:31468,digits:0,global:!1,group:"gk4"}}),mt=()=>({defaultExtent:[995772.9694449581,5982715.763684852,1548341.2904285304,6544564.28740462],minZoomLevel:0,maxZoomLevel:20,srid:3857,localProjectedSrid:25832,localProjectedSridExtent:[5,-80,14,80],localProjectedCoordinateRepresentations:gt,globalCoordinateRepresentations:[ht.UTM,ht.WGS84,ht.MGRS,ht.SphericalMercator]}),gt=t=>{const n=[ut.UTM32,ut.GK4,ht.WGS84,ht.SphericalMercator,ht.MGRS];if(t){const{CoordinateService:r}=e.inject("CoordinateService"),i=r.toLonLat(t);if(i[0]>18||i[0]<6||i[1]>54||i[1]<42)return[ht.UTM,ht.WGS84,ht.SphericalMercator,ht.MGRS];i[0]<18&&i[0]>=12&&n.splice(0,0,ut.UTM33)}return n},pt={};e.registerModule((t=>{t.registerSingleton("StoreService",new c)})).register("EnvironmentService",d).registerSingleton("ProjectionService",pt).registerSingleton("CoordinateService",pt).register("MapService",class{constructor(t=mt){const{CoordinateService:n}=e.inject("CoordinateService");this._coordinateService=n,this._definitions=t()}getSrid(){return this._definitions.srid}getCoordinateRepresentations(t=[]){const e=this._coordinateService.toCoordinate((n=t,Array.isArray(n)&&m(n[0])&&m(n[1])?[t]:[...t]));var n;return this.getLocalProjectedSridExtent()&&0!==e.length?e.find((t=>!this._coordinateService.containsCoordinate(this.getLocalProjectedSridExtent(),t)))?this._definitions.globalCoordinateRepresentations:this._definitions.localProjectedCoordinateRepresentations(e[0]):this._definitions.globalCoordinateRepresentations}getLocalProjectedSrid(){return this._definitions.localProjectedSrid}getLocalProjectedSridExtent(t=this.getSrid()){switch(t){case 3857:return this._coordinateService.fromLonLatExtent(this._definitions.localProjectedSridExtent);case 4326:return this._definitions.localProjectedSridExtent}throw new Error("Unsupported SRID "+t)}getDefaultMapExtent(t=this.getSrid()){switch(t){case 3857:return this._definitions.defaultExtent;case 4326:return this._coordinateService.toLonLatExtent(this._definitions.defaultExtent)}throw new Error("Unsupported SRID "+t)}getMinZoomLevel(){return this._definitions.minZoomLevel}getMaxZoomLevel(){return this._definitions.maxZoomLevel}getMinimalRotation(){return.3}calcResolution(t,e=null,n=this.getSrid(),r=256){if(3857===n){if(!e)throw new Error(`Parameter 'coordinateInMapProjection' must not be Null when using SRID ${n}`);return((t,e,n)=>(t=(t=>Math.min(Math.max(t,-85.05112878),85.05112878))(t),2*Math.cos(t*Math.PI/180)*Math.PI*6378137/((t,e)=>Math.ceil(e*Math.pow(2,t)))(e,n)))(this._coordinateService.toLonLat(e)[1],t,r)}throw new Error(`Unsupported SRID ${n}`)}getScaleLineContainer(){const t=document.querySelector("ba-footer")?.shadowRoot.querySelector(".scale");return t??null}getVisibleViewport(t){const e=ct(document,"[data-register-for-viewport-calc]"),n=dt(t,e),r=t.getBoundingClientRect();return{top:n.top-r.top,right:r.right-n.right,bottom:r.bottom-n.bottom,left:n.left-r.left}}calcLength(t){if(!this.getLocalProjectedSridExtent()||t.find((t=>!this._coordinateService.containsCoordinate(this.getLocalProjectedSridExtent(),t)))){const e=t.map((t=>this._coordinateService.toLonLat(t)));return this._coordinateService.getLength(e,!0)}const e=t.map((t=>this._coordinateService.transform(t,this.getSrid(),this.getLocalProjectedSrid())));return this._coordinateService.getLength(e,!1)}calcArea(t){if(!this.getLocalProjectedSridExtent()||t[0].find((t=>!this._coordinateService.containsCoordinate(this.getLocalProjectedSridExtent(),t)))){const e=t.map((t=>t.map((t=>this._coordinateService.toLonLat(t)))));return this._coordinateService.getArea(e,!0)}const e=t.map((t=>t.map((t=>this._coordinateService.transform(t,this.getSrid(),this.getLocalProjectedSrid())))));return this._coordinateService.getArea(e,!1)}}).registerSingleton("ConfigService",new r(!1)).ready();var bt=n(6277),ft=n.n(bt);const _t=Object.freeze({ZOOM:"z",CENTER:"c",ROTATION:"r",LAYER:"l",LAYER_VISIBILITY:"l_v",LAYER_OPACITY:"l_o",LAYER_TIMESTAMP:"l_t",LAYER_SWIPE_ALIGNMENT:"l_sa",LAYER_STYLE:"l_st",LAYER_DISPLAY_FEATURE_LABELS:"l_dfl",LAYER_UPDATE_INTERVAL:"l_ui",LAYER_FILTER:"l_f",SWIPE_RATIO:"sr",QUERY:"q",FEATURE_INFO_REQUEST:"fir",ZOOM_TO_EXTENT:"zte",CROSSHAIR:"crh",GEOLOCATION:"gl",ROUTE_WAYPOINTS:"rtwp",ROUTE_CATEGORY:"rtc",TOPIC:"t",CHIP_ID:"chid",MENU_ID:"mid",CATALOG_NODE_IDS:"cnids",TOOL_ID:"tid",EC_DRAW_TOOL:"ec_draw_tool",EC_MAP_ACTIVATION:"ec_map_activation",EC_LINK_TO_APP:"ec_link_to_app",EC_SRID:"ec_srid",EC_GEOMETRY_FORMAT:"ec_geometry_format",T_ENABLE_TEST_IDS:"t_enable-test-ids"}),At=Object.freeze({EMBED:"embed.html"}),Et=Object.freeze({LOAD:"baLoad",CHANGE:"baChange",GEOMETRY_CHANGE:"baGeometryChange",FEATURE_SELECT:"baFeatureSelect"}),vt=Object.freeze([_t.LAYER,_t.ZOOM,_t.CENTER,_t.ROTATION,_t.LAYER_VISIBILITY,_t.LAYER_OPACITY,_t.EC_SRID,_t.EC_GEOMETRY_FORMAT,_t.EC_MAP_ACTIVATION,_t.EC_LINK_TO_APP,_t.EC_DRAW_TOOL]),yt=Object.freeze({ADD_LAYER:"addLayer",MODIFY_LAYER:"modifyLayer",REMOVE_LAYER:"removeLayer",MODIFY_VIEW:"modifyView",ZOOM_TO_EXTENT:"zoomToExtent",ZOOM_TO_LAYER_EXTENT:"zoomToLayerExtent",ADD_MARKER:"addMarker",REMOVE_MARKER:"removeMarker",CLEAR_MARKERS:"clearMarkers",CLEAR_HIGHLIGHTS:"clearHighlights",CLOSE_TOOL:"closeTool"}),wt=Object.freeze({KML:"kml",GPX:"gpx",GEOJSON:"geojson",WMS:"wms",OAF:"oaf",EWKT:"ewkt"});Object.freeze({OK:0,UNSUPPORTED_TYPE:1,MAX_SIZE_EXCEEDED:2,OTHER:3,BAA_AUTHENTICATED:4,RESTRICTED:5,UNSUPPORTED_SRID:6});const It=(t,e=",")=>{if(h(t)){const n=t.split(e),r=n?.length>1?[n[0],n[1]].map((t=>parseFloat(t))).filter((t=>Number.isFinite(t))):null;return g(r)?r:null}return null},St=t=>Object.entries(t).filter((([,t])=>void 0!==t)).reduce(((t,[e,n])=>(t[e]=n,t)),{});class Ot extends it{#c;#d;#h;#u;#m=`ba_${b().toString()}`;#g=t=>{ct(this,"iframe")[0]?.contentWindow.postMessage({source:this.#m,v:"1",...t},"*")};#p=(t,e)=>{if(!t())throw new Error(e);return!0};constructor(){super();const{ConfigService:t,EnvironmentService:n,MapService:r}=e.inject("ConfigService","EnvironmentService","MapService");this.#c=t,this.#d=n,this.#h=r}_onReceive(t){if(t.data.target===this.#m)if("1"===t.data.v)for(const e in t.data)if(vt.includes(e)){if(this.setAttribute(e,t.data[e]),!t.data.silent){const n={};n[e]=t.data[e],this.dispatchEvent(new CustomEvent(Et.CHANGE,{detail:n}))}}else Object.values(Et).includes(e)&&this.dispatchEvent(new CustomEvent(e,{detail:t.data[e],bubbles:e===Et.LOAD}));else console.error(`Version ${t.data.v} is not supported`)}onInitialize(){const t={};for(const e of this.attributes)vt.includes(e.name)&&(this._validateAttributeValue(e),t[e.name]=e.name===_t.LAYER?e.value.split(",").map((t=>this[t]??t)).join():e.value);t[_t.EC_MAP_ACTIVATION]||(t[_t.EC_MAP_ACTIVATION]=!1),t[_t.EC_LINK_TO_APP]||(t[_t.EC_LINK_TO_APP]=!1),this.#u=((t,e={})=>{const n=new URL(t),r=n.toString().replace(n.search,""),i=new URLSearchParams(n.search);for(const[t,n]of Object.entries(e))null===n?i.delete(t):i.set(t,n);return`${r}?${i.toString()}`})(`${this.#c.getValueAsPath("FRONTEND_URL")}${At.EMBED}`,t),this.#d.getWindow().parent.addEventListener("message",(t=>this._onReceive(t)))}createView(){return P`
			<style>
				${ft()}
			</style>
			<iframe
				src=${this.#u}
				width="100%"
				height="100%"
				loading="lazy"
				frameborder="0"
				style="border:0"
				role="application"
				name=${this.#m}
			></iframe>
		`}_validateAttributeValue(t){switch(t.name){case _t.ZOOM:return this.#p((()=>m(t.value,!1)),`Attribute "${t.name}" must be a number`);case _t.CENTER:return this.#p((()=>!!It(t.value)),`Attribute "${t.name}" must represent a coordinate (easting, northing)`);case _t.ROTATION:return this.#p((()=>m(t.value,!1)),`Attribute "${t.name}" must be a number`);case _t.LAYER:return!0;case _t.LAYER_VISIBILITY:return t.value?.trim()&&t.value.split(",").forEach((e=>this.#p((()=>u(e,!1)),`Attribute "${t.name}" must contain comma-separated boolean values`))),!0;case _t.LAYER_OPACITY:return t.value?.trim()&&t.value.split(",").forEach((e=>this.#p((()=>m(e,!1)&&parseFloat(e)>=0&&parseFloat(e)<=1),`Attribute "${t.name}" must contain comma-separated numbers between 0 and 1`))),!0;case _t.EC_SRID:{const e=[4326,this.#h.getSrid(),this.#h.getLocalProjectedSrid()].map((t=>t.toString()));return this.#p((()=>e.includes(t.value)),`Attribute "${t.name}" must be one of [${e.join(",")}]`)}case _t.EC_GEOMETRY_FORMAT:{const e=[wt.EWKT,wt.GEOJSON,wt.KML,wt.GPX];return this.#p((()=>e.includes(t.value)),`Attribute "${t.name}" must be one of [${e.join(",")}]`)}case _t.EC_DRAW_TOOL:{const e=["point","line","polygon"];return this.#p((()=>t.value.split(",").every((t=>e.includes(t)))),`Attribute "${t.name}" must only contain one or more values of [${e.join(",")}]`)}case _t.EC_MAP_ACTIVATION:case _t.EC_LINK_TO_APP:return this.#p((()=>u(t.value,!1)),`Attribute "${t.name}" must be a boolean`);default:return!1}}get _iFrameId(){return this.#m}static get tag(){return"bayern-atlas"}static get BROADCAST_THROTTLE_DELAY_MS(){return 100}get center(){return It(this.getAttribute(_t.CENTER))}get zoom(){const t=Number.parseFloat(this.getAttribute(_t.ZOOM));return Number.isNaN(t)?null:t}get rotation(){const t=Number.parseFloat(this.getAttribute(_t.ROTATION));return Number.isNaN(t)?null:t}get layers(){return this.getAttribute(_t.LAYER)?.trim()?this.getAttribute(_t.LAYER)?.split(",").filter((t=>!!t)):[]}get layersVisibility(){return this.getAttribute(_t.LAYER_VISIBILITY)?.trim()?this.getAttribute(_t.LAYER_VISIBILITY).split(",").map((t=>(t=>{switch(t?.toLowerCase?.()){case"false":return!1;case"true":return!0;default:return null}})(t))):[]}get layersOpacity(){return this.getAttribute(_t.LAYER_OPACITY)?.trim()?this.getAttribute(_t.LAYER_OPACITY)?.split(",").map((t=>parseFloat(t))):[]}modifyView(t={}){const{zoom:e,center:n,rotation:r}=t;p(e)&&this.#p((()=>m(e)),'"View.zoom" must be a number'),p(n)&&this.#p((()=>g(n)),'"View.center" must be a coordinate'),p(r)&&this.#p((()=>m(r)),'"View.rotation" must be a number');const i={};i[yt.MODIFY_VIEW]=St({zoom:e,center:n,rotation:r}),this.#g(i)}#b=(t,e)=>{const{opacity:n,visible:r,zIndex:i,style:o,displayFeatureLabels:a}=t;p(n)&&this.#p((()=>m(n)&&n>=0&&n<=1),`"${e}.opacity" must be a number between 0 and 1`),p(r)&&this.#p((()=>u(r)),`"${e}.visible" must be a boolean`),p(i)&&this.#p((()=>m(i)),`"${e}.zIndex" must be a number`),p(a)&&this.#p((()=>u(a)),`"${e}.displayFeatureLabels" must be a boolean`),p(o)&&this.#p((()=>((t,e=!1)=>e?/^#[0-9A-F]{6}[0-9a-f]{0,2}$/i.test(t):/^#[0-9A-F]{6}$/i.test(t))(o.baseColor)),`"${e}.style.baseColor" must be a valid hex color representation`)};modifyLayer(t,e={}){this.#p((()=>h(t)),'"layerId" must be a string'),this.#b(e,"ModifyLayerOptions");const{opacity:n,visible:r,zIndex:i,style:o,displayFeatureLabels:a}=e,s={};s[yt.MODIFY_LAYER]={id:t,options:St({opacity:n,visible:r,zIndex:i,style:o,displayFeatureLabels:a})},this.#g(s)}addLayer(t,e={}){this.#p((()=>h(t)),'"geoResourceIdOrData" must be a string');const{opacity:n,visible:r,zIndex:i,style:o,displayFeatureLabels:a,zoomToExtent:s,layerId:l,modifiable:c}=e;p(l)&&this.#p((()=>h(l)),'"AddLayerOptions.layerId" must be a string'),p(s)&&this.#p((()=>u(s)),'"AddLayerOptions.zoomToExtent" must be a boolean'),p(c)&&this.#p((()=>u(c)),'"AddLayerOptions.modifiable" must be a boolean'),this.#b(e,"AddLayerOptions");const d=this[l]??l??`l_${b()}`,m={},g=this[t]??t;return m[yt.ADD_LAYER]={id:d,geoResourceIdOrData:g,options:St({opacity:n,visible:r,zIndex:i,style:o,displayFeatureLabels:a,zoomToExtent:s,modifiable:c})},this.#g(m),d}removeLayer(t){this.#p((()=>h(t)),'"layerId" must be a string');const e={};e[yt.REMOVE_LAYER]={id:t},this.#g(e)}zoomToExtent(t){this.#p((()=>{return e=t,Array.isArray(e)&&4===e.length&&m(e[0])&&m(e[1])&&m(e[2])&&m(e[3]);var e}),'"extent" must be a Extent');const e={};e[yt.ZOOM_TO_EXTENT]={extent:t},this.#g(e)}zoomToLayerExtent(t){this.#p((()=>h(t)),'"layerId" must be a string');const e={};e[yt.ZOOM_TO_LAYER_EXTENT]={id:t},this.#g(e)}addMarker(t,e={}){const{id:n,label:r}=e;this.#p((()=>g(t)),'"coordinate" must be a Coordinate'),p(n)&&this.#p((()=>h(n)),'"MarkerOptions.id" must be a string'),p(r)&&this.#p((()=>h(r)),'"MarkerOptions.label" must be a string');const i=n??`m_${b()}`,o={};return o[yt.ADD_MARKER]={coordinate:t,options:St({id:i,label:r})},this.#g(o),i}removeMarker(t){this.#p((()=>h(t)),'"markerId" must be a string');const e={};e[yt.REMOVE_MARKER]={id:t},this.#g(e)}clearMarkers(){const t={};t[yt.CLEAR_MARKERS]={},this.#g(t)}clearHighlights(){const t={};t[yt.CLEAR_HIGHLIGHTS]={},this.#g(t)}closeTool(){const t={};t[yt.CLOSE_TOOL]={},this.#g(t)}get GEORESOURCE_WEB(){return"atkis"}get GEORESOURCE_WEB_GRAY(){return"atkis_sw"}get GEORESOURCE_AERIAL(){return"luftbild_labels"}get GEORESOURCE_TOPOGRAPHIC(){return"tk"}get GEORESOURCE_HISTORIC(){return"historisch"}get GEORESOURCE_WEB_VECTOR(){return"vt_standard"}get GEORESOURCE_WEB_VECTOR_GRAY(){return"vt_grau"}}window.customElements.get(Ot.tag)||window.customElements.define(Ot.tag,Ot)})()})();