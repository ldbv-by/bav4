(self.webpackChunkbav4=self.webpackChunkbav4||[]).push([[350,591],{36e3:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".badge {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tborder-radius: 2em;\n\tpadding: 0.2em 0.5em;\n}\n.icon {\n\tmask-size: cover;\n\t-webkit-mask-size: cover;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\tmargin-right: 0.2em;\n}\n.text {\n\tfont-weight: bold;\n}\n",""]),e.exports=i},81706:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".button {\n\tcursor: pointer;\n\tpadding: 0.8em 1em;\n\tbackground: transparent;\n\tborder: none;\n\tfont-weight: bold;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\tcolor: var(--primary-color);\n\twidth: 100%;\n}\n.primary {\n\tbackground-color: var(--primary-color);\n\tcolor: var(--text3);\n\topacity: 0.8;\n}\n.secondary {\n\tbackground-color: var(--primary-bg-color);\n\tcolor: var(--primary-color);\n}\n.primary.button:focus-visible {\n\topacity: 1;\n}\n.secondary.button:focus-visible {\n\tbackground: var(--primary-color);\n\tcolor: var(--text3);\n}\n.primary.disabled {\n\topacity: 0.7;\n\tcursor: not-allowed;\n\tcolor: var(--text1);\n\tbackground: var(--secondary-bg-color);\n}\n.secondary.disabled {\n\topacity: 0.7;\n\tcursor: not-allowed;\n\tcolor: var(--text1);\n}\n.loading {\n\tborder: none;\n\toutline: none;\n\tposition: relative;\n\tbackground-color: var(--primary-color);\n\tcolor: var(--text3);\n\tfont-size: 1rem;\n\tfont-family: 'Poppins', sans-serif;\n\toverflow: hidden;\n}\n.loading::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 150%;\n\theight: 100%;\n\tbackground: repeating-linear-gradient(60deg, transparent, transparent 0.75rem, rgba(255, 255, 255, 0.15) 0.75rem, rgba(255, 255, 255, 0.15) 1.5rem);\n\tanimation: load 0.8s infinite linear;\n}\n.secondary.button:focus-visible,\n.primary.button:focus-visible,\n.loading.button:focus-visible {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n.primary.button:hover:enabled {\n\topacity: 1;\n}\n.secondary.button:hover:enabled {\n\tbackground: var(--primary-color);\n\tcolor: var(--text3);\n}\n@keyframes load {\n\t0% {\n\t\ttransform: translateX(0);\n\t}\n\t100% {\n\t\ttransform: translateX(-1.75rem);\n\t}\n}\n.icon {\n\theight: 1em;\n\twidth: 1em;\n\tdisplay: flex;\n\tfont-size: 1.7rem;\n\tposition: absolute;\n\tleft: 0.4em;\n\ttop: 0.3em;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n}\n.primary .icon {\n\tbackground: var(--text3);\n}\n.loading .icon {\n\tbackground: var(--text3);\n}\n.secondary .icon {\n\tbackground: var(--primary-color);\n}\n.primary.disabled .icon {\n\tbackground: var(--text1);\n}\n.secondary.disabled .icon {\n\tbackground: var(--text1) !important;\n}\n.iconbutton {\n\tpadding-left: 3em;\n\tposition: relative;\n}\n.secondary:hover .icon,\n.secondary:focus-visible .icon {\n\tbackground: var(--text3);\n}\n",""]),e.exports=i},47976:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,"/* \nbase from: https://codepen.io/avstorm/pen/vYYBxRM\n*/\n.ba-checkbox {\n\t-webkit-user-select: none;\n\tuser-select: none;\n\t-webkit-tap-highlight-color: transparent;\n\tcursor: pointer;\n\tdisplay: flex;\n}\n.ba-checkbox span {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\ttransform: translate3d(0, 0, 0);\n}\n.ba-checkbox span:first-child {\n\tposition: relative;\n\twidth: 1.5em;\n\theight: 1.5em;\n\tborder-radius: 50%;\n\ttransform: scale(1);\n\tvertical-align: middle;\n\tborder: 1px solid var(--text2);\n\ttransition: all 0.2s ease;\n\tmargin: auto 0;\n}\n.ba-checkbox span:first-child svg {\n\tposition: absolute;\n\tz-index: 1;\n\tfill: none;\n\tstroke: var(--text3);\n\tstroke-width: 2;\n\tstroke-linecap: round;\n\tstroke-linejoin: round;\n\tstroke-dasharray: 1.2em;\n\tstroke-dashoffset: 1.2em;\n\ttransition: all var(--animation-duration-small-open) var(--animation-easing-open);\n\ttransition-delay: 0.1s;\n\ttransform: translate3d(0, 0, 0);\n\ttop: 0;\n\tleft: 0;\n\tpadding: 0.3em;\n}\n.ba-checkbox span:first-child:before {\n\tcontent: '';\n\twidth: 100%;\n\tmin-width: 1.5em;\n\theight: 100%;\n\tbackground: var(--primary-color);\n\tdisplay: block;\n\ttransform: scale(0);\n\topacity: 1;\n\tborder-radius: 50%;\n\ttransition-delay: 0.2s;\n}\n.ba-checkbox span:last-child {\n\tmargin: auto 1em;\n}\n.ba-checkbox span:last-child:after {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0.5em;\n\tleft: 0;\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--icon-default-color);\n\ttransform-origin: 0 0;\n\ttransform: scaleX(0);\n}\n.ba-checkbox:hover span:first-child {\n\tborder-color: var(--primary-color);\n}\n.input:checked + .ba-checkbox span:first-child {\n\tborder-color: var(--primary-color);\n\tbackground: var(--primary-color);\n\tanimation: check 0.6s ease;\n}\n.input:disabled + .ba-checkbox span:first-child {\n\tborder-color: var(--secondary-bg-color);\n\tbackground: var(--secondary-bg-color);\n\tanimation: check 0.6s ease;\n}\n.input:checked + .ba-checkbox span:first-child svg {\n\tstroke-dashoffset: 0;\n}\n.input:disabled + .ba-checkbox span:first-child svg {\n\tstroke: var(--text2);\n}\n.input:checked + .ba-checkbox span:first-child:before {\n\ttransform: scale(2.2);\n\topacity: 0;\n\ttransition: all 0.6s ease;\n}\n@keyframes check {\n\t50% {\n\t\ttransform: scale(1.1);\n\t}\n}\n",""]),e.exports=i},71912:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".icon {\n\tmask-size: cover;\n\t-webkit-mask-size: cover;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: var(--size);\n\twidth: var(--size);\n}\n\n.icon.disabled {\n\tfilter: brightness(0.8);\n\tcursor: not-allowed;\n}\n\n.icon:active {\n\ttransform: scale(1.15);\n}\n\n.icon.disabled:hover {\n\ttransform: none;\n}\n\n.icon.disabled:active {\n\ttransform: none;\n}\n\n.anchor {\n\tdisplay: inline-block;\n\tbackground: transparent;\n\tborder: none;\n\tborder-radius: var(--radius);\n\theight: var(--size);\n\twidth: var(--size);\n}\n",""]),e.exports=i},54739:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".menuitem {\n\twidth: 100%;\n\tpadding: 0.5em 0.8em;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tborder: none;\n\tbackground-color: var(--tertiary-bg-color);\n\tpointer-events: auto;\n}\n\n.touch {\n\tbackground-color: var(--primary-bg-color);\n}\n\n.menuitem:hover {\n\tbackground-color: var(--header-background-color);\n}\n\n.menuitem:disabled,\n.menuitem[disabled] {\n\tbackground-color: var(--tertiary-bg-color);\n\tcolor: var(--text1);\n\topacity: 0.38;\n\tcursor: default;\n}\n\n.menuitem__icon {\n\theight: 2em;\n\twidth: 2em;\n\tbackground-color: var(--primary-color);\n}\n\n.menuitem__text {\n\tpadding-left: 1em;\n\twhite-space: nowrap;\n}\n",""]),e.exports=i},66032:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(60704),s=n(2151),c=i(r),l=o(a),d=o(s);c.push([e.id,`:host {\n\tdisplay: inline-block;\n}\n\n.menu__button {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: 1.9em;\n\twidth: 1.9em;\n\tbackground-color: var(--primary-color);\n}\n\n.kebab {\n\tmask: url(${l});\n\t-webkit-mask-image: url(${l});\n}\n\n.meatball {\n\tmask: url(${d});\n\t-webkit-mask-image: url(${d});\n}\n\n.anchor {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tbackground: transparent;\n\tborder: none;\n\tborder-radius: calc(2.5em / 2);\n\theight: 2.5em;\n\twidth: 2.5em;\n\tpadding: 0.3em;\n}\n\n.anchor:hover {\n\tbackground: var(--header-background-color);\n}\n\n.menu__container {\n\t--anchor-x: 0;\n\t--anchor-y: 0;\n\tposition: absolute;\n\tright: 0;\n\tborder: 1px solid var(--primary-bg-color);\n\tbox-shadow: 0px 0px 4px rgb(0 0 0 / 50%);\n\tbackground-color: var(--primary-bg-color);\n\tz-index: 100;\n\tpointer-events: auto;\n\ttransform-origin: top right;\n\tanimation-name: openScale;\n\tanimation-duration: var(--animation-duration-medium-open);\n\tanimation-iteration-count: 1;\n}\n\n@keyframes openScale {\n\t0% {\n\t\tscale: 0;\n\t}\n\t100% {\n\t\tscale: 1;\n\t}\n}\n\n.sector0 {\n\ttransform: translateX(calc(var(--anchor-x))) translateY(calc(var(--anchor-y)));\n}\n\n.sector1 {\n\ttransform: translateX(calc(var(--anchor-x) - 100%)) translateY(calc(var(--anchor-y)));\n}\n\n.sector2 {\n\ttransform: translateX(calc(var(--anchor-x) - 100%)) translateY(calc(var(--anchor-y) - 100%));\n}\n\n.sector3 {\n\ttransform: translateX(calc(var(--anchor-x))) translateY(calc(var(--anchor-y) - 100%));\n}\n\n.collapsed {\n\tdisplay: none;\n}\n`,""]),e.exports=c},38440:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".loading {\n\tcolor: var(--primary-color);\n}\n\n.loading:after {\n\tcontent: ' .';\n\tanimation: dots 1s steps(5, end) infinite;\n\tcolor: var(--primary-color);\n}\n\n@keyframes dots {\n\t0%,\n\t20% {\n\t\tcolor: var(--primary-bg-color);\n\t\ttext-shadow:\n\t\t\t0.25em 0 0 var(--primary-bg-color),\n\t\t\t0.5em 0 0 var(--primary-bg-color);\n\t}\n\t40% {\n\t\tcolor: var(--primary-color);\n\t\ttext-shadow:\n\t\t\t0.25em 0 0 var(--primary-bg-color),\n\t\t\t0.5em 0 0 var(--primary-bg-color);\n\t}\n\t60% {\n\t\ttext-shadow:\n\t\t\t0.25em 0 0 var(--primary-color),\n\t\t\t0.5em 0 0 var(--primary-bg-color);\n\t}\n\t80%,\n\t100% {\n\t\ttext-shadow:\n\t\t\t0.25em 0 0 var(--primary-color),\n\t\t\t0.5em 0 0 var(--primary-color);\n\t}\n}\n",""]),e.exports=i},26010:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,"#baSwitch {\n\tfont-size: 0.7rem;\n}\n\n.ba-switch {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 2ch;\n\tjustify-content: space-between;\n\n\t--thumb-size: 1.4rem;\n\t--thumb: var(--text2);\n\t--thumb-highlight: hsl(var(--brand-hue) 0% 100% / 25%); /* todo:transform to/replace with a global defined color */\n\n\t--thumb-color: var(--thumb);\n\t--thumb-color-active: var(--primary-color);\n\t--thumb-color-highlight: var(--thumb-highlight);\n\n\t--track-size: calc(var(--thumb-size) * 2);\n\t--track-padding: 0.25em;\n\n\t--track-inactive: var(--secondary-bg-color);\n\t--track-active: var(--primary-color-lighter);\n\n\t--track-color-inactive: var(--track-inactive);\n\t--track-color-active: var(--track-active);\n\n\t--thumb-position: 0%;\n\t--thumb-transition-duration: var(--animation-duration-small-open);\n\n\tcursor: pointer;\n\tuser-select: none;\n\t-webkit-tap-highlight-color: transparent;\n\n\t--isLTR: 1;\n\n\t&:dir(rtl) {\n\t\t--isLTR: -1;\n\t}\n}\n\n.ba-switch > label,\n.cursor-disabled {\n\tcursor: not-allowed;\n\t--thumb-color: transparent;\n}\n\n.ba-switch > label,\n.cursor-disabled::before {\n\tcursor: not-allowed;\n\tbox-shadow: inset 0 0 0 2px hsl(var(--brand-hue) 0% 0% / 50%); /* todo:transform to/replace with a global defined color */\n}\n\n.ba-switch > input {\n\tappearance: none;\n\tpointer-events: none;\n\toutline-offset: 5px;\n\tbox-sizing: content-box;\n\n\tpadding: var(--track-padding);\n\tbackground: var(--track-color-inactive);\n\tinline-size: var(--track-size);\n\tblock-size: var(--thumb-size);\n\tborder-radius: var(--track-size);\n\n\tflex-shrink: 0;\n\tdisplay: grid;\n\talign-items: center;\n\tgrid: [track] 1fr / [track] 1fr;\n\ttouch-action: pan-y;\n\tborder: 0.2em solid transparent;\n\ttransition: box-shadow var(--animation-duration-small-open) ease;\n}\n.ba-switch > input:focus-visible {\n\tborder: 0.2em solid var(--tertiary-bg-color);\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n\n.ba-switch > input::before {\n\ttransform: translateX(var(--thumb-position));\n\t--highlight-size: 0;\n\n\tcontent: '';\n\tcursor: pointer;\n\tpointer-events: auto;\n\tgrid-area: track;\n\tinline-size: var(--thumb-size);\n\tblock-size: var(--thumb-size);\n\n\tbackground: var(--thumb-color);\n\tbox-shadow: 0 0 0 var(--highlight-size) var(--thumb-color-highlight);\n\tborder-radius: 50%;\n\ttransition:\n\t\ttransform var(--thumb-transition-duration) ease,\n\t\tbox-shadow 0.25s ease;\n}\n\n.ba-switch > input:disabled {\n\tcursor: not-allowed;\n\t--thumb-color: transparent !important;\n}\n\n.ba-switch > input:disabled::before {\n\tcursor: not-allowed;\n\tbox-shadow: inset 0 0 0 2px hsl(var(--brand-hue) 0% 0% / 50%); /* todo:transform to/replace with a global defined color */\n}\n\n.ba-switch > input:focus::before,\n.ba-switch > input:not(:disabled):hover::before {\n\t--highlight-size: 0.5rem;\n}\n\n/* positioned at the end of the track: track length - 100% (thumb width) */\n.ba-switch > input:checked {\n\tbackground: var(--track-color-active);\n\t--thumb-position: calc((var(--track-size) - 100%) * var(--isLTR));\n\t--thumb-color: var(--thumb-color-active);\n}\n\n/* positioned in the center of the track: half the track - half the thumb */\n.ba-switch > input:indeterminate {\n\t--thumb-position: calc(((var(--track-size) / 2) - (var(--thumb-size) / 2)) * var(--isLTR));\n}\n\n.ba-switch.-vertical {\n\tmin-block-size: calc(var(--track-size) + calc(var(--track-padding) * 2));\n\n\t& > input {\n\t\ttransform: rotate(calc(90deg * var(--isLTR) * -1));\n\t\ttouch-action: pan-x;\n\t}\n}\n",""]),e.exports=i},85099:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".dropzone {\n\tz-index: -1;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: none;\n\tbackground-color: black;\n\topacity: 0.7;\n\tborder: 5px dashed #ccc;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-weight: bold;\n\tfont-size: 3rem;\n}\n\n.is_active {\n\tdisplay: flex;\n\tz-index: var(--z-dragndrop);\n}\n",""]),e.exports=i},53290:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".ba-list-item {\n\tdisplay: flex;\n\ttext-decoration: none;\n\toverflow-wrap: break-word;\n\tbackground: transparent;\n\tborder: 0;\n\twidth: 100%;\n\ttext-align: left;\n}\n.ba-list-item:focus-visible {\n\tbox-shadow: Inset 0 0 0 0.2em var(--primary-color-lighter);\n}\n.ba-list-item:hover {\n\tbackground: var(--header-background-color);\n}\n.ba-list-item span {\n\toverflow-wrap: break-word;\n}\n.ba-list-item > * {\n\tpadding-top: 0.8em;\n\tpadding-bottom: 0.8em;\n}\n.ba-list-item > *:first-child {\n\tpadding-left: 1.5em;\n}\n.ba-list-item > *:last-child {\n\tpadding-right: 1.5em;\n}\n.ba-list-item__pre {\n\tdisplay: flex;\n\tmargin: 0 1em 0 0;\n}\n.ba-list-item__after {\n\tdisplay: flex;\n\tpadding-left: 1.5em;\n\tposition: relative;\n\tbackground: transparent;\n\tborder: 0;\n}\n.ba-list-item__image {\n\theight: 4em;\n\twidth: 8em;\n\tmin-width: 8em;\n\tbackground: var(--secondary-bg-color);\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n}\n.ba-list-item__icon {\n\theight: 3em;\n\twidth: 3em;\n\tborder-radius: 2em;\n\tbackground: var(--secondary-bg-color);\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n}\n.ba-list-item__text {\n\tflex-grow: 1;\n}\n.ba-list-item__main-text {\n\tfont-size: 1.7rem;\n}\n.ba-list-item__primary-text {\n\tdisplay: block;\n\tfont-size: 1rem;\n\tfont-weight: bold;\n}\n.ba-list-item__secondary-text {\n\tfont-size: 0.95rem;\n\tcolor: var(--text2);\n}\n.ba-list-item__sub-header {\n\topacity: 0.8;\n\tmargin-left: 1.5em;\n}\n.ba-list-item__sub-header .ba-list-item__text {\n\tpadding-left: 0;\n\tfont-size: 0.9rem;\n}\n.ba-list-item__sub-header:hover {\n\tbackground: none;\n}\n.ba-section {\n\tborder-left: 0.3em solid var(--primary-bg-color);\n}\n.ba-section .ba-list-item > *:first-child {\n\tpadding-left: 1.2em;\n}\n.ba-section:hover {\n\tborder-left: 0.3em solid var(--secondary-color);\n}\n.ba-list-item__header {\n\tcursor: default;\n}\n.ba-section:hover .ba-list-item__header .ba-list-item__text {\n\tcolor: var(--primary-color) 0.3;\n}\n.ba-section:hover .ba-list-item__header {\n\tcolor: var(--secondary-color);\n}\n.ba-list-item__header.is-geometry:hover {\n\tcolor: var(--highlight-map-color);\n}\n.divider {\n\tborder-bottom: 1px solid var(--header-background-color);\n}\n.vertical-center {\n\tmargin: auto;\n}\n.ba-list {\n\tbackground-color: var(--tertiary-bg-color);\n\tbox-shadow: 0px 0px 4px rgba(0, 0, 0, 0.5);\n}\n.collapse-content {\n\tpadding: 0 1.2em 1em;\n\toverflow-x: scroll;\n}\n.featureinfo-header {\n\tposition: sticky;\n\tz-index: calc(var(--z-header) + 92);\n\ttop: 0;\n\tbackground-color: var(--tertiary-bg-color);\n\tborder-bottom: 1px solid var(--header-background-color);\n}\n.featureinfo-header:hover {\n\tbackground-color: var(--tertiary-bg-color);\n}\ntable,\ntr,\ntd,\nth {\n\tborder: 0;\n\tbackground: transparent;\n\twidth: 100%;\n}\n\na {\n\tword-break: break-word;\n\tcolor: var(--text4);\n}\na:hover {\n\ttext-decoration: underline;\n}\n\ntable {\n\tmargin-bottom: 1em;\n\tposition: relative;\n\tborder-collapse: collapse;\n\tborder: 1px solid var(--header-background-color);\n}\ntable:not(:only-of-type):not(:last-child):after {\n\tcontent: ' ';\n\tposition: absolute;\n\tleft: -1em;\n\tright: -1em;\n\tbottom: -1.5em;\n\tborder-bottom: 1px dotted var(--header-background-color);\n}\ntr {\n\tpadding: 0 0 0.8em 0;\n\tborder: 1px solid var(--header-background-color);\n}\nth,\ntd {\n\tpadding: 0.8em 1em;\n\twidth: auto;\n}\ntd:nth-last-child(2):first-child {\n\topacity: 0.8;\n\tfont-size: 0.9rem;\n\tfont-weight: bold;\n\tcolor: var(--text1);\n\tmin-width: 11em;\n\tmax-width: 22em;\n\twidth: auto;\n\tvertical-align: top;\n\tpadding-top: 0.9em;\n}\n.collapse-content b {\n\tfont-size: 0.9rem;\n\topacity: 0.8;\n}\ncaption {\n\ttext-align: left;\n\tpadding: 0.8em 1em;\n}\n.table-striped > tbody > tr:nth-of-type(odd) {\n\tbackground: var(--header-background-color);\n}\nimg {\n\twidth: 100%;\n\tmax-width: 25em;\n\theight: auto;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5 {\n\tmargin: 1em 0;\n}\n\n.button {\n\tcursor: pointer;\n\tpadding: 0.8em 1em;\n\tbackground: transparent;\n\tbackground-color: transparent;\n\tborder: none;\n\tfont-weight: bold;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n}\n.primary {\n\tbackground-color: var(--primary-color);\n\tcolor: var(--text3);\n\topacity: 0.8;\n}\n.secondary {\n\tbackground-color: var(--primary-bg-color);\n\tcolor: var(--primary-color);\n}\n.primary.button:focus-visible {\n\topacity: 1;\n}\n.secondary.button:focus-visible {\n\tbackground: var(--primary-color);\n\tcolor: var(--text3);\n}\n.secondary.button:focus-visible,\n.primary.button:focus-visible,\n.loading.button:focus-visible {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n.primary:hover {\n\topacity: 1;\n\ttext-decoration: none;\n}\n.secondary:hover {\n\tbackground: var(--primary-color);\n\tcolor: var(--text3);\n\ttext-decoration: none;\n}\n",""]),e.exports=i},48318:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(44389),s=i(r),c=o(a);s.push([e.id,`.ba-list {\n\tbackground-color: var(--tertiary-bg-color);\n}\n.ba-list:after {\n\tbackground-image: linear-gradient(180deg, var(--tertiary-bg-color) 20%, var(--primary-bg-color) 100%);\n\theight: 10em;\n\tcontent: '';\n\tposition: absolute;\n\tbottom: -10em;\n\tleft: -3em;\n\tright: -3em;\n\tmargin: 0.5em 1px 0;\n}\n.icon-share {\n\tbackground: var(--primary-bg-color);\n\tborder-radius: 2em;\n}\n\n.collapse-content {\n\tpadding: 0 1.2em;\n\toverflow-x: scroll;\n}\n\n.featureinfo-header {\n\tposition: sticky;\n\tz-index: calc(var(--z-header) + 92);\n\ttop: 0;\n\tbackground-color: var(--tertiary-bg-color);\n\tborder-bottom: 1px solid var(--header-background-color);\n}\n.featureinfo-header:hover {\n\tbackground-color: var(--tertiary-bg-color);\n}\n\n.info-container {\n\tmargin-bottom: -2em;\n}\n\n.info-icon {\n\theight: 13em;\n\twidth: 13em;\n\tbackground-size: contain;\n\tbackground-color: transparent;\n\tmargin: 3em auto 1em;\n\tbackground-image: url(${c});\n\tdisplay: flex;\n}\n.info-text {\n\tfont-size: 1.4em;\n\tmargin: 1em;\n\tdisplay: block;\n\tpadding: 1em;\n\ttext-align: center;\n}\n\nba-spinner {\n\tdisplay: block;\n\tpadding: 0.8em 1.2em;\n}\n\n/* not implemented yet  */\n.icon-rotate-90,\n.print,\n.share {\n\tdisplay: none;\n}\n\n/* GetFeat styl  */\n\ntable,\ntr,\ntd,\nth {\n\tborder: 0;\n\tbackground: transparent;\n\twidth: 100%;\n}\n\na {\n\tword-break: break-word;\n\tcolor: var(--text4);\n}\na:hover {\n\ttext-decoration: underline;\n}\n\ntable {\n\tmargin-bottom: 1em;\n\tposition: relative;\n\tborder-collapse: collapse;\n\tborder: 1px solid var(--header-background-color);\n}\n\ntable:not(:only-of-type):not(:last-child):after {\n\tcontent: ' ';\n\tposition: absolute;\n\tleft: -1em;\n\tright: -1em;\n\tbottom: -1.5em;\n\tborder-bottom: 1px dotted var(--header-background-color);\n}\n\ntr {\n\tpadding: 0 0 0.8em 0;\n\tborder: 1px solid var(--header-background-color);\n}\n\nth,\ntd {\n\tpadding: 0.8em 1em;\n\twidth: auto;\n}\n\n.is-portrait table,\n.is-portrait tr,\n.is-portrait th {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\ntd:nth-last-child(2):first-child {\n\topacity: 0.8;\n\tfont-size: 0.9rem;\n\tfont-weight: bold;\n\tcolor: var(--text1);\n\tmin-width: 11em;\n\tmax-width: 22em;\n\twidth: auto;\n\tvertical-align: top;\n\tpadding-top: 0.9em;\n}\n\n.collapse-content b {\n\tfont-size: 0.9rem;\n\topacity: 0.8;\n}\n\ncaption {\n\ttext-align: left;\n\tpadding: 0.8em 1em;\n}\n\n.table-striped > tbody > tr:nth-of-type(odd) {\n\tbackground: var(--header-background-color);\n}\n\nimg {\n\twidth: 100%;\n\tmax-width: 25em;\n\theight: auto;\n}\n\n.ba-list-item__header {\n\tcursor: default;\n}\n.ba-section:hover .ba-list-item__header .ba-list-item__text {\n\tcolor: var(--primary-color) 0.3;\n}\n.ba-section:hover .ba-list-item__header {\n\tcolor: var(--secondary-color);\n}\n.ba-list-item__header.is-geometry:hover {\n\tcolor: var(--highlight-map-color);\n}\n\n.content {\n\tmargin: 0 0 1em 0;\n}\n\n.chips__container {\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\tflex-flow: wrap;\n\tgap: 0.5em 0.8em;\n\tpadding: 1em 0;\n\tborder-bottom: 1px solid var(--header-background-color);\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5 {\n\tmargin: 1em 0;\n}\n\n.button {\n\tcursor: pointer;\n\tpadding: 0.8em 1em;\n\tbackground: transparent;\n\tbackground-color: transparent;\n\tborder: none;\n\tfont-weight: bold;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n}\n.primary {\n\tbackground-color: var(--primary-color);\n\tcolor: var(--text3);\n\topacity: 0.8;\n}\n.secondary {\n\tbackground-color: var(--primary-bg-color);\n\tcolor: var(--primary-color);\n}\n.primary.button:focus-visible {\n\topacity: 1;\n}\n.secondary.button:focus-visible {\n\tbackground: var(--primary-color);\n\tcolor: var(--text3);\n}\n.secondary.button:focus-visible,\n.primary.button:focus-visible,\n.loading.button:focus-visible {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n.primary:hover {\n\topacity: 1;\n\ttext-decoration: none;\n}\n.secondary:hover {\n\tbackground: var(--primary-color);\n\tcolor: var(--text3);\n\ttext-decoration: none;\n}\n`,""]),e.exports=s},25666:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".stats-container {\n\tmargin: 0;\n}\n\n.stats-content {\n\tpadding: 0.3em 0;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\tflex-grow: 4;\n}\n\n.stats-content span {\n\tmin-width: 7em;\n\tflex-grow: unset;\n}\n\n.stats-polygon-length {\n\tmargin-right: 1em;\n}\n",""]),e.exports=i},67167:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".coordinate-container {\n\tdisplay: flex;\n\tmargin: auto;\n\tuser-select: none;\n\tborder-left: 1px dotted var(--text1);\n\tpadding: 0 1em;\n}\n\n@media (max-width: 600px) {\n\t.coordinate-container {\n\t\tdisplay: none;\n\t}\n}\n\n.coordinate-label {\n\tpadding-left: 1em;\n\tmargin: auto;\n\tdisplay: block;\n}\n\n.select-coordinate {\n\tfont-size: 0.7rem;\n\tfont-weight: bold;\n\twidth: fit-content;\n\tpadding: 0 1.5em 0 0;\n}\n\n.select-coordinate-option {\n\tfont-weight: bold;\n}\n",""]),e.exports=i},55343:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".preload * {\n\t-webkit-transition: none !important;\n\t-moz-transition: none !important;\n\t-ms-transition: none !important;\n\t-o-transition: none !important;\n}\n.footer {\n\tposition: fixed;\n\tdisplay: flex;\n\talign-items: flex-end;\n\tz-index: var(--z-footer);\n\tbottom: 0.7em;\n\tleft: 1em;\n\ttransition: transform var(--animation-duration-large-open) var(--animation-easing-linear);\n}\n.content {\n\tdisplay: flex;\n\tfont-size: 0.8rem;\n\tbackground-color: var(--primary-bg-color-05);\n}\n.is-open .footer {\n\ttransform: translate(28em, 0);\n}\n.is-portrait .footer,\n.is-tablet .footer,\n.is-embedded .footer {\n\tbottom: 0;\n\tleft: 0;\n}\n.is-embedded .footer {\n\tz-index: calc(var(--z-mapbuttons) + 1);\n}\n.is-landscape.is-open-navigationRail .footer {\n\ttransform: translate(5.5em, 0);\n}\n.is-open.is-open-navigationRail .footer {\n\ttransform: translate(33.5em, 0);\n}\n.is-portrait:not(.is-embedded) .content,\n.is-tablet:not(.is-embedded) .content {\n\tdisplay: none;\n}\n.is-embedded .content ba-map-info {\n\tdisplay: none;\n}\n.is-desktop:not(.is-embedded) .content ba-privacy-policy {\n\tdisplay: none;\n}\n.scale {\n\tposition: absolute;\n\ttop: -2em;\n\tbackground: var(--secondary-color);\n\tfont-size: 0.7rem;\n}\n.is-portrait .scale,\n.is-tablet .scale,\n.is-embedded .scale {\n\tposition: absolute;\n\ttop: -2.2em;\n\tleft: 1.1em;\n}\n.ol-scale-line-inner {\n\tpadding: 0.2em 0.5em;\n\tcolor: var(--text3);\n\tfont-weight: bold;\n}\n",""]),e.exports=i},27249:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".content {\n\tdisplay: flex;\n\tjustify-content: normal;\n\twidth: 100%;\n\talign-items: center;\n\tpadding: 0.4em 0;\n}\n\n.coordinates {\n\tdisplay: block;\n}\n\n.base-layer-info {\n\tdisplay: block;\n\tmax-width: 30em;\n\tmax-height: 3em;\n\tborder-left: 1px dotted var(--text1);\n\tpadding: 0 1em;\n}\n",""]),e.exports=i},97717:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".privacy_policy-container {\n\tuser-select: none;\n\tfont-size: 0.8rem;\n\tdisplay: inline-block;\n\tposition: relative;\n\tborder-left: 1px dotted var(--text1);\n\tpadding: 0 1em;\n\tmargin: 0.4em 0;\n}\n.privacy-policy-link {\n\tfont-size: 0.8rem;\n\tcolor: var(--text4);\n}\n.privacy-policy-link:hover {\n\ttext-decoration: underline;\n}\n",""]),e.exports=i},92474:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".active-map__background {\n\tdisplay: flex;\n\talign-items: flex-end;\n\tjustify-content: center;\n\tposition: absolute;\n\theight: 100%;\n\twidth: 100%;\n\tz-index: var(--z-disableall);\n}\n.active-map__button {\n\topacity: 0;\n\tbackground: var(--text3);\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\toverflow: hidden;\n\tborder-radius: 0;\n\tmargin: 2em;\n\twidth: 100%;\n}\n.active-map__background:hover .active-map__button {\n\topacity: 1;\n}\n",""]),e.exports=i},96857:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".chips__button {\n\tposition: absolute;\n\tpadding: 0.3em 0.5em;\n\tfont-size: 0.9rem;\n\ttop: 0.7em;\n\tleft: 0.7em;\n\tborder: 1px solid var(--primary-color);\n\tbackground: var(--primary-bg-color);\n\tdisplay: flex;\n\tmargin-left: 0;\n\tz-index: calc(var(--z-header) + 20);\n\tborder-radius: 2em;\n\tcursor: pointer;\n\ttext-decoration: none;\n\tflex-shrink: 0;\n}\n.chips__button:focus {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n.chips__button-text {\n\tcolor: var(--text1);\n\tfont-weight: bold;\n\tmargin-left: 2em;\n\tpadding: 0.3em;\n}\n.chips__button:hover .chips__button-text {\n\tcolor: var(--primary-color);\n}\n.chips__icon {\n\tposition: absolute;\n\theight: 1.7em;\n\twidth: 1.7em;\n\tleft: 0.6em;\n\ttop: 0.3em;\n\tbackground: linear-gradient(to top, var(--secondary-color) 0%, var(--primary-color) 50%);\n}\n",""]),e.exports=i},84518:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".container {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tmax-width: 33vw;\n\tmin-width: 30em;\n\tfont-size: 0.9rem;\n\toverflow: hidden;\n\tz-index: calc(var(--z-header) + 30);\n\tmargin-bottom: 0.5em;\n\tbox-shadow: 0 2px 4px rgb(0 0 0 / 50%);\n}\n",""]),e.exports=i},29498:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".iframe__preview {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n}\n.container {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\theight: calc(100vh - 15em);\n}\n.iframe__code_string {\n\tmargin-top: 0.5em;\n\tresize: none;\n\tmin-height: 6em;\n\tposition: relative;\n\tpadding-right: 3em;\n}\n.iframe__copy_icon {\n\tposition: absolute;\n\tright: 0.77em;\n}\n.iframe__input {\n\tmargin: 0 0 0 1em !important;\n\twidth: 10em;\n}\n.iframe__input input {\n\ttext-align: right;\n}\n.iframe__input span {\n\ttext-align: left;\n\tdisplay: inline-block;\n\tmin-width: 1.2em;\n\tposition: absolute;\n\ttop: 1em;\n\tright: 0.5em;\n\tcolor: var(--text2);\n}\n.iframe__input input:read-only {\n\tcontent: '100';\n}\ninput[type='range']:focus {\n\tbox-shadow: none !important;\n}\n.fieldset .control-label {\n\ttop: -1rem;\n}\n.fieldset {\n\tdisplay: flex;\n}\niframe {\n\tborder: 0;\n\ttransition: all var(--animation-duration-medium-close) var(--animation-easing-open);\n}\niframe[width='100%'] {\n\twidth: 800px;\n}\n.iframe__section {\n\tborder-bottom: 1px solid var(--header-background-color);\n}\n.iframe__controls {\n\tposition: fixed;\n\tz-index: 999999;\n\tpadding: 0.8em 1.5em;\n\tbackground: var(--primary-bg-color);\n\tbox-shadow: 0px 0px 4px rgb(0 0 0 / 50%);\n\ttransition: all var(--animation-duration-medium-close) var(--animation-easing-open);\n\twidth: 30em;\n\ttop: 100vh;\n\tmargin-top: -24em;\n}\n.iframe__controls-section {\n\tdisplay: flex;\n\talign-content: space-evenly;\n\tflex-direction: column;\n}\n.iframe__code {\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n}\n.iframe__toggle {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n#iframe_slider_width:disabled {\n\tvisibility: hidden;\n}\n.iframe__toggle_text {\n\tposition: absolute;\n\ttop: 1em;\n\tpointer-events: none;\n\tpadding-left: 0.125rem;\n\tz-index: 1;\n\tcolor: var(--text1);\n\tfont-size: 1rem;\n\tfont-weight: normal;\n\t-webkit-transition: all 0.28s ease;\n\ttransition: all 0.28s ease;\n}\n.iframe__toggle_sub-text {\n\tmargin: 1em 0;\n\twidth: 22.8em;\n\tcolor: var(--text2);\n}\n.width_placeholder {\n\tfont-size: 1.5rem;\n\tmargin: 0.3em 0.2em 0 1em;\n\tmargin-left: 13.9em !important;\n\tmin-height: 1.6em;\n\tpadding-left: 0.1em;\n\tpadding-top: 0.3em;\n}\n.width_placeholder-sub {\n\ttop: 2.5em !important;\n}\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n\t-webkit-appearance: none;\n\tmargin: 0;\n}\ninput[type='number'] {\n\t-moz-appearance: textfield;\n}\n.iframe__input input[type='number'] {\n\tfont-size: 1.5rem;\n\tpadding: 0 1.5em 0 0;\n\tborder: 0;\n}\n\n.iframe__container {\n\tdisplay: flex;\n\tpadding-top: 1.5em;\n\tposition: relative;\n}\n\n.iframe__container label {\n\tposition: absolute;\n\ttop: 0em;\n}\n.iframe__container-width {\n\tmin-height: 4.8em;\n}\n#toggleAutoWidth {\n\twidth: 100%;\n}\n",""]),e.exports=i},93863:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(40555),s=n(11177),c=n(83241),l=i(r),d=o(a),u=o(s),g=o(c);l.push([e.id,`.draw-tool {\n\tposition: absolute;\n\tz-index: var(--z-header);\n\ttop: 0;\n\tright: 0;\n\tbackground: var(--primary-bg-color);\n\tbox-shadow: 0 2px 4px rgb(0 0 0 / 50%);\n\tmargin: 0.2em;\n}\n\n.draw-tool__content {\n\tdisplay: flex;\n\tjustify-content: center;\n\tbackground: var(--primary-bg-color);\n\tflex-direction: column;\n}\n\n.draw-tool__actions {\n\tdisplay: flex;\n\tborder-top: 1px solid var(--header-background-color);\n\tmargin-top: 0.5em;\n}\n\n.draw-tool__buttons {\n\tfont-size: 1.2rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\tbackground: var(--primary-bg-color);\n\tmargin: 0 0 1em 0;\n}\n\n.draw-tool__buttons > button {\n\tposition: relative;\n\tbackground: transparent;\n\tcursor: pointer;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\tcolor: rgba(255, 255, 255, 0.8);\n\tpadding: 0 0.5em;\n\tborder: 0;\n\tborder-right: 1px dotted var(--header-background-color);\n\tfont-size: 1.2rem;\n}\n\n.draw-tool__buttons > button:last-child {\n\tborder-right: none;\n}\n\n.is-disabled {\n\tdisplay: none;\n}\n\n.draw-tool__background {\n\theight: 0em;\n\twidth: 0em;\n\tborder-radius: 2.5em;\n\tposition: absolute;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\tleft: 2.3em;\n\ttransform: translate(-50%, -50%);\n\ttop: 1.8em;\n}\n\n.is-active .draw-tool__background {\n\theight: 3.4em;\n\twidth: 3.4em;\n\tbackground-color: var(--primary-color) !important;\n\tbox-shadow:\n\t\t0 1px 2px rgba(0, 0, 0, 0.5),\n\t\t0 0 0 0.2em var(--primary-color-lighter);\n}\n\n.draw-tool__icon {\n\tbackground: var(--primary-color);\n\t-webkit-mask-size: cover;\n\tmask-size: cover;\n\theight: 2em;\n\twidth: 2em;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\tmargin: 0.8em 0.8em;\n\tposition: absolute;\n}\n\n.is-active .draw-tool__icon {\n\tbackground: var(--text3);\n}\n\n.draw-tool__button:hover:not(.disabled-tool__button) .draw-tool__background {\n\theight: 3.4em;\n\twidth: 3.4em;\n\tbackground-color: var(--secondary-color);\n}\n\n.draw-tool__button:hover:not(.disabled-tool__button) .draw-tool__icon {\n\tbackground: var(--text3);\n}\n\n.draw-tool__button:focus-visible:not(.disabled-tool__button) .draw-tool__background {\n\theight: 3.4em;\n\twidth: 3.4em;\n\tbackground-color: var(--secondary-color);\n\tbox-shadow:\n\t\t0 1px 2px rgba(0, 0, 0, 0.5),\n\t\t0 0 0 0.2em var(--primary-color-lighter);\n}\n\n.draw-tool__button:focus-visible {\n\tbox-shadow: none;\n}\n\n.draw-tool__button:focus-visible:not(.disabled-tool__button) .draw-tool__icon {\n\tbackground: var(--text3);\n}\n\n.draw-tool__button-text {\n\tfont-size: 0.8rem;\n\tcolor: var(--text1);\n\tmargin: 5.5em 0.3em 0.5em 0.3em;\n\tuser-select: none;\n\ttext-align: center;\n\tmin-width: 5em;\n}\n\n.line {\n\tmask-image: url(${d});\n\t-webkit-mask-image: url(${d});\n}\n\n.polygon {\n\tmask-image: url(${u});\n\t-webkit-mask-image: url(${u});\n}\n\n.symbol {\n\tmask-image: url(${g});\n\t-webkit-mask-image: url(${g});\n}\n\n.draw-tool-container {\n\tmin-width: 20em;\n}\n\n.draw-tool__enable .draw-tool-container {\n\tdisplay: block;\n}\n.draw-tool__disable .draw-tool-container {\n\tdisplay: none;\n}\n.tool-container__close-button {\n\tmargin: 0;\n\twidth: 3em;\n\theight: 3em;\n\tborder-radius: 1.5em;\n\tborder: 0;\n\tbackground: var(--primary-bg-color);\n\tfont-weight: bold;\n\tcursor: pointer;\n\tdisplay: block;\n\tpadding: 0.7em;\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n}\n.tool-container__close-button:hover {\n\tbackground: var(--header-background-color);\n}\n.ba-tool-container__title {\n\tpadding: 0.8em 1.5em;\n\tfont-weight: bold;\n}\n.draw-tool__enable .draw-tool__enable-button {\n\tdisplay: none;\n}\n\n.draw-tool__disable .draw-tool__disable-button {\n\tdisplay: none;\n}\n`,""]),e.exports=l},74048:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(49237),s=i(r),c=o(a);s.push([e.id,`.attribution-container {\n\tfont-size: 0.8rem;\n\tbackground-color: var(--primary-bg-color-05);\n\tpadding: 0.4em 2em 0.4em 1em;\n\ttext-overflow: ellipsis;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\twidth: 25em;\n\twhite-space: nowrap;\n\tvertical-align: middle;\n\tposition: relative;\n}\n.attribution-container.isembedded:not(.isopen) {\n\twidth: 13.5em;\n}\n.attribution-link {\n\tfont-size: 0.8rem;\n\tcolor: var(--text4);\n\tmargin-left: 0.2em;\n}\n.attribution-link:hover {\n\ttext-decoration: underline;\n}\n.collapse-button {\n\tpadding: 0.4em 1em;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tdisplay: none;\n\tcursor: pointer;\n}\n.chevron {\n\tposition: relative;\n\tmask: url(${c});\n\t-webkit-mask-image: url(${c});\n\tmask-image: url(${c});\n}\n.icon {\n\tbackground: var(--primary-color);\n\tmask-size: cover;\n\t-webkit-mask-size: cover;\n\tdisplay: inline-block;\n\theight: 16px;\n\twidth: 10px;\n\ttransform: rotate(270deg);\n}\n.isopen {\n\twhite-space: unset;\n\toverflow: hidden;\n\tpadding: 0.4em 1em;\n\twidth: 25em;\n\tmax-width: 100vw;\n}\n.isopen .attribution {\n\tdisplay: block;\n\tmargin: 0.5em;\n}\n.isopen.attribution-container {\n\tbackground-color: var(--primary-bg-color);\n}\n.isopen .icon {\n\t-moz-transform: rotate(90deg);\n\t-webkit-transform: rotate(90deg);\n\ttransform: rotate(90deg);\n}\n.isopen .collapse-button {\n\tpadding: 0.5em 1em;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n}\n\n.is-collapse {\n\tdisplay: block;\n}\n`,""]),e.exports=s},78612:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".context-menu {\n\t--mouse-x: 0;\n\t--mouse-y: 0;\n\tposition: fixed;\n\tmargin: 0;\n\tleft: 0;\n\ttop: 0;\n\tbackground-color: var(--primary-bg-color);\n\tborder: 3px solid var(--primary-bg-color);\n\tdisplay: block;\n\tbox-shadow: 0px 0px 4px rgb(0 0 0 / 50%);\n}\n/* sector: */\n/* 0-1 */\n/* 3-2\t */\n/* 100% when used inside a translate, yields the current element width !!*/\n\n.sector-0 {\n\ttransform: translateX(calc(var(--mouse-x))) translateY(calc(var(--mouse-y)));\n}\n.sector-0:after {\n\tcontent: '';\n\tposition: absolute;\n\tborder-top: 20px solid transparent;\n\tborder-left: 20px solid var(--primary-bg-color);\n\tborder-bottom: 3px solid var(--primary-bg-color);\n\ttop: -23px;\n\tleft: -3px;\n}\n.sector-0:before {\n\tcontent: '';\n\tposition: absolute;\n\tborder-top: 20px solid transparent;\n\tborder-left: 20px solid lightgray;\n\ttop: -24px;\n\tleft: -2px;\n\tbox-shadow: -3px 2px 2px rgb(0 0 0 / 15%);\n\tz-index: -1;\n}\n.sector-1 {\n\ttransform: translateX(calc(var(--mouse-x) - 100%)) translateY(calc(var(--mouse-y)));\n}\n.sector-1:after {\n\tcontent: '';\n\tposition: absolute;\n\tborder-top: 20px solid transparent;\n\tborder-right: 20px solid var(--primary-bg-color);\n\tborder-bottom: 3px solid var(--primary-bg-color);\n\ttop: -23px;\n\tright: -3px;\n}\n.sector-1:before {\n\tcontent: '';\n\tposition: absolute;\n\tborder-top: 20px solid transparent;\n\tborder-right: 20px solid lightgray;\n\ttop: -24px;\n\tright: -2px;\n\tbox-shadow: 3px 2px 2px rgb(0 0 0 / 15%);\n\tz-index: 0;\n}\n.sector-2 {\n\ttransform: translateX(calc(var(--mouse-x) - 100%)) translateY(calc(var(--mouse-y) - 100%));\n}\n.sector-2:after {\n\tcontent: '';\n\tposition: absolute;\n\tborder-bottom: 20px solid transparent;\n\tborder-right: 20px solid var(--primary-bg-color);\n\tborder-top: 3px solid var(--primary-bg-color);\n\tbottom: -23px;\n\tright: -3px;\n}\n.sector-2:before {\n\tcontent: '';\n\tposition: absolute;\n\tborder-bottom: 20px solid transparent;\n\tborder-right: 20px solid lightgray;\n\tbottom: -24px;\n\tright: -2px;\n\tbox-shadow: 3px -1px 2px rgb(0 0 0 / 15%);\n\tz-index: 0;\n}\n.sector-3 {\n\ttransform: translateX(calc(var(--mouse-x))) translateY(calc(var(--mouse-y) - 100%));\n}\n.sector-3:after {\n\tcontent: '';\n\tposition: absolute;\n\tborder-bottom: 20px solid transparent;\n\tborder-left: 20px solid var(--primary-bg-color);\n\tborder-top: 3px solid var(--primary-bg-color);\n\tbottom: -23px;\n\tleft: -3px;\n}\n.sector-3:before {\n\tcontent: '';\n\tposition: absolute;\n\tborder-bottom: 20px solid transparent;\n\tborder-left: 20px solid lightgray;\n\tbottom: -24px;\n\tleft: -2px;\n\tbox-shadow: -3px -1px 2px rgb(0 0 0 / 15%);\n\tz-index: 0;\n}\n.header {\n\tbackground-color: var(--primary-bg-color);\n\tcolor: var(--text1);\n\tpadding: 0.8em 1.5em;\n\tfont-weight: bold;\n\tdisplay: flex;\n}\n.close-icon {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\theight: 2.2em;\n\twidth: 2.2em;\n\tborder-radius: 3em;\n\tpadding: 0.3em;\n}\n.close-icon:hover {\n\tbackground: var(--header-background-color);\n}\n",""]),e.exports=i},22209:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".content {\n\tlist-style-type: none;\n\tmargin: 0;\n\tfont-size: 1rem;\n\tpadding: 0.3em 0 0.6em 0;\n}\n\n.content li {\n\tpadding: 0.3em 1.5em;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n}\n\n.content li .label {\n\tmin-width: 7em;\n\tmargin: auto;\n}\n\n.content li .coordinate {\n\tflex-grow: 4;\n\tmargin: auto;\n}\n\n.content li .icon {\n\tpadding-left: 1em;\n\tmargin: auto;\n}\n\n.chips {\n\tdisplay: flex;\n\tjustify-content: start;\n\tflex-flow: wrap;\n\tgap: 0.5em 0.8em;\n\tpadding: 0.8em 1.3em 1em;\n}\n",""]),e.exports=i},1616:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(81576),s=i(r),c=o(a);s.push([e.id,`.geolocation-icon {\n\tmask: url(${c});\n\t-webkit-mask-image: url(${c});\n\tbackground: var(--text3);\n}\n.icon {\n\tmask-size: cover;\n\t-webkit-mask-size: cover;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: 1.6em;\n\twidth: 1.6em;\n}\n.inactive {\n\tbackground: var(--text3);\n}\n.active {\n\tbackground: var(--error-color) !important;\n}\n\n.active .geolocation-icon {\n\tbackground: var(--text3);\n\tanimation-name: stretch;\n\tanimation-duration: 4s;\n\tanimation-timing-function: ease-out;\n\tanimation-delay: 0;\n\tanimation-direction: alternate;\n\tanimation-iteration-count: infinite;\n\tanimation-fill-mode: none;\n\tanimation-play-state: running;\n}\n\n@keyframes stretch {\n\t0% {\n\t\ttransform: scale(1);\n\t}\n\t10% {\n\t\ttransform: scale(1.2);\n\t}\n\t20% {\n\t\ttransform: scale(1);\n\t}\n\t100% {\n\t\ttransform: scale(1);\n\t}\n}\n\n.denied {\n\tbackground: var(--secondary-bg-color);\n}\n.geolocation-button {\n\tbackground-color: var(--primary-color);\n\tdisplay: inline-block;\n\theight: 2.5em;\n\twidth: 2.5em;\n\tborder-radius: 50%;\n\tborder: none;\n\toutline: none;\n\tpadding-top: 0.2em;\n}\n.geolocation-button:hover,\n.geolocation-button:focus {\n\ttransform: scale(1.1);\n}\n.geolocation-button:focus {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n.geolocation-button:active {\n\ttransform: scale(1.15);\n\tborder: none;\n}\n`,""]),e.exports=s},53648:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".map-buttons-container {\n\tposition: fixed;\n\tz-index: var(--z-mapbuttons);\n\tbottom: 5.7em;\n\tright: 0.4em;\n\tmargin: 0 1.25em;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n.map-buttons-container > * {\n\tmargin: 0.2em 0;\n}\n.is-portrait ba-zoom-buttons,\n.is-portrait ba-extent-button {\n\tdisplay: none;\n}\n.is-portrait > * {\n\ttransform: scale(1.5);\n\tmargin: 0 0 1.4em 0;\n}\n.map-buttons-container.is-portrait {\n\tbottom: 10.2em;\n}\n.is-portrait ba-rotation-button {\n\tmargin-bottom: 2.2em;\n}\n.is-embedded > * {\n\ttransform: scale(1);\n\tmargin: 0.3em !important;\n\tfont-size: 1.1rem;\n}\n.is-embedded.map-buttons-container {\n\tbottom: 1.5em;\n\tright: -0.5em;\n}\n.is-embedded ba-zoom-buttons {\n\tdisplay: block;\n}\n.is-embedded ba-geolocation-button,\n.is-embedded ba-extent-button {\n\tdisplay: none;\n}\n",""]),e.exports=i},95266:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(35427),s=i(r),c=o(a);s.push([e.id,`.rotation-icon {\n\tmask: url(${c});\n\t-webkit-mask-image: url(${c});\n}\n\n.icon {\n\tbackground: var(--text1);\n\tmask-size: cover;\n\t-webkit-mask-size: cover;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: 2em;\n\twidth: 2em;\n\tborder-top: 0.5em solid var(--error-color);\n}\n\n.rotation-button {\n\tbackground-color: var(--primary-bg-color);\n\tdisplay: inline-block;\n\theight: 2.5em;\n\twidth: 2.5em;\n\tborder-radius: 50%;\n\tborder: none;\n\toutline: none;\n\tpadding-top: 0.25em;\n\ttransition: all var(--animation-duration-small-open) var(--animation-easing-open);\n}\n\n.hidden {\n\tdisplay: none;\n}\n\n.rotation-button:hover,\n.rotation-button:focus {\n\ttransform: scale(1.1);\n}\n.rotation-button:focus {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n\n.rotation-button:active {\n\ttransform: scale(1.15);\n\tborder: none;\n}\n`,""]),e.exports=s},39576:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(13513),s=n(72157),c=i(r),l=o(a),d=o(s);c.push([e.id,`.zoom-buttons {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.button {\n\ttransition: all var(--animation-duration-small-open) var(--animation-easing-open);\n}\n\n.button:focus {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n\n.zoom-buttons :first-child {\n\tmargin: 0 0 0.4em 0;\n}\n\n.zoom-in {\n\tmask: url(${l});\n\t-webkit-mask-image: url(${l});\n}\n\n.zoom-out {\n\tmask: url(${d});\n\t-webkit-mask-image: url(${d});\n}\n\n.icon {\n\tbackground: var(--primary-color);\n\tmask-size: cover;\n\t-webkit-mask-size: cover;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: 2.5em;\n\twidth: 2.5em;\n}\n\n.button:hover,\n.button:focus {\n\ttransform: scale(1.1);\n}\n\n.button:active {\n\ttransform: scale(1.15);\n}\n\n.zoom-buttons .button {\n\tbackground-color: var(--text3);\n\tdisplay: inline-block;\n\theight: 2.5em;\n\twidth: 2.5em;\n\tborder-radius: 50%;\n\tborder: 0;\n}\n`,""]),e.exports=c},30004:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(44275),s=i(r),c=o(a);s.push([e.id,`.zoom-to-extent-icon {\n\tmask: url(${c});\n\t-webkit-mask-image: url(${c});\n}\n\n.icon {\n\tbackground: var(--text3);\n\tmask-size: cover;\n\t-webkit-mask-size: cover;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: 1.5em;\n\twidth: 1.5em;\n}\n\n.zoom-to-extent-button {\n\tbackground-color: var(--primary-color);\n\tdisplay: inline-block;\n\theight: 2.5em;\n\twidth: 2.5em;\n\tborder-radius: 50%;\n\tborder: none;\n\toutline: none;\n\tpadding-top: 0.25em;\n\ttransition: all var(--animation-duration-small-open) var(--animation-easing-open);\n}\n\n.zoom-to-extent-button:hover,\n.zoom-to-extent-button:focus {\n\ttransform: scale(1.1);\n}\n.zoom-to-extent-button:focus {\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n\n.zoom-to-extent-button:active {\n\ttransform: scale(1.15);\n\tborder: none;\n}\n`,""]),e.exports=s},68470:(e,t,n)=>{var r=n(31601),i=n(76314),o=n(4417),a=n(31831),s=n(29355),c=n(55973),l=i(r),d=o(a),u=o(s),g=o(c);l.push([e.id,`/* CSS classes for all ContentPanel implementations */\n.ba-list-item {\n\tdisplay: flex;\n\ttext-decoration: none;\n\tbackground: transparent;\n\tborder: 0;\n\twidth: 100%;\n\ttext-align: left;\n}\n.ba-list-item:focus-visible {\n\tbox-shadow: Inset 0 0 0 0.2em var(--primary-color-lighter);\n}\n.ba-list-item:hover {\n\tbackground: var(--header-background-color);\n}\n.ba-list-item span {\n\toverflow-wrap: anywhere;\n}\n.ba-list-item > * {\n\tpadding-top: 0.8em;\n\tpadding-bottom: 0.8em;\n}\n.ba-list-item > *:first-child {\n\tpadding-left: 1.5em;\n}\n.ba-list-item > *:last-child {\n\tpadding-right: 1.5em;\n}\n.ba-list-item__pre {\n\tdisplay: flex;\n\tmargin: 0 1em 0 0;\n}\n.ba-list-item__after {\n\tdisplay: flex;\n\tpadding-left: 1.5em;\n\tposition: relative;\n\tbackground: transparent;\n\tborder: 0;\n}\n.ba-list-item__image {\n\theight: 4em;\n\twidth: 8em;\n\tmin-width: 8em;\n\tbackground: var(--secondary-bg-color);\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n}\n.ba-list-item__icon {\n\theight: 3em;\n\twidth: 3em;\n\tborder-radius: 2em;\n\tbackground: var(--secondary-bg-color);\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n}\n.ba-list-item__text {\n\tflex-grow: 1;\n}\n.ba-list-item__main-text {\n\tfont-size: 1.7rem;\n}\n.ba-list-item__primary-text {\n\tdisplay: block;\n\tfont-size: 1rem;\n\tfont-weight: bold;\n}\n.ba-list-item__secondary-text {\n\tfont-size: 0.95rem;\n\tcolor: var(--text2);\n}\n/* icon */\n.icon {\n\tbackground: var(--primary-color);\n\t-webkit-mask-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: 1em;\n\twidth: 0.625em;\n}\n.icon-rotate-90 {\n\t-moz-transform: rotate(90deg);\n\t-webkit-transform: rotate(90deg);\n\ttransform: rotate(90deg);\n\ttransition: all var(--animation-duration-large-open) var(--animation-easing-open);\n}\n.iconexpand {\n\t-moz-transform: rotate(270deg);\n\t-webkit-transform: rotate(270deg);\n\ttransform: rotate(270deg);\n}\n.icon-primary {\n\tbackground: var(--primary-color);\n}\n.icon-secondary {\n\tbackground: var(--text2);\n}\n.chevron {\n\tposition: relative;\n\tmask: url(${d});\n\t-webkit-mask-image: url(${d});\n\tmask-image: url(${d});\n}\n.close {\n\tposition: relative;\n\tmask: url(${u});\n\t-webkit-mask-image: url(${u});\n\tmask-image: url(${u});\n\twidth: 1em;\n}\n.info {\n\tposition: relative;\n\tmask: url(${g});\n\t-webkit-mask-image: url(${g});\n\tmask-image: url(${g});\n\ttransition: all var(--animation-duration-small-open) var(--animation-easing-linear);\n\tmargin-right: 0.2em;\n\tbackground: var(--primary-color);\n}\n\n.ba-icon-button {\n\tbackground: transparent;\n\tborder: none;\n}\n\n.ba-icon-button:focus .icon {\n\tbackground: #fff;\n}\n.ba-icon-button:hover .icon {\n\tbackground: #fff;\n}\n.icon-background {\n\theight: 0;\n\twidth: 0;\n\tleft: 1.7em;\n\ttop: 1em;\n\tmargin: 0.3em;\n\tbackground-color: var(--secondary-bg-color);\n\tborder-radius: 2.5em;\n\tposition: absolute;\n\ttransition: all var(--animation-duration-medium-open) var(--animation-easing-linear);\n\ttransform: translate(-50%, -50%);\n\tdisplay: inline-block;\n}\n.ba-icon-button:hover .icon-background {\n\theight: 2em;\n\twidth: 2em;\n\tbackground-color: var(--primary-color);\n}\n.ba-icon-button:focus .icon-background {\n\theight: 2em;\n\twidth: 2em;\n\tbackground-color: var(--primary-color);\n\tbox-shadow: 0 0 0 0.2em var(--primary-color-lighter);\n}\n.arrow {\n\twidth: 0;\n\theight: 0;\n\tborder-width: 0.5em;\n\tborder-style: solid;\n\topacity: 0.2;\n\tmargin: auto;\n}\n.arrow-right {\n\tborder-color: transparent transparent transparent var(--text2);\n\tmargin-right: -50%;\n}\n.arrow-left {\n\tborder-color: transparent var(--text2) transparent transparent;\n}\n/* header  */\n.ba-list-item__header:hover {\n\tbackground: none;\n}\n.ba-list-item__sub-header {\n\topacity: 0.8;\n\tmargin-left: 1.5em;\n}\n.ba-list-item__sub-header .ba-list-item__text {\n\tpadding-left: 0;\n\tfont-size: 0.9rem;\n}\n.ba-list-item__sub-header:hover {\n\tbackground: none;\n}\n/* section */\n.ba-section {\n\tborder-left: 0.3em solid var(--primary-bg-color);\n}\n.ba-section .ba-list-item > *:first-child {\n\tpadding-left: 1.2em;\n}\n.ba-section:hover .ba-list-item__header .ba-list-item__text {\n\tcolor: var(--secondary-color);\n}\n.ba-section:hover {\n\tborder-left: 0.3em solid var(--secondary-color);\n}\n/* collapse */\n.collapse-content {\n\tdisplay: grid;\n\tgrid-template-rows: 1fr;\n\ttransition: grid-template-rows var(--animation-duration-medium-open);\n}\n\n.collapse-content > div {\n\toverflow: hidden;\n}\n\n.iscollapse {\n\tgrid-template-rows: 0fr;\n}\n\n/* helper */\n.vertical-center {\n\tmargin: auto;\n}\n.divider {\n\tborder-bottom: 1px solid var(--header-background-color);\n}\n.sub-divider {\n\tborder-bottom: 1px dotted var(--header-background-color);\n}\n.separator {\n\tborder-left: 1px dotted var(--header-background-color);\n}\n`,""]),e.exports=l},55921:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".ba-overlay,\n.help,\n.static,\n.floating {\n\tcursor: default;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tbackground-color: var(--primary-bg-color);\n\tborder-radius: 0;\n\tcolor: var(--text1);\n\tpadding: 0.3em 0.5em;\n\tfont-size: 1rem;\n}\n\n.help {\n\tborder: 1px solid var(--text2);\n}\n\n.distance,\n.area,\n.partition {\n\tcursor: default;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tbackground-color: rgba(140, 140, 140, 0.9);\n\tborder-radius: 0.25em;\n\tcolor: var(--text3);\n\tpadding: 0.125em 0.5em;\n\tfont-size: 0.75rem;\n}\n\n.ba-overlay:after,\n.static:after,\n.floating:after {\n\tposition: absolute;\n\tleft: 50%;\n\tbottom: -0.375em;\n\tmargin-left: -0.25em;\n\tcontent: '';\n\tborder-top: 6px solid rgba(140, 140, 140, 0.9);\n}\n\n.static,\n.distance,\n.area {\n\tbackground-color: rgba(255, 0, 0, 0.9);\n\t/* cursor: move; */\n}\n\n.partition {\n\tbackground: var(--primary-bg-color-05);\n\tcolor: var(--text1);\n\tpadding: 0.1em 0.2em;\n\tborder-radius: 0;\n}\n\n.draggable {\n\tcursor: move;\n}\n",""]),e.exports=i},60025:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,"#ol-map {\n\twidth: 100%;\n\theight: 100%;\n\tposition: fixed;\n\tbackground: var(--secondary-bg-color);\n}\n\n.grab {\n\tcursor: grab;\n}\n\n.dragging,\n.grabbing {\n\tcursor: grabbing;\n}\n",""]),e.exports=i},66823:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".bottom-sheet {\n\tbackground-color: var(--primary-bg-color);\n\tbox-shadow: 3px 0px 4px rgb(0 0 0 / 50%);\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0.8em 1.5em;\n\tpointer-events: all;\n\tmargin: 0 0 0 0;\n\ttransition-property: margin;\n\ttransition-duration: var(--animation-duration-large-open);\n\ttransition-timing-function: var(--animation-easing-linear);\n\tanimation-name: animateIn;\n\tanimation-fill-mode: both;\n\tanimation-duration: var(--animation-duration-large-open);\n\tanimation-timing-function: var(--animation-easing-linear);\n}\n.fade-out {\n\tanimation-name: animateOut;\n}\n.is-open {\n\tmargin: 0 0 0 28em;\n}\n.is-open-navigationRail {\n\tmargin: 0 0 0 5.5em;\n}\n.is-open.is-open-navigationRail {\n\tmargin: 0 0 0 33.5em;\n}\n.tool-container__close-button {\n\tmargin: 0;\n\twidth: 3em;\n\theight: 3em;\n\tborder-radius: 1.5em;\n\tborder: 0;\n\tbackground: var(--primary-bg-color);\n\tfont-weight: bold;\n\tcursor: pointer;\n\tdisplay: block;\n\tpadding: 0.7em;\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n}\n.tool-container__close-button:hover {\n\tbackground: var(--header-background-color);\n}\n@keyframes animateIn {\n\t0% {\n\t\ttransform: translateY(100%);\n\t}\n}\n@keyframes animateOut {\n\t100% {\n\t\ttransform: translateY(100%);\n\t}\n}\n",""]),e.exports=i},38745:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".notification_item {\n\tanimation-name: animateIn;\n\tanimation-fill-mode: both;\n\tanimation-duration: var(--animation-duration-medium-open);\n\tanimation-timing-function: var(--animation-easing-open);\n\tbackground-color: var(--primary-bg-color);\n\tbox-shadow: 0px 0px 2px rgb(0 0 0 / 50%);\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 0.1em auto;\n\tpadding: 0.8em 1.5em;\n\twidth: min-content;\n\tmin-width: 25em;\n\tpointer-events: all;\n}\n\n.notification_content {\n\tcolor: var(--text3);\n}\n\n.notification_content a {\n\tcolor: var(--text3);\n\tfont-weight: bold;\n}\n\n.notification_content a:hover {\n\ttext-decoration: underline;\n}\n\n.notification_level {\n\tfont-weight: bold;\n\tcolor: var(--text3);\n\tmargin-bottom: 0.2em;\n}\n\n.notification_fixed {\n\tborder: 0.2em solid var(--primary-color);\n}\n\n.notification_info {\n\tbackground: var(--info-color);\n}\n.notification_warn {\n\tbackground: var(--warning-color);\n}\n.notification_error {\n\tbackground: var(--error-color);\n}\n\n.notification_item_hide {\n\tanimation-name: animateOut;\n\tanimation-fill-mode: both;\n\tanimation-duration: var(--animation-duration-medium-close);\n\tanimation-timing-function: var(--animation-easing-close);\n}\n@keyframes animateIn {\n\t0% {\n\t\topacity: 0;\n\t\ttransform: translateY(200%);\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n@keyframes animateOut {\n\t0% {\n\t\topacity: 1;\n\t}\n\t100% {\n\t\topacity: 0;\n\t\ttransform: translateY(200%);\n\t}\n}\n",""]),e.exports=i},96579:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".stackable-content-notification-panel {\n\tmax-height: 100%;\n\tdisplay: flex;\n\tposition: fixed;\n\tjustify-content: center;\n\tflex-direction: column;\n\tbottom: 0.7em;\n\tleft: 0;\n\tright: 0;\n\tz-index: var(--z-notification);\n\tpointer-events: none;\n}\n\n.stackable-content-sheet-panel {\n\tmax-height: 100%;\n\tdisplay: flex;\n\tposition: fixed;\n\tjustify-content: center;\n\tflex-direction: column;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: calc(var(--z-mainmenu) + 1);\n\tpointer-events: none;\n}\n\n.stackable-content-panel ba-notification-item:last-child {\n\tmargin-bottom: 1em;\n}\n",""]),e.exports=i},25639:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".container {\n\tposition: absolute;\n\tpadding: 0.5em;\n\tfont-size: 0.75rem;\n\tbottom: 0;\n\tcolor: var(--text1);\n\twidth: auto;\n\tbackground: var(--secondary-bg-color);\n}\n",""]),e.exports=i},60359:(e,t,n)=>{var r=n(31601),i=n(76314)(r);i.push([e.id,".row,\n.icons {\n\tdisplay: flex;\n}\n\n.row > *,\n.icons > * {\n\tmargin: 0 0.5em;\n}\n\np,\nul,\nh2,\nh3 {\n\tpadding: 0.8em 0;\n}\n\nh2 {\n\tmargin-top: 2em;\n}\n\nh3 {\n\tfont-size: 0.8rem;\n\tmargin-top: 1em;\n\tcolor: var(--text2);\n}\n\nli {\n\tlist-style: none;\n}\n\nli:before {\n\tcontent: '-';\n\tmargin-right: 0.5em;\n\tcolor: var(--primary-color);\n}\n\n.divider {\n\tborder-bottom: 1px solid var(--header-background-color);\n}\n\n.example {\n\tpadding: 2em;\n\tbox-shadow: 0px 0px 4px rgb(0 0 0 / 50%);\n\tbackground: var(--tertiary-bg-color);\n}\n\n.menu {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.section {\n\tpadding: 1em;\n}\n\n#copyurlbutton {\n\twidth: 25em;\n}\n",""]),e.exports=i},83076:(e,t,n)=>{var r=n(36e3);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},2718:(e,t,n)=>{var r=n(81706);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},42508:(e,t,n)=>{var r=n(47976);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},85356:(e,t,n)=>{var r=n(71912);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},51863:(e,t,n)=>{var r=n(54739);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},90996:(e,t,n)=>{var r=n(66032);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},47644:(e,t,n)=>{var r=n(38440);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},44430:(e,t,n)=>{var r=n(26010);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},97823:(e,t,n)=>{var r=n(85099);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},90374:(e,t,n)=>{var r=n(53290);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},10314:(e,t,n)=>{var r=n(48318);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},69422:(e,t,n)=>{var r=n(25666);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},71275:(e,t,n)=>{var r=n(67167);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},9923:(e,t,n)=>{var r=n(55343);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},25837:(e,t,n)=>{var r=n(27249);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},30785:(e,t,n)=>{var r=n(97717);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},16438:(e,t,n)=>{var r=n(92474);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},25373:(e,t,n)=>{var r=n(96857);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},63690:(e,t,n)=>{var r=n(84518);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},96462:(e,t,n)=>{var r=n(29498);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},47963:(e,t,n)=>{var r=n(93863);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},97156:(e,t,n)=>{var r=n(74048);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},49208:(e,t,n)=>{var r=n(78612);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},58349:(e,t,n)=>{var r=n(22209);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},59540:(e,t,n)=>{var r=n(1616);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},63332:(e,t,n)=>{var r=n(53648);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},93062:(e,t,n)=>{var r=n(95266);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},64668:(e,t,n)=>{var r=n(39576);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},19304:(e,t,n)=>{var r=n(30004);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},87402:(e,t,n)=>{var r=n(68470);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},99293:(e,t,n)=>{var r=n(55921);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},90061:(e,t,n)=>{var r=n(60025);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},14707:(e,t,n)=>{var r=n(66823);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},87093:(e,t,n)=>{var r=n(38745);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},16575:(e,t,n)=>{var r=n(96579);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},32907:(e,t,n)=>{var r=n(25639);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},84459:(e,t,n)=>{var r=n(60359);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},35479:(e,t,n)=>{"use strict";n.r(t),n(24966),n(78424),n(3630),n(66625),n(38071),n(26421),n(69283),n(11697),n(95515),n(87037),n(40922),n(73971);var r=n(37875);customElements.get(r.P.tag)||window.customElements.define(r.P.tag,r.P)},92662:(e,t,n)=>{var r={"./elevation-profile":[23973,868,212],"./elevation-profile.js":[23973,868,212],"./public-web-component":[35479,591],"./public-web-component.js":[35479,591],"./routing":[67133,868,91],"./routing.js":[67133,868,91]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=92662,e.exports=i},78314:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});class r extends Error{constructor(e,t={}){super(e,t),this.name=this.constructor.name}}class i extends r{constructor(e,t,n=null,r={}){super(e,r),this.geoResourceId=t,this.httpStatus=n}}},94447:(e,t,n)=>{"use strict";n.d(t,{DJ:()=>_,Fl:()=>s,H5:()=>m,HA:()=>p,He:()=>u,Mg:()=>c,Vz:()=>h,X5:()=>g,fX:()=>d,q9:()=>l,sH:()=>y,u8:()=>v});var r=n(18410),i=n(51207),o=n(63103),a=n(28353);const s=Object.freeze({WMS:Symbol.for("wms"),XYZ:Symbol.for("xyz"),VECTOR:Symbol.for("vector"),RT_VECTOR:Symbol.for("rtvector"),VT:Symbol.for("vt"),AGGREGATE:Symbol.for("aggregate"),FUTURE:Symbol.for("future")}),c=Object.freeze({BAA:"baa",APPLICATION:"application"});class l{constructor(e,t=null){if(this.constructor===l)throw new TypeError("Can not construct abstract class.");this.checkDefined(e,"id"),this._id=e,this._label=t,this._opacity=1,this._hidden=!1,this._minZoom=null,this._maxZoom=null,this._attribution=null,this._attributionProvider=i.l6,this._authenticationType=null,this._queryable=!0,this._exportable=!0,this._authRoles=[]}checkDefined(e,t){if(!e)throw new TypeError(t+" must not be undefined")}get id(){return this._id}get label(){return this._label}get opacity(){return this._opacity}get minZoom(){return this._minZoom}get maxZoom(){return this._maxZoom}get hidden(){return this._hidden}get attribution(){return this._attribution}get authenticationType(){return this._authenticationType}get queryable(){return this._queryable}get exportable(){return this._exportable}get authRoles(){return[...this._authRoles]}get attributionProvider(){return this._attributionProvider}setLabel(e){return this._label=e,this}setOpacity(e){return this._opacity=e,this}setMinZoom(e){return this._minZoom=e,this}setMaxZoom(e){return this._maxZoom=e,this}setHidden(e){return this._hidden=e,this}setAttribution(e){return this._attribution=e,this}setAttributionProvider(e){return this._attributionProvider=e,this}setAuthenticationType(e){return this._authenticationType=e,this}setQueryable(e){return this._queryable=e,this}setExportable(e){return this._exportable=e,this}setAuthRoles(e){return e&&(this._authRoles=[...e],e.length>0&&this.setAuthenticationType(c.APPLICATION)),this}hasLabel(){return!!this._label}isExternal(){return(0,a.oq)(this.id)}getAttribution(e=0){if(this._attributionProvider){const t=this._attributionProvider(this,e);return Array.isArray(t)?t.length>0?t:null:t?[t]:null}throw new Error("No attribution provider found")}getType(){throw new TypeError("Please implement abstract method #getType or do not call super.getType from child.")}copyPropertiesFrom(e){return this.setLabel(e.label).setOpacity(e.opacity).setMinZoom(e.minZoom).setMaxZoom(e.maxZoom).setHidden(e.hidden).setAttribution(e.attribution).setAttributionProvider(e.attributionProvider).setQueryable(e.queryable).setExportable(e.exportable).setAuthRoles(e.authRoles).setAuthenticationType(e.authenticationType)}}class d extends l{constructor(e,t,n=null){super(e,n),this._loader=t,this._onResolve=[],this._onReject=[]}onResolve(e){return this._onResolve.push(e),this}onReject(e){return this._onReject.push(e),this}getType(){return s.FUTURE}async get(){try{const{GeoResourceService:e}=r.z.inject("GeoResourceService"),t=await this._loader(this.id),n=e.addOrReplace(t);return this._onResolve.forEach((e=>e(n,this))),n}catch(e){throw this._onReject.forEach((e=>e(this))),e}}}class u extends l{constructor(e,t,n,r,i){super(e,t),this._url=n,this._layers=r,this._format=i,this._extraParams={},this._maxSize=null}get url(){return this._url}get layers(){return this._layers}get format(){return this._format}get extraParams(){return{...this._extraParams}}get maxSize(){return this._maxSize?[...this._maxSize]:null}setExtraParams(e){return e&&(this._extraParams={...e}),this}setMaxSize(e){return e&&(this._maxSize=[...e]),this}getType(){return s.WMS}}class g extends l{constructor(e,t,n){super(e,t),this._urls=n,this._tileGridId=null}get urls(){return this._urls}get tileGridId(){return this._tileGridId}setTileGridId(e){return this._tileGridId=e,this}getType(){return s.XYZ}}const h=Object.freeze({KML:Symbol.for("kml"),GPX:Symbol.for("gpx"),GEOJSON:Symbol.for("geojson"),EWKT:Symbol.for("ewkt")});class p extends l{constructor(e,t,n){super(e,t),this._sourceType=n,this._data=null,this._srid=null,this._clusterParams={}}_getFallbackLabel(){switch(this.sourceType){case h.KML:return"KML";case h.GPX:return"GPX";case h.GEOJSON:return"GeoJSON";case h.EWKT:return"EWKT";default:return""}}get label(){return this._label?this._label:this._getFallbackLabel()}get sourceType(){return this._sourceType}get data(){return this._data}get srid(){return this._srid}setSource(e,t){return this._data=e,this._srid=t,this}hasLabel(){return!!this._label||this.label!==this._getFallbackLabel()}isClustered(){return!!Object.keys(this._clusterParams).length}get clusterParams(){return{...this._clusterParams}}setClusterParams(e){return e&&(this._clusterParams={...e}),this}getType(){return s.VECTOR}static forUrl(e,t,n,r=null){return new d(e,(0,o.FJ)(t,n,e,r)).setLabel(r).onResolve(((e,t)=>{e.copyPropertiesFrom(t)}))}}class m extends l{constructor(e,t,n,r){super(e,t),this._url=n,this._sourceType=r,this._clusterParams={}}get url(){return this._url}get sourceType(){return this._sourceType}get clusterParams(){return{...this._clusterParams}}setClusterParams(e){return e&&(this._clusterParams={...e}),this}isClustered(){return!!Object.keys(this._clusterParams).length}getType(){return s.RT_VECTOR}}class _ extends l{constructor(e,t,n){super(e,t),this._geoResourceIds=[...n]}get geoResourceIds(){return[...this._geoResourceIds]}getType(){return s.AGGREGATE}}class v extends l{constructor(e,t,n){super(e,t),this._styleUrl=n}get styleUrl(){return this._styleUrl}getType(){return s.VT}}const y=(e,t,n=null)=>new Proxy(e,{set:function(e,n,r){return Object.keys(e).includes(n)&&e[n]!==r?(e[n]=r,t(n,r),!0):Reflect.set(...arguments)},get:(e,t)=>!(!n||t!==n)||e[t]})},38903:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=Object.freeze({TOPICS:"topics",MAPS:"maps",MISC:"misc",ROUTING:"routing",SEARCH:"search",FEATUREINFO:"featureinfo",valueOf:e=>{switch(e){case 0:return r.TOPICS;case 1:return r.MAPS;case 2:return r.SEARCH;case 3:return r.ROUTING;case 4:return r.MISC;case 5:return r.FEATUREINFO}return null}})},59834:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});const r=Object.freeze({EMBED:"embed.html"})},40781:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r=Object.freeze({ZOOM:"z",CENTER:"c",ROTATION:"r",LAYER:"l",LAYER_VISIBILITY:"l_v",LAYER_OPACITY:"l_o",TOPIC:"t",QUERY:"q",CHIP_ID:"chid",MENU_ID:"mid",TOOL_ID:"tid",CROSSHAIR:"crh",ZOOM_TO_EXTENT:"zte",ROUTE_WAYPOINTS:"rtwp",ROUTE_CATEGORY:"rtc",EC_DRAW_TOOL:"ec_draw_tool",EC_MAP_ACTIVATION:"ec_map_activation",EC_LINK_TO_APP:"ec_link_to_app",T_ENABLE_TEST_IDS:"t_enable-test-ids"})},80943:(e,t,n)=>{"use strict";n.d(t,{Tc:()=>r,kD:()=>i,p2:()=>a,to:()=>o});const r=Object.freeze({Ok:200,Start_Destination_Missing:900,Destination_Missing:901,Start_Missing:902}),i=Object.freeze({Technical_Error:0,Improper_Waypoints:1}),o=Object.freeze({START_OR_DESTINATION:0,START:1,DESTINATION:2,INTERMEDIATE:3,EXISTING_START_OR_DESTINATION:4,EXISTING_INTERMEDIATE:5}),a=Object.freeze({HINT:0,WARNING:1})},39400:(e,t,n)=>{"use strict";n.d(t,{$I:()=>s,FQ:()=>r,Y1:()=>i,bu:()=>o,t8:()=>a});const r=2**27;class i{constructor(e,t=null,n=null){this._name=e,this._version=t,this._srid=n}get name(){return this._name}get version(){return this._version}get srid(){return this._srid}}const o=Object.freeze({KML:"kml",GPX:"gpx",GEOJSON:"geojson",WMS:"wms",EWKT:"ewkt"});class a{constructor(e,t=null){this._status=e,this._sourceType=t}get status(){return this._status}get sourceType(){return this._sourceType}}const s=Object.freeze({OK:0,UNSUPPORTED_TYPE:1,MAX_SIZE_EXCEEDED:2,OTHER:3,BAA_AUTHENTICATED:4,RESTRICTED:5,UNSUPPORTED_SRID:6})},32551:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large"})},65394:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,o:()=>i});const r=Object.freeze({MEASURE:"measure",DRAW:"draw",SHARE:"share",IMPORT:"import",EXPORT:"export",ROUTING:"routing"}),i=Object.freeze([r.DRAW])},78424:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("global",(e=>{switch(e){case"en":return{global_app_name:"BayernAtlas",global_generic_exception:"Something got wrong. See the console output for more information...",global_mfpService_init_exception:"PDF export currently not available",global_mfpService_createJob_exception:"PDF generation was not successful",global_featureInfoService_exception:"FeatureInfo could not be retrieved",global_geolocation_denied:'The acquisition of the position failed because your browser settings does not allow it. Allow your browser / this website to use your location. Deactivate the "private" mode of your browser.',global_geolocation_not_available:"The acquisition of the position failed",global_import_url_failed:"URL-Import failed",global_import_data_failed:"Importing data failed",global_import_unsupported_sourceType:"Source type could not be detected or is not supported",global_import_authenticationModal_title:"Authentication",global_locally_imported_dataset_copyright_label:"Dataset and/or style provided by third party",global_share_unsupported_geoResource_warning:"The following layers won't be shared:",global_privacy_policy_url:"https://geoportal.bayern.de/geoportalbayern/seiten/datenschutz.html",global_marker_symbol_label:"Marker",global_featureInfo_not_available:"FeatureInfo is not available",global_routingService_init_exception:"Routing currently not available",global_geoResource_not_available:e=>`Failed to add a layer for the GeoResource "${e[0]}"${e[1]?` (${e[1]})`:""}`,global_geoResource_unauthorized:"401 - Unauthorized",global_geoResource_forbidden:"403 - Forbidden",global_signOut_success:"Signed out successfully"};case"de":return{global_app_name:"BayernAtlas",global_generic_exception:"Leider ist etwas schiefgegangen. Weitere Informationen sind in der Konsole des Browsers zu finden...",global_mfpService_init_exception:"PDF Export derzeit leider nicht möglich",global_mfpService_createJob_exception:"PDF konnte nicht erstellt werden",global_featureInfoService_exception:"FeatureInfo Abfrage schlug fehl",global_geolocation_denied:'Es ist keine Positionsbestimmung möglich, da Ihre Browsereinstellungen dies nicht zulassen. Erlauben Sie die Positionsbestimmung und deaktivieren Sie den "Privat" Modus des Browsers.',global_geolocation_not_available:"Es ist keine Positionsbestimmung möglich",global_import_url_failed:"URL-Import schlug fehl",global_import_data_failed:"Import der Daten schlug fehl",global_import_unsupported_sourceType:"Daten-Typ konnte nicht erkannt werden oder wird nicht unterstützt",global_import_authenticationModal_title:"Anmeldung",global_locally_imported_dataset_copyright_label:"Mit Darstellung durch den Anwender",global_share_unsupported_geoResource_warning:"Folgende Ebenen werden nicht geteilt:",global_privacy_policy_url:"https://geoportal.bayern.de/geoportalbayern/seiten/datenschutz.html",global_marker_symbol_label:"Markierung",global_featureInfo_not_available:"FeatureInfo ist nicht verfügbar",global_routingService_init_exception:"Die Routing-Funktion steht derzeit leider nicht zur Verfügung",global_geoResource_not_available:e=>`Es konnte keine Ebene für die GeoRessource "${e[0]}" geladen werden${e[1]?` (${e[1]})`:""}`,global_geoResource_unauthorized:"401 - Fehlende Berechtigung",global_geoResource_forbidden:"403 - Zugriff nicht erlaubt",global_signOut_success:"Sie haben sich erfolgreich abgemeldet"};default:return{}}}))},24966:(e,t,n)=>{"use strict";var r=n(18410),i=n(82960),o=n(93003),a=n(14629),s=n(38297);const c="network/fetching",l={pendingRequests:0,fetching:!1,offline:!1},d=(e=l,t)=>{const{type:n,payload:r}=t;switch(n){case c:{const{pendingRequests:t}=e,n=r?t+1:Math.max(0,t-1),i=n>0;return{...e,pendingRequests:n,fetching:i}}case"network/offline":return{...e,offline:r}}return e};var u=n(62253),g=n(1175),h=n(91875),p=n(22295),m=n(86407),_=n(86731),v=n(48471),y=n(49105);const S="shared/termsOfUsAcknowledged",b="shared/fileSaveResult",f={termsOfUseAcknowledged:!1,fileSaveResult:null},w=(e=f,t)=>{const{type:n,payload:r}=t;switch(n){case S:return{...e,termsOfUseAcknowledged:r};case b:return{...e,fileSaveResult:r}}return e};var M=n(83739),I=n(56851),A=n(79071),T=n(39043),E=n(1473),L=n(9525),D=n(73469),x=n(31507),C=n(6727),N=n(55171),z=n(61263),k=n(13869);const j="chips/current",R={current:[]},P=(e=R,t)=>{const{type:n,payload:r}=t;return n===j?{...e,current:[...r]}:e};var O=n(47518);const G="stateForEncoding/changed",U={changed:new O.MD(null)},F=(e=U,t)=>{const{type:n,payload:r}=t;return n===G?{...e,changed:r}:e},$="iframeContainer/contentChanged",Y={content:null,active:!1},B=(e=Y,t)=>{const{type:n,payload:r}=t;return n===$?{...e,content:r,active:!!r}:e};var H=n(44651);const Z="auth/statusChanged",W={signedIn:!1,byUser:!1},V=(e=W,t)=>{const{type:n,payload:r}=t;if(n===Z){const{signedIn:t,byUser:n}=r;return{...e,signedIn:t,byUser:n}}return e},Q="wcAttribute/changed",X={changed:new O.MD(null)},K=(e=X,t)=>{const{type:n,payload:r}=t;return n===Q?{...e,changed:r}:e};var q=n(76700);const J=6,ee=73,te=79,ne=.00669438,re=.9996,ie=6378137,oe=5e5,ae=1e7,se=6,ce=se/2;function le(e,t){if(t="number"==typeof t?t:5,!Array.isArray(e))throw new TypeError("forward did not receive an array");if("string"==typeof e[0]||"string"==typeof e[1])throw new TypeError("forward received an array of strings, but it only accepts an array of numbers.");const[n,r]=e;if(n<-180||n>180)throw new TypeError(`forward received an invalid longitude of ${n}`);if(r<-90||r>90)throw new TypeError(`forward received an invalid latitude of ${r}`);if(r<-80||r>84)throw new TypeError(`forward received a latitude of ${r}, but this library does not support conversions of points in polar regions below 80°S and above 84°N`);return function(e,t){const n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+function(e,t,n){const r=function(e){let t=e%J;return 0===t&&(t=J),t}(n);return function(e,t,n){const r=n-1,i="AJSAJS".charCodeAt(r),o="AFAFAF".charCodeAt(r);let a=i+e-1,s=o+t,c=!1;return a>90&&(a=a-90+65-1,c=!0),(a===ee||i<ee&&a>ee||(a>ee||i<ee)&&c)&&a++,(a===te||i<te&&a>te||(a>te||i<te)&&c)&&(a++,a===ee&&a++),a>90&&(a=a-90+65-1),s>86?(s=s-86+65-1,c=!0):c=!1,(s===ee||o<ee&&s>ee||(s>ee||o<ee)&&c)&&s++,(s===te||o<te&&s>te||(s>te||o<te)&&c)&&(s++,s===ee&&s++),s>86&&(s=s-86+65-1),String.fromCharCode(a)+String.fromCharCode(s)}(Math.floor(e/1e5),Math.floor(t/1e5)%20,r)}(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}(ue({lat:r,lon:n}),t)}function de(e){return e*(Math.PI/180)}function ue(e){const t=e.lat,n=e.lon,r=ie,i=de(t),o=de(n);let a;a=Math.floor((n+180)/6)+1,180===n&&(a=60),t>=56&&t<64&&n>=3&&n<12&&(a=32),t>=72&&t<84&&(n>=0&&n<9?a=31:n>=9&&n<21?a=33:n>=21&&n<33?a=35:n>=33&&n<42&&(a=37));const s=de((a-1)*se-180+ce),c=ne/(1-ne),l=r/Math.sqrt(1-ne*Math.sin(i)*Math.sin(i)),d=Math.tan(i)*Math.tan(i),u=c*Math.cos(i)*Math.cos(i),g=Math.cos(i)*(o-s),h=r*((1-ne/4-3*ne*ne/64-5*ne*ne*ne/256)*i-(3*ne/8+3*ne*ne/32+45*ne*ne*ne/1024)*Math.sin(2*i)+(15*ne*ne/256+45*ne*ne*ne/1024)*Math.sin(4*i)-35*ne*ne*ne/3072*Math.sin(6*i)),p=re*l*(g+(1-d+u)*g*g*g/6+(5-18*d+d*d+72*u-58*c)*g*g*g*g*g/120)+oe;let m=re*(h+l*Math.tan(i)*(g*g/2+(5-d+9*u+4*u*u)*g*g*g*g/24+(61-58*d+d*d+600*u-330*c)*g*g*g*g*g*g/720));return t<0&&(m+=ae),{northing:Math.trunc(m),easting:Math.trunc(p),zoneNumber:a,zoneLetter:ge(t)}}function ge(e){if(e<=84&&e>=72)return"X";if(e<72&&e>=-80){const t=8,n=-80;return"CDEFGHJKLMNPQRSTUVWX"[Math.floor((e-n)/t)]}return e>84||e<-80?"Z":void 0}const he=Object.freeze({WGS84:{label:"WGS84",code:4326,digits:5,global:!0,group:"wgs84"},UTM:{label:"UTM",code:null,digits:0,global:!0,group:"utm"},MGRS:{label:"MGRS",code:null,digits:0,global:!0,group:"mgrs"},SphericalMercator:{label:"3857",code:3857,digits:6,global:!0,group:"sm"}}),pe=Object.freeze({UTM32:{label:"UTM32",code:25832,digits:0,global:!1,group:"utm"},UTM33:{label:"UTM33",code:25833,digits:0,global:!1,group:"utm"}});var me=n(42376);const _e=(e,t,n,r={})=>{const{global:i,code:o,digits:a,label:s}=t;if(i){const i=(e,i)=>{const o=n(i,3857,4326);switch(e){case he.SphericalMercator.label:return Se(a,!0)(i);case he.WGS84.label:return ve(r.digits??t.digits)(o);case he.UTM.label:{const{northing:e,easting:t,zoneNumber:n,zoneLetter:r}=ue({lat:o[1],lon:o[0]});return`${n}${r} ${t} ${e}`}case he.MGRS.label:return le(o)}};return i(s,e)}return ye(o,r.digits??t.digits,n)(n(e,3857,o))},ve=e=>t=>Se(e,!0)(t.slice(0,2).reverse()),ye=(e,t,n)=>r=>{var i;return`${25832===e?"32":"33"}${(i=n(r,e,4326))[1]<54&&i[1]>=48?"U":i[1]<48&&i[1]>=42?"T":""} ${Se(t)(r)}`},Se=(e,t=!1)=>{const n=n=>t?(0,me.Rt)(n,e):n;return t=>`${n(t[0].toFixed(e))} ${n(t[1].toFixed(e))}`};var be=n(70915),fe=n(16800),we=n(11217),Me=n(34142),Ie=n(28353),Ae=n(13387);const Te=Object.freeze({ELEVATION_PROFILE:"elevationProfile"});class Ee{constructor(e=_e){this._stringifyFunction=e;const{ProjectionService:t}=r.z.inject("ProjectionService");this._projectionService=t}static _toEpsgCodeString(e){return"EPSG:"+e}toLonLat(e){return(0,q.WP)(e)}fromLonLat(e){return(0,q.Rb)(e)}toLonLatExtent(e){return(0,q.DI)(e,"EPSG:3857","EPSG:4326")}fromLonLatExtent(e){return(0,q.DI)(e,"EPSG:4326","EPSG:3857")}transform(e,t,n){const r=Ee._toEpsgCodeString(n),i=Ee._toEpsgCodeString(t);if(this._projectionService.getProjections().includes(n))return(0,q.pd)(e,i,r);throw new Error("Unsupported SRID: "+n)}transformExtent(e,t,n){const r=Ee._toEpsgCodeString(n),i=Ee._toEpsgCodeString(t);if(this._projectionService.getProjections().includes(n))return(0,q.DI)(e,i,r);throw new Error("Unsupported SRID: "+n)}stringify(e,t,n){return this._stringifyFunction(e,t,((e,t,n)=>this.transform(e,t,n)),n)}buffer(e,t){return[...(0,be.r)(e,t)]}containsCoordinate(e,t){return(0,be.Ym)(e,t)}simplify(e,t){const n=()=>{throw new Error("Cannot simplify coordinate, value is not a Coordinates type")};if(Array.isArray(e)||n(),e.forEach((e=>{(0,Ie.Xq)(e)||n()})),t===Te.ELEVATION_PROFILE)return(0,fe.p2)(new we.A(e));throw new Error(`Unsupported simplification type: ${t}`)}toCoordinate(e){const t=()=>{throw new Error("Cannot convert value to coordinate, value is not a CoordinateLike type")};if(e){if(Array.isArray(e)&&0===e.length)return e}else t();const n=!Array.isArray(e[0]),r=n?[e]:e;r.forEach((e=>{(0,Ie._2)(e)||t()}));const i=r.map((e=>e.slice(0,2)));return n?i[0]:i}getLength(e,t=!0){return t?(e=>{const t=Ae.Geodesic.WGS84;return e.reduce(((e,n,r,i)=>{if(r===i.length-1)return e;const o=i[r+1];return e+t.Inverse(n[1],n[0],o[1],o[0]).s12}),0)})(e):new we.A(e).getLength()}getArea(e,t=!0){return t?(e=>{const t=new Ae.PolygonArea.PolygonArea(Ae.Geodesic.WGS84);return e.reduce(((e,n,r)=>{t.Clear(),n.forEach((([e,n])=>t.AddPoint(n,e)));const i=t.Compute(!1,!0);return 0===r?e+Math.abs(i.area):e-Math.abs(i.area)}),0)})(e):new Me.Ay(e).getArea()}}var Le=n(40781),De=n(37875);const xe=e=>{(()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()})().dispatch({type:c,payload:e})};var Ce=n(24973),Ne=n(36752),ze=n(44668);class ke{constructor(){this._queue=Promise.resolve(!0)}async add(e){return new Promise(((t,n)=>{this._queue=this._queue.then(e).then(t).catch(n)}))}}const je=Object.freeze({PLUS:"Plus"});var Re=n(2277);const Pe=async(e=null)=>{const t=[je.PLUS],{StoreService:n,HttpService:i,ConfigService:o}=r.z.inject("StoreService","HttpService","ConfigService"),a=async e=>{const t=await i.post(`${o.getValueAsPath("BACKEND_URL")}auth/signin`,JSON.stringify(e),ze.z.JSON);switch(t.status){case 200:return await t.json();case 400:return!1;default:throw new Error(`Sign in not possible: Http-Status ${t.status}`)}};return e?a(e):new Promise((e=>{const r=(0,O.lB)(n.getStore(),(e=>e.modal),(e=>(({active:e})=>{e||i(null)})(e))),i=async(t,n)=>{r(),(0,Ce.Oo)(),e(t&&n?n:[])};(0,Ce.qf)(Ue(t),Fe(a,i,t))}))},Oe=async()=>{const{HttpService:e,ConfigService:t,TranslationService:n}=r.z.inject("HttpService","ConfigService","TranslationService"),i=await e.get(`${t.getValueAsPath("BACKEND_URL")}auth/signout`);switch(i.status){case 200:case 403:return(0,Re.L)(`${n.translate("global_signOut_success")}`,Re.A.INFO),!0;default:throw new Error(`Sign out not possible: Http-Status ${i.status}`)}},Ge=async()=>{const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService"),n=await e.get(`${t.getValueAsPath("BACKEND_URL")}auth/roles`);if(200===n.status)return await n.json();throw new Error(`Could not fetch current roles: Http-Status ${n.status}`)},Ue=e=>{const{TranslationService:t}=r.z.inject("TranslationService");return Ne.qy`${"global_import_authenticationModal_title",t.translate("global_import_authenticationModal_title")}&nbsp;
	${e.map((e=>Ne.qy`<ba-badge .size=${"1.5"} .color=${"var(--text3)"} .background=${"var(--primary-color)"} .label=${e}></ba-badge>`))} `},Fe=(e,t,n)=>{const r=n.includes(je.PLUS)?Ne.qy`<ba-auth-password-credential-bvv-footer></ba-auth-password-credential-bvv-footer>`:null;return Ne.qy`<ba-auth-password-credential-panel
		.authenticate=${e}
		.onClose=${t}
		.footer=${r}
	></ba-auth-password-credential-panel>`},$e=new ke,Ye=new Set,Be=(e=[],t=null,n=1e4)=>async(i,o)=>{if(401===i.status){const a=()=>new Promise((a=>{const{StoreService:s,AuthService:c}=r.z.inject("StoreService","AuthService"),l=(0,O.lB)(s.getStore(),(e=>e.modal),(e=>(({active:e})=>{e||d(null)})(e))),d=async(e,t)=>{if(l(),(0,Ce.Oo)(),e&&t){const e=await o();a(e)}else a(i)};c.isSignedIn()?a(o()):Ye.has(t)?a(i):(t&&(Ye.add(t),setTimeout((()=>{Ye.delete(t)}),n)),(0,Ce.qf)(Ue(e),Fe((async e=>!!await c.signIn(e)),d,e)))}));return await $e.add(a)}return i},He=()=>{const{ConfigService:e}=r.z.inject("ConfigService");return[`${e.getValueAsPath("BACKEND_URL")}sourceType`]},Ze={response:[]};class We{static get DEFAULT_REQUEST_MODE(){return"cors"}async fetch(e,t={},n=new AbortController,r=Ze){const i=async()=>{const{timeout:r=1e3}=t,i=setTimeout((()=>n.abort()),r),o=await fetch(e,{...t,signal:n.signal});return clearTimeout(i),o};return r.response.length>0?await(async(e,t,n,r)=>{let i;for(const o of e)i=await o(i??t,n,r);return i})(r.response,await i(),i,e):i()}async get(e,t={},n=Ze){const r={mode:We.DEFAULT_REQUEST_MODE,...t};return this.fetch(e,r,void 0,n)}async delete(e,t={}){const n={mode:We.DEFAULT_REQUEST_MODE,method:"DELETE",...t};return this.fetch(e,n)}async post(e,t,n,r={},i=Ze){const o={mode:We.DEFAULT_REQUEST_MODE,method:"POST",body:t,headers:{"Content-Type":n},...r};return this.fetch(e,o,void 0,i)}async head(e,t={},n=Ze){const r={mode:We.DEFAULT_REQUEST_MODE,method:"HEAD",...t};return this.fetch(e,r,void 0,n)}}class Ve extends We{async fetch(e,t={},n=new AbortController,r=Ze){xe(!0);try{return await super.fetch(e,t,n,r)}finally{xe(!1)}}}class Qe extends Ve{#e;#t;constructor(e=He){super();const{AuthService:t,ConfigService:n}=r.z.inject("AuthService","ConfigService");this.#e=t,this.#t=n,this._ignorePathProvider=e}async fetch(e,t={},n=new AbortController,r=Ze){return super.fetch(e,t,n,{response:[async t=>(401===t.status&&e.trim().startsWith(this.#t.getValueAsPath("BACKEND_URL"))&&!this._ignorePathProvider().find((t=>e.trim().includes(t)))&&this.#e.invalidate(),t),...r.response]})}}var Xe=n(19366);class Ke{#n;#t;constructor(){const{EnvironmentService:e,ConfigService:t}=r.z.inject("EnvironmentService","ConfigService");this.#n=e,this.#t=t}async copyToClipboard(e){if(this.#n.getWindow().isSecureContext)return this.#n.getWindow().navigator.clipboard.writeText(e);throw new Error("Clipboard API is not available")}_mergeExtraParams(e,t){for(const[n,r]of Object.entries(t))if(Object.keys(e).includes(n)){if(Array.isArray(e[n])){const t=Array.isArray(r)?[...r]:[r];e[n]=[...e[n],...t]}}else e[n]=r;return e}getParameters(e={includeHiddenGeoResources:!1}){const t={...this._extractPosition(),...this._extractLayers(e),...this._extractTopic(),...this._extractRoute(),...this._extractTool()};return new Map(Object.entries(t))}encodeState(e={},t=[]){return this.encodeStateForPosition({},e,t)}encodeStateForPosition(e,t={},n=[]){const{center:r,zoom:i,rotation:o}=e,a=this._mergeExtraParams({...this._extractPosition(r,i,o),...this._extractLayers({includeHiddenGeoResources:!1}),...this._extractTopic(),...this._extractRoute(),...this._extractTool()},t),s=`${(0,Xe.$z)(this.#t.getValueAsPath("FRONTEND_URL"))}/${(0,Xe.eD)(this.#t.getValueAsPath("FRONTEND_URL")).filter((e=>!e.endsWith(".html"))).join("/")}`,c=new URLSearchParams(a),l=n.length?[...n]:[];return`${s}${s.endsWith("/")?"":"/"}${l.join("/")}?${decodeURIComponent(c.toString())}`}_extractPosition(e,t,n){const{StoreService:i,CoordinateService:o,MapService:a}=r.z.inject("StoreService","CoordinateService","MapService"),s={},c=i.getStore().getState(),l=e??c.position.center,d=t??c.position.zoom,u=n??c.position.rotation,{digits:g,code:h}=a.getCoordinateRepresentations(l).filter((e=>e.code)).filter((e=>e.code===a.getLocalProjectedSrid()))[0]??he.WGS84,p=o.transform(l,a.getSrid(),h).map((e=>e.toFixed(g))),m=(0,me.LI)(d,Ke.ZOOM_LEVEL_PRECISION),_=(0,me.LI)(u,Ke.ROTATION_VALUE_PRECISION);return s[Le.h.CENTER]=p,s[Le.h.ZOOM]=m,s[Le.h.ROTATION]=_,s}_extractLayers(e={includeHiddenGeoResources:!1}){const{StoreService:t,GeoResourceService:n}=r.z.inject("StoreService","GeoResourceService"),i=t.getStore().getState(),o={},{layers:{active:a}}=i,s=[];let c=[],l=[];return a.filter((e=>!e.constraints.hidden)).filter((t=>!!e.includeHiddenGeoResources||!n.byId(t.geoResourceId).hidden)).forEach((e=>{s.push(e.geoResourceId),c.push(e.visible),l.push(e.opacity)})),0===c.filter((e=>!1===e)).length&&(c=null),0===l.filter((e=>1!==e)).length&&(l=null),o[Le.h.LAYER]=s.map((e=>encodeURIComponent(e))),c&&(o[Le.h.LAYER_VISIBILITY]=c),l&&(o[Le.h.LAYER_OPACITY]=l),o}_extractTopic(){const{StoreService:e}=r.z.inject("StoreService"),t=e.getStore().getState(),n={},{topics:{current:i}}=t;return n[Le.h.TOPIC]=i,n}_extractRoute(){const{StoreService:e}=r.z.inject("StoreService"),t=e.getStore().getState(),n={},{routing:{waypoints:i,categoryId:o}}=t;return i.length>0&&(n[Le.h.ROUTE_WAYPOINTS]=i,n[Le.h.ROUTE_CATEGORY]=o),n}_extractTool(){const{StoreService:e}=r.z.inject("StoreService"),t=e.getStore().getState(),n={},{tools:{current:i}}=t;return n[Le.h.TOOL_ID]=i??"",n}static get ZOOM_LEVEL_PRECISION(){return 3}static get ROTATION_VALUE_PRECISION(){return 4}}const qe=1e6,Je=()=>{const{ConfigService:e}=r.z.inject("ConfigService");return[e.getValue("DEFAULT_LANG"),"en"]},et=e=>{const t=Je();return e>999?(n=e,(Math.round(n/1e3*100)/100).toLocaleString(t,{minimumFractionDigits:1,maximumFractionDigits:1})+" km"):(n=>0!==e?(Math.round(100*n)/100).toLocaleString(t,{minimumFractionDigits:1,maximumFractionDigits:1})+" m":"0 m")(e);var n},tt=e=>{const t=Je();return e<.5?"0 m²":e>=qe?(n=e,(Math.round(n/qe*100)/100).toLocaleString(t,{minimumFractionDigits:3,maximumFractionDigits:3})+" km²"):(e=>e>1?(Math.round(100*e)/100).toLocaleString(t,{minimumFractionDigits:0,maximumFractionDigits:0})+" m²":"1 m²")(e);var n};var nt=n(94447);const rt=Object.freeze({KML:"application/vnd.google-earth.kml+xml"});class it{constructor(){const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService");this._httpService=e,this._configService=t}_getFileStorageUrl(){return this._configService.getValueAsPath("BACKEND_URL")+"files"}_getKeyByValue(e,t){return Object.keys(e).find((n=>e[n]===t))}isAdminId(e){return e.startsWith("a_")}isFileId(e){return e.startsWith("f_")}async getFileId(e){if(this.isFileId(e))return e;const t=`${this._getFileStorageUrl()}/${e}`,n=await this._httpService.get(t);if(n.ok){const{fileId:e}=await n.json();if(e)return e}throw new Error("FileId could not be retrieved: "+t)}async get(e){const t=`${this._getFileStorageUrl()}/${e}`,n=await this._httpService.get(t);if(n.ok){const e=this._getKeyByValue(rt,n.headers.get("Content-Type"));if(e)return{data:await n.text(),type:rt[e],srid:4326};throw new Error("Content-Type "+n.headers.get("Content-Type")+" currently not supported")}throw new Error("File could not be loaded: "+t)}async save(e,t,n){if(n===rt.KML){const r=e?`${this._getFileStorageUrl()}/${e}`:this._getFileStorageUrl(),i=await this._httpService.post(r,t,n);if(i.ok){const e=await i.json();return{adminId:e.adminId,fileId:e.fileId}}throw new Error("File could not be saved: "+r)}throw new Error("Content-Type "+n+" currently not supported")}}var ot=n(51207),at=n(78314);const st=e=>{const{FileStorageService:t}=r.z.inject("FileStorageService");return t.isAdminId(e)||t.isFileId(e)?new nt.fX(e,(e=>async()=>{const{FileStorageService:t}=r.z.inject("FileStorageService");try{const n=await t.getFileId(e),{data:r,type:i,srid:o}=await t.get(n);if(i===rt.KML)return new nt.HA(e,null,nt.Vz.KML).setSource(r,o).setAttributionProvider(ot.Ve);throw new at.o(`Unsupported FileStorageServiceDataType '${i}'`,e)}catch(t){if(t instanceof at.o)throw t;throw new at.o(`Could not load vector data for id '${e}'`,e,null,{cause:t})}})(e)):null};var ct=n(63103),lt=n(89707);const dt="tpo_mono",ut="bmde_vector",gt="bmde_vector_relief";class ht{#e;#n;constructor(e=ct.ZZ,t=[ct.tH,st,ct.E4],n=Be){this._provider=e,this._byIdProvider=t,this._authResponseInterceptorProvider=n,this._geoResources=null;const{EnvironmentService:i,AuthService:o}=r.z.inject("EnvironmentService","AuthService");this.#e=o,this.#n=i}async init(){if(!this._geoResources)try{this._geoResources=(await this._provider()).map((e=>this._proxify(e)))}catch(e){this._geoResources=[],this.#n.isStandalone()?(console.warn("GeoResources could not be fetched from backend. Using fallback geoResources ..."),this._geoResources.push(...this._newFallbackGeoResources())):console.error("GeoResources could not be fetched from backend.",e)}return this._geoResources}all(){return this._geoResources?this._geoResources:(console.warn("GeoResourceService not yet initialized"),[])}byId(e){return this._geoResources?e&&this._geoResources.find((t=>t.id===e))||null:(console.warn("GeoResourceService not yet initialized"),null)}asyncById(e){for(const t of this._byIdProvider){const n=t(e);if(n?.id===e)return this.addOrReplace(n),n}return null}addOrReplace(e){const t=this._proxify(e),n=this._geoResources.find((t=>t.id===e.id));if(n){const e=this._geoResources.indexOf(n);this._geoResources.splice(e,1,t)}else this._geoResources.push(t);return(0,lt.Ek)(t),t}isAllowed(e){const t=this.byId(e);return!t||(t instanceof nt.DJ&&0===t.authRoles.length?!t.geoResourceIds.some((e=>!this.isAllowed(e))):0===t.authRoles.length||t.authRoles.filter((e=>this.#e.getRoles().includes(e))).length>0)}getKeywords(e){const t=this.byId(e);return t?t instanceof nt.DJ&&0===t.authRoles.length?[...new Set(t.geoResourceIds.map((e=>this.getKeywords(e))).flat())]:[...t.authRoles]:[]}getAuthResponseInterceptorForGeoResource(e){const t=this.byId(e)?.authRoles??[];return this._authResponseInterceptorProvider(t,e)}_newFallbackGeoResources(){return[...[new nt.X5("tpo","TopPlusOpen","https://sgx.geodatenzentrum.de/wmts_topplus_open/tile/1.0.0/web/default/WEBMERCATOR/{z}/{y}/{x}.png"),new nt.X5(dt,"TopPlusOpen monochrome","https://sgx.geodatenzentrum.de/wmts_topplus_open/tile/1.0.0/web_grau/default/WEBMERCATOR/{z}/{y}/{x}.png")].map((e=>e.setAttribution({description:"TopPlusOpen",copyright:[{label:"Bundesamt für Kartographie und Geodäsie (2024)",url:"https://www.bkg.bund.de/"},{label:"Datenquellen",url:"https://sg.geodatenzentrum.de/web_public/Datenquellen_TopPlus_Open.pdf"}]}))),...[new nt.u8(ut,"Web Vektor","https://sgx.geodatenzentrum.de/gdz_basemapde_vektor/styles/bm_web_col.json"),new nt.u8(gt,"Web Vektor Relief","https://sgx.geodatenzentrum.de/gdz_basemapde_vektor/styles/bm_web_top.json")].map((e=>e.setAttribution({description:"basemap.de Web Vektor",copyright:{label:"basemap.de / BKG 08/2022",url:"https://basemap.de/web-vektor/"}})))].map((e=>this._proxify(e)))}_proxify(e){return e[ht.proxyIdentifier]?e:(0,nt.sH)(e,(t=>{"_label"===t&&(0,lt.Ek)(e.id)}),ht.proxyIdentifier)}static get proxyIdentifier(){return"__geoResourceServiceProxy"}}const pt=e=>{const{ConfigService:t}=r.z.inject("ConfigService");try{const n=t.getValueAsPath("BACKEND_URL"),r=t.getValueAsPath("PROXY_URL");return e.trim().startsWith(n)||e.trim().startsWith(r)?e:`${r}?url=${encodeURIComponent(e)}`}catch(e){console.warn(e)}return e},mt=e=>{const{ConfigService:t}=r.z.inject("ConfigService");return e.trim().startsWith(t.getValueAsPath("SHORTENING_SERVICE_URL"))?`${e}.png`:`${t.getValueAsPath("SHORTENING_SERVICE_URL")}?url=${encodeURIComponent(e)}`},_t=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),i=`${n.getValueAsPath("SHORTENING_SERVICE_URL")}?createcode=${encodeURIComponent(e)}`,o=await t.get(i);if(o.ok)return(await o.json()).shorturl;throw new Error("A short url could not be retrieved")},vt=async()=>{const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService"),n=t.getValueAsPath("BACKEND_URL")+"icons",i=await e.get(`${n}/available`);if(i.ok){const e=[],t=await i.json(),o=(()=>{const{ConfigService:e}=r.z.inject("HttpService","ConfigService"),t=e.getValueAsPath("BACKEND_URL")+"icons",n=e=>t=>t===e||!!t?.endsWith(`/${e}.png`),i=(e,t)=>{const n=`${e}/${t}.png`;return()=>n};return[new Mt("rt_start",'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="rgba(9, 157, 218, 1)" viewBox="0 0 16 16"><path fill="#fff" d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/><path d="M8.028 14.624s5.203-4.931 5.203-8.671c0-6.937-10.406-6.937-10.406 0 0 3.741 5.203 8.671 5.203 8.671z" style="fill:#369dc9"/><ellipse cx="8.026" cy="5.976" rx="4.06" ry="3.981" style="opacity:.15500004;fill:#000;stroke-width:1.09297371;paint-order:stroke fill markers"/><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z" style="fill:#fff" transform="translate(4.483 1.786)scale(.50331)"/></svg>',n("rt_start"),i(t,"rt_start"),!1),new Mt("rt_intermediate",'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="30" height="30" viewBox="0 0 308.621 308.621"><circle cx="154.311" cy="154.311" r="142.325" style="opacity:1;fill:#369dc9;fill-opacity:1;fill-rule:nonzero;stroke:#fff;stroke-width:23.97122383;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"/><circle cx="154.311" cy="154.311" r="92.116" style="opacity:1;fill:#fff;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:22.86945724;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"/></svg>',n("rt_intermediate"),i(t,"rt_intermediate"),!1),new Mt("rt_destination",'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="rgba(9, 157, 218, 1)" viewBox="0 0 16 16"><path fill="#fff" d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/><path d="M8.028 14.624s5.203-4.931 5.203-8.671c0-6.937-10.406-6.937-10.406 0 0 3.741 5.203 8.671 5.203 8.671z" style="fill:#369dc9"/><ellipse cx="8.026" cy="5.976" rx="4.06" ry="3.981" style="opacity:.15500004;fill:#000;stroke-width:1.09297371;paint-order:stroke fill markers"/><path d="M14.778.085A.5.5 0 0 1 15 .5V8a.5.5 0 0 1-.314.464L14.5 8l.186.464-.003.001-.006.003-.023.009a12.435 12.435 0 0 1-.397.15c-.264.095-.631.223-1.047.35-.816.252-1.879.523-2.71.523-.847 0-1.548-.28-2.158-.525l-.028-.01C7.68 8.71 7.14 8.5 6.5 8.5c-.7 0-1.638.23-2.437.477A19.626 19.626 0 0 0 3 9.342V15.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 1 0v.282c.226-.079.496-.17.79-.26C4.606.272 5.67 0 6.5 0c.84 0 1.524.277 2.121.519l.043.018C9.286.788 9.828 1 10.5 1c.7 0 1.638-.23 2.437-.477a19.587 19.587 0 0 0 1.349-.476l.019-.007.004-.002h.001" style="fill:#fff" transform="translate(5.228 3.1)scale(.35398)"/></svg>',n("rt_destination"),i(t,"rt_destination"),!1)]})(),a=e=>t=>t===e||!!t?.endsWith(`/${e}.png`),s=e=>t=>`${n}/${t[0]},${t[1]},${t[2]}/${e}.png`;return t.forEach((t=>{const{id:n,svg:r}=t;if(r)e.push(new Mt(n,r,a(n),s(n)));else{const t=o.find((e=>e.id===n));t?e.push(t):console.warn(`Could not find or replace a svg resource for icon '${n}'`)}})),0===e.length&&console.warn("The backend provides no icons"),e}throw new Error("Icons could not be retrieved")},yt=e=>{const t=e.match(/([0-9]{0,3}),([0-9]{0,3}),([0-9]{0,3})+/g);return t?t[0].split(",").map((e=>parseInt(e))):null},St=e=>{const{ConfigService:t}=r.z.inject("ConfigService");return n=>{try{return`${t.getValueAsPath("BACKEND_URL")+"icons"}/${n[0]},${n[1]},${n[2]}/${e}.png`}catch(e){console.warn("No backend-information available.")}return null}},bt="data:image/svg+xml;base64,",ft="marker",wt='<svg id="marker" xmlns="http://www.w3.org/2000/svg" width="48.0" height="48.0" viewBox="0.0 0.0 48.0 48.0" fill="rgb(255,255,255)">\x3c!-- SIL OFL 1.1 --\x3e<path d="M36.28125,19.28125Q36.28125,20.875,35.515625,23.0Q34.765625,25.125,33.828125,26.921875Q32.90625,28.71875,31.171875,31.28125Q29.453125,33.828125,28.515625,35.0625Q27.59375,36.28125,25.828125,38.609375Q24.0625,40.9375,24.0,41.0Q23.9375,40.9375,22.171875,38.609375Q20.421875,36.28125,19.484375,35.0625Q18.5625,33.828125,16.828125,31.28125Q15.109375,28.71875,14.171875,26.921875Q13.25,25.125,12.484375,23.0Q11.71875,20.875,11.71875,19.28125Q11.71875,14.375,15.53125,10.6875Q19.359375,7.0,24.0,7.0Q28.65625,7.0,32.46875,10.6875Q36.28125,14.375,36.28125,19.28125Z" /></svg>';class Mt{constructor(e,t,n=null,r=null,i=!0){this._id=e,this._svg=t,this._isMonochrome=i,this._base64=this._toBase64(),this._urlMatcher=n||(()=>!1),this._urlProvider=r||(()=>null)}_toBase64(){return bt+(e=this._svg,window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(Number("0x"+t))))));var e}getUrl(e){return this._urlProvider(e)}matches(e){return this._urlMatcher(e)}get id(){return this._id}get svg(){return this._svg}get base64(){return this._base64}get anchor(){return this._id===ft?[.5,1]:[.5,.5]}get isMonochrome(){return this._isMonochrome}}var It=n(99887),At=n(34844);const Tt=(e,t)=>{const n=e.getBoundingClientRect(),r=t.map((e=>e.getBoundingClientRect())),i=e=>e.left>=e.right||e.top>=e.bottom,o=(e,t,n,r)=>DOMRect.fromRect({x:e,y:t,width:n-e,height:r-t}),a=((e,t)=>{const n=e=>e.width*e.height;return t.reduce(((e,t)=>e.map((e=>((e,t)=>{const n=[];if(t=((e,t)=>{if(i(e)||i(t))return DOMRect.fromRect();const n=Math.max(e.left,t.left),r=Math.min(e.right,t.right),o=Math.max(e.top,t.top),a=Math.min(e.bottom,t.bottom);return DOMRect.fromRect({x:n,y:o,width:Math.max(0,r-n),height:Math.max(0,a-o)})})(t,e),i(t))return[(r=e,DOMRect.fromRect({x:r.x,y:r.y,width:r.width,height:r.height}))];var r;const a=o(e.left,e.top,t.left,e.bottom);i(a)||n.push(a);const s=o(t.left,e.top,t.right,t.top);i(s)||n.push(s);const c=o(t.left,t.bottom,t.right,e.bottom);i(c)||n.push(c);const l=o(t.right,e.top,e.right,e.bottom);return i(l)||n.push(l),n})(e,t))).flat()),[e]).sort(((e,t)=>n(e)-n(t)||e.x-t.x||e.y-t.y))})(n,r);return a[a.length-1]},Et=()=>({defaultExtent:[995772.9694449581,5982715.763684852,1548341.2904285304,6544564.28740462],minZoomLevel:0,maxZoomLevel:20,srid:3857,localProjectedSrid:25832,localProjectedSridExtent:[5,-80,14,80],localProjectedCoordinateRepresentations:Lt,globalCoordinateRepresentations:[he.UTM,he.WGS84,he.MGRS,he.SphericalMercator]}),Lt=e=>{const t=[pe.UTM32,he.WGS84,he.SphericalMercator,he.MGRS];if(e){const{CoordinateService:n}=r.z.inject("CoordinateService"),i=n.toLonLat(e);if(i[0]>18||i[0]<6||i[1]>54||i[1]<42)return[he.UTM,he.WGS84,he.SphericalMercator,he.MGRS];i[0]<18&&i[0]>=12&&t.splice(0,0,pe.UTM33)}return t};var Dt=n(7326),xt=n(54620),Ct=n(42770),Nt=n(29132),zt=n(49466),kt=n(92149),jt=n(11854);class Rt{constructor(e,t={}){if(this.constructor===Rt)throw new TypeError("Can not construct abstract class.");if(!e)throw new TypeError("Id of this handler must be defined.");this._id=e,this._active=!1,this._options={preventDefaultClickHandling:!0,preventDefaultContextClickHandling:!0,...t}}get id(){return this._id}get active(){return this._active}get options(){return this._options}activate(e){const t=this.onActivate(e);return this._active=!0,t}deactivate(e){this.onDeactivate(e),this._active=!1}onActivate(e){throw new TypeError("Please implement abstract method #onActivate or do not call super.onActivate from child.")}onDeactivate(e){throw new TypeError("Please implement abstract method #onDeactivate or do not call super.onDeactivate from child.")}}var Pt=n(16129),Ot=n(87331),Gt=n(81426),Ut=n(953),Ft=n(13628),$t=n(29276),Yt=n(27733),Bt=n(49700),Ht=n(94974),Zt=n(30503),Wt=n(39892),Vt=n(17937);const Qt=[255,0,0],Xt=[255,255,255],Kt=[0,0,0],qt=[0,0,0,0],Jt={symbolSrc:null,color:null,scale:null,text:null,anchor:[.5,.5]},en=(e,t,n,r=-5)=>e?((e,t,n)=>new Gt.A({text:e,font:"normal 16px Open Sans",stroke:new Ut.A({color:(0,Wt.yQ)((0,Wt.E2)(t)).concat(1),width:2}),fill:new Ft.A({color:(0,Wt.E2)(t).concat([1])}),scale:n,offsetY:r}))(e,t,n):null,tn=e=>{if("number"==typeof e)return e;switch(e){case"large":return 2;case"medium":return 1.5;default:return 1}},nn=e=>{if("number"==typeof e)return e;switch(e){case"large":return 1;case"medium":return.75;default:return.5}},rn=e=>{const t="number"==typeof e?e:nn(e);switch(t){case 1:return"large";case.75:return"medium";case.5:return"small";default:return t}},on=()=>[new $t.Ay({})],an=e=>{const t={"marker-size":"medium","marker-color":"#fff",stroke:"#555555","stroke-opacity":1,"stroke-width":3,fill:"#555555","fill-opacity":.6},n=e?(e=>{const n={};return Object.keys(t).forEach((t=>{const r=e.get(t);r&&(n[t]=r)})),n})(e):{},r={...t,...n};return[new $t.Ay({image:new Yt.A({fill:new Ft.A({color:(0,Wt.E2)(r["marker-color"]).concat([1])}),radius:(e=>{if("number"==typeof e)return e;switch(e){case"large":return 7;case"medium":return 5;default:return 3}})(r["marker-size"])}),stroke:new Ut.A({color:(0,Wt.E2)(r.stroke).concat([r["stroke-opacity"]]),width:r["stroke-width"]}),fill:new Ft.A({color:(0,Wt.E2)(r.fill).concat([r["fill-opacity"]])})})]},sn=(e=Jt)=>{const t=e.color?e.color:"#ff0000",n=e.anchor?e.anchor:[.5,.5],r={anchor:n,anchorXUnits:"fraction",anchorYUnits:"fraction",src:e.symbolSrc,scale:nn(e.scale)},i={anchor:n,anchorXUnits:"fraction",anchorYUnits:"fraction",src:e.symbolSrc?e.symbolSrc:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0iI0ZGRiIgY2xhc3M9ImJpIGJpLWdlby1hbHQtZmlsbCIgdmlld0JveD0iMCAwIDE2IDE2Ij48IS0tTUlUIExpY2Vuc2UtLT48cGF0aCBkPSJNOCAxNnM2LTUuNjg2IDYtMTBBNiA2IDAgMCAwIDIgNmMwIDQuMzE0IDYgMTAgNiAxMG0wLTdhMyAzIDAgMSAxIDAtNiAzIDMgMCAwIDEgMCA2Ii8+PC9zdmc+Cg==",color:t,scale:nn(e.scale)},o=e.symbolSrc?(0,Vt.i)(e.symbolSrc)===Vt.W.LOCAL?i:r:i;return[new $t.Ay({image:new Bt.A(o),text:e.text?en(e.text,t,tn(e.scale),2):null})]},cn=(e=Jt)=>{const t=e.color?e.color:"#ff0000",n=(0,Ie.Kg)(e.text)?e.text:"new text",r=tn(e.scale);return[new $t.Ay({text:en(n,t,r)})]},ln=(e=Jt)=>{const t=e.color?(0,Wt.E2)(e.color):(0,Wt.E2)("#ff0000");return[new $t.Ay({stroke:new Ut.A({color:t.concat([1]),width:3})})]},dn=(e=Jt)=>{const t=e.color?(0,Wt.E2)(e.color):(0,Wt.E2)("#ff0000");return[new $t.Ay({stroke:new Ut.A({color:t.concat([1]),width:3}),fill:new Ft.A({color:t.concat([.4])})})]},un=(e,t,n)=>{const{MapService:i}=r.z.inject("MapService"),o=t.geometry.clone(),a=(0,fe.qC)(o),s=t.resolution,c=t.pixelRatio,l=(t.geometry?t.geometry.get(fe.tT):null)??i.calcLength(a.getCoordinates()),d=(0,fe.Zj)(l,s),u=d*a.getLength()/s,g=(0,fe.$4)(a,d),h=new Ft.A({color:Qt.concat([.4])}),p=new Ut.A({color:Qt.concat([1]),width:3*c});o.setCoordinates(e),n(o,h,p),(o instanceof Me.Ay?e[0]:e).every(((e,t,r)=>{return i=n,o=[e,r[t+1]],a=g[t],s=u,!!o[1]&&(()=>{const e=(0,fe.Fp)(o[0],o[1],-4*c),t=(0,fe.Fp)(o[0],o[1],-2*c);return i(e,h,((e,t)=>new Ut.A({color:Qt.concat([1]),width:8*c,lineCap:"butt",lineDash:[3*c,(t-3)*c],lineDashOffset:3*c+t*e}))(a,s)),i(t,h,((e,t)=>new Ut.A({color:Qt.concat([1]),width:5*c,lineCap:"butt",lineDash:[2*c,(t/5-2)*c],lineDashOffset:2*c+t*e}))(a,s)),!0})();var i,o,a,s}))},gn=(e,t)=>{const n=new Ut.A({color:Qt.concat([1]),width:3}),r=[new $t.Ay({stroke:n,geometry:e=>{if((0,fe.Q5)(e.getGeometry())){const t=e.getGeometry().getCoordinates(),n=e.getGeometry().getLength();return new Ht.A(t[0],n)}},zIndex:0}),t?new $t.Ay({renderer:(e,t)=>{un(e,t,(e=>e.customContextRenderFunction?e.customContextRenderFunction:(e=>{const t=(0,Ot.J7)(e.context,{pixelRatio:1});return(e,n,r)=>{t.setFillStrokeStyle(n,r),t.drawGeometry(e)}})(e))(t))}}):new $t.Ay({stroke:new Ut.A({color:Qt.concat([1]),lineDash:[8],width:2}),fill:new Ft.A({color:Qt.concat([.4])})})];return r},hn=e=>{const t=e?(e=>{const t=e.get("features");return t[0]?t[0]:null})(e):null,n=t?vn(t):Qt;return[new $t.Ay({image:new Yt.A({radius:6,stroke:new Ut.A({color:Xt,width:3}),fill:new Ft.A({color:n})})})]},pn=()=>{const e=e=>new $t.Ay({image:new Yt.A({radius:5,stroke:new Ut.A({color:Xt,width:3}),fill:new Ft.A({color:e})}),geometry:e=>{const t=(n=e.getGeometry())instanceof we.A?e.getGeometry().getCoordinates():n instanceof Me.Ay?e.getGeometry().getCoordinates()[0]:void 0;var n;return t?new Zt.A(t):e.getGeometry()},zIndex:29});return(t,n)=>{const r=vn(t)||Qt,i=t.getStyleFunction();if(!i||!i(t,n))return[e(r)];const o=i(t,n);return o[0]?o.concat([e(r)]):[o,e(r)]}},mn=e=>{const t=e,n=e.slice(0,-1),r=new Ft.A({color:t}),i=e=>new Ut.A({color:n,width:e});return e=>{switch(e.getGeometry().getType()){case"Point":case"MultiPoint":return[new $t.Ay({image:new Yt.A({fill:r,radius:5,stoke:i(1)})})];case"LineString":case"MultiLineString":return[new $t.Ay({stroke:i(3)})];case"Polygon":case"MultiPolygon":return[new $t.Ay({fill:r,stroke:i(2)})];case"GeometryCollection":return[new $t.Ay({image:new Yt.A({fill:r,radius:5,stoke:i(1)}),fill:r,stroke:i(2)})]}}},_n=e=>{const t=new $t.Ay({fill:new Ft.A({color:Xt.concat([.4])}),stroke:new Ut.A({color:Xt,width:0})});return(n,r)=>{let i;if("Polygon"===n.getGeometry().getType())i=[t];else if("Point"===n.getGeometry().getType()){const e=new Ft.A({color:Qt.concat([.4])}),t=new Ut.A({color:Qt.concat([1]),width:3});i=[new $t.Ay({image:new Yt.A({radius:4,fill:e,stroke:t}),zIndex:30})]}else i=e(n,r);return i}},vn=e=>{if(null==e)return null;const t=Sn(e);if(e.getStyle(),t){const e=t[0],n=e?.getStroke(),i=e?.getImage(),o=e?.getText();if(n)return(0,Wt.Ob)(n.getColor());if(i){if(i.getColor())return(0,Wt.Ob)(i.getColor());const{IconService:e}=r.z.inject("IconService");return(0,Wt.Ob)(e.decodeColor(i.getSrc()))}if(o)return(0,Wt.Ob)(o.getFill().getColor())}return null},yn=e=>{if(e){const t=1,n="_",r=e.getId().split(n);return r.length<=t+1?null:r[t]}return null},Sn=e=>{const t=e=>Array.isArray(e)?e:[e];return e.getStyle()?(n=>"function"==typeof n?((e,n)=>t(e(n)))(n,e):t(n))(e.getStyle()):null};var bn=n(73445),fn=n(75488),wn=n(11795);class Mn{constructor(){this._overlay=null;const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e,this._tooltipMessageProvideFunction=()=>null}activate(e){this._map=e,this._overlay=this._createOverlay({offset:[15,0],positioning:"center-left"},fn.J.HELP),this._map.addOverlay(this._overlay)}deactivate(){this._overlay&&this._map.removeOverlay(this._overlay),this._overlay=null,this._map=null}notify(e){if(!this.active)return;const t=this._tooltipMessageProvideFunction(e);null==t||e.dragging?this._hide():this._updateOverlay(e.coordinate,t)}get active(){return null!==this._overlay}set messageProvideFunction(e){this._tooltipMessageProvideFunction=e}get messageProvideFunction(){return this._tooltipMessageProvideFunction}_createOverlay(e={},t){const n=document.createElement(fn.O.tag);return n.type=t,new wn.A({...e,element:n})}_updateOverlay(e,t){this._overlay.getElement().value=t,this._overlay.setPosition(e)}_hide(){this._overlay.setPosition(void 0)}}var In=n(58704);const An=Object.freeze({ACTIVE:"active",DRAW:"draw",MODIFY:"modify",SELECT:"select",OVERLAY:"overlay"}),Tn=Object.freeze({FIRSTPOINT:"firstPoint",LASTPOINT:"lastPoint",VERTEX:"vertex",EDGE:"edge",FACE:"face"}),En=(e,t=!1)=>t?{hitTolerance:10,layerFilter:t=>t===e||t.getStyle&&t.getStyle()===hn}:{hitTolerance:10,layerFilter:t=>t===e},Ln=e=>{const t=t=>t===e;return{layers:t,filter:(e,n)=>t(n)?e:null,style:null}},Dn=e=>({features:e,style:hn,deleteCondition:e=>(0,In.TS)(e)&&(0,In.t5)(e)}),xn=(e,t,n)=>{const r=[],i=e.forEachFeatureAtPixel(n,((e,n)=>{if(n===t&&r.push(e),!n&&e.get("features").length>0)return e}),En(t,!0));if(i){const e=i.getGeometry(),t=i.get("features")[0].getGeometry();return(0,fe.r6)(t,e)?Tn.VERTEX:Tn.EDGE}return!i&&r.length>0?Tn.FACE:null},Cn=(e,t,n)=>{const r=[];return e.forEachFeatureAtPixel(n,((e,n)=>{n===t&&r.push(e)}),En(t)),r},Nn=(e,t,n)=>{const r="function"==typeof n?n:()=>{};e.forEach((e=>{r(e),t.getSource().hasFeature(e)&&t.getSource().removeFeature(e)}))},zn=()=>{const{EnvironmentService:e}=r.z.inject("EnvironmentService");return e.isTouch()?12:4},kn=e=>{const{TranslationService:t}=r.z.inject("TranslationService"),n=e=>t.translate(e);if(e.type===An.ACTIVE)return n("olMap_handler_measure_start");if(e.type===An.DRAW){const t=t=>e.pointCount>2?t+"<br/>"+n("olMap_handler_delete_last_point"):t;return e.snap===Tn.FIRSTPOINT?t(n("olMap_handler_measure_snap_first_point")):e.snap===Tn.LASTPOINT?t(n("olMap_handler_measure_snap_last_point")):t(n("olMap_handler_measure_continue_line"))}return e.type===An.MODIFY?e.snap===Tn.VERTEX?e.geometryType&&"Polygon"===e.geometryType?n("olMap_handler_measure_modify_polygon_click_or_drag"):e.geometryType&&"LineString"===e.geometryType?n("olMap_handler_measure_modify_linestring_click_or_drag"):n("olMap_handler_measure_modify_click_or_drag"):e.snap===Tn.EDGE?n("olMap_handler_measure_modify_click_new_point"):n("olMap_handler_measure_modify_key_for_delete"):e.type===An.SELECT?n("olMap_handler_measure_select"):e.type===An.OVERLAY?n("olMap_handler_measure_modify_click_drag_overlay"):void 0};var jn=n(86717),Rn=n(43599);const Pn=(e,t)=>{let n;const i=[];if(e.getSource().getFeatures().filter((e=>"Circle"!==e.getGeometry().getType())).forEach((n=>{const o=n.clone();var a;o.setId(n.getId()),o.getGeometry().setProperties(n.getGeometry().getProperties()),o.getGeometry().transform(t,"EPSG:4326"),"Polygon"===o.getGeometry().getType()&&o.setGeometry((a=o.getGeometry())instanceof Me.Ay&&3===a.getCoordinates()[0].length?new we.A(a.getCoordinates()[0]):a);const s=o.getStyleFunction()||e.getStyleFunction();if(s){const e=(e=>{const t=(e=>(e[0]?e[0]:e&&!Array.isArray(e)?e:null)??new $t.Ay)(e),n=(e=>({fill:e.getFill?e.getFill():null,stroke:e.getStroke?e.getStroke():null,text:e.getText?e.getText():null,image:e.getImage?e.getImage():null,zIndex:e.getZIndex?e.getZIndex():null}))(t);return n.image instanceof Yt.A&&(n.image=null),n.image instanceof Bt.A&&(0,Vt.i)(n.image.getSrc())===Vt.W.LOCAL&&(n.image=(e=>{const t=e.getSrc(),n=e.getScale(),{IconService:i}=r.z.inject("IconService"),o=i.getIconResult(t),a=o&&o.isMonochrome?o?.getUrl(e.getColor()):null,s={anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:a,scale:n};return a?new Bt.A(s):e})(n.image)),n.text&&!n.image&&(n.image=new Bt.A({src:"noimage",scale:0})),new $t.Ay(n)})(s(o));e.getText()&&o.get("name")&&o.unset("name"),o.setStyle(e)}i.push(o)})),i.length>0){1===i.length&&i.push(new jn.A);const t={decimals:8};n=new Rn.Ay({writeStyles:!0}).writeFeatures(i,t);const r=e=>e.replace(/<Icon>\s*<href>noimage<\/href>\s*<\/Icon>/g,""),o=e=>e.replace(/<Placemark\/>/g,"");n=o(r(n)),e.label&&(n=n.replace(/<Document>/,"<Document><name>"+e.label+"</name>"))}return n};var On=n(99651);const Gn=e=>{const t=[];return e.getSource().getFeatures().forEach((e=>{const n=e.get("overlays");n&&n.forEach((e=>t.push(e)))})),t};class Un{constructor(){}_add(e,t,n){const r=t.get("overlays")||[];r.push(e),e.set("feature",t),t.set("overlays",r),n.addOverlay(e)}_remove(e,t,n){const r=t.get("overlays")||[];t.set("overlays",r.filter((t=>t!==e))),n.removeOverlay(e)}add(e,t){throw new TypeError("Please implement and call abstract method #add from child or do not call super.add from child.")}update(e,t,n={}){throw new TypeError("Please implement and call abstract method #update from child or do not call super.update from child.")}remove(e,t){(e.get("overlays")||[]).forEach((e=>t.removeOverlay(e))),e.set("overlays",[])}}var Fn=n(64473);const $n=[{name:"top",isSector:e=>e<=60||300<e},{name:"right",isSector:e=>60<e&&e<=120},{name:"bottom",isSector:e=>120<e&&e<=210},{name:"left",isSector:e=>210<e&&e<=300}];class Yn extends Un{constructor(){super();const{MapService:e,EnvironmentService:t,StoreService:n}=r.z.inject("MapService","EnvironmentService","StoreService");this._mapService=e,this._environmentService=t,this._storeService=n}add(e,t){this._createDistanceOverlay(e,t),this._createOrRemoveAreaOverlay(e,t),this._createOrRemovePartitionOverlays(e,t),this._restoreManualOverlayPosition(e,t)}update(e,t,n={}){const r=e.get("measurement"),i=n.geometry?n.geometry:e.getGeometry();r&&(this._updateOlOverlay(r,i,""),this._createOrRemoveAreaOverlay(e,t),this._createOrRemovePartitionOverlays(e,t,i));const o=e.get("overlays");if(o){const e=e=>{if("visible"in e||"top"in e){const t=!("visible"in e)||e.visible,n=!("top"in e)||e.top;return t&&n?"inherit":"none"}return"inherit"},t=e(n),r="opacity"in n?n.opacity:1;o.forEach((e=>{e.getElement().style.display=t,e.getElement().style.opacity=r}))}}remove(e,t){(e.get("overlays")||[]).forEach((e=>t.removeOverlay(e))),e.set("measurement",null),e.set("area",null),e.set("partitions",null),e.set("overlays",[])}_isActiveMeasurement(){const{measurement:e}=this._storeService.getStore().getState();return e.active}_createDistanceOverlay(e,t){const n=e.get("measurement")||(()=>{const n=!this._environmentService.isTouch()&&this._isActiveMeasurement(),r=this._createOlOverlay(t,{offset:[0,-15],positioning:"bottom-center"},fn.J.DISTANCE,n);return e.set("measurement",r),this._add(r,e,t),r})();return this._updateOlOverlay(n,e.getGeometry()),n}_createOrRemoveAreaOverlay(e,t){let n=e.get("area");if(e.getGeometry()instanceof Me.Ay)if(e.getGeometry().getArea()){const r=!this._environmentService.isTouch()&&this._isActiveMeasurement();n||(n=this._createOlOverlay(t,{positioning:"top-center"},fn.J.AREA,r),this._add(n,e,t)),this._updateOlOverlay(n,e.getGeometry()),e.set("area",n)}else n&&(this._remove(n,e,t),e.set("area",null));else n&&(this._remove(n,e,t),e.set("area",null))}_createOrRemovePartitionOverlays(e,t,n=null){const r=(()=>{const r=e.get("partitions")||[];return n?r:(n=>(n.forEach((n=>this._remove(n,e,t))),[]))(r)})();n||(n=e.getGeometry(),e.getGeometry()instanceof Me.Ay&&(n=new we.A(e.getGeometry().getCoordinates(!1)[0])));const i=t.getView().getResolution(),o=this._mapService.calcLength((0,fe.qC)(n).getCoordinates());o&&n.set(fe.tT,o);const a=(0,fe.Zj)(o,i);let s=0;for(let i=a;i<1;i+=a,s++){let o=r[s]||!1;!1===o&&(o=this._createOlOverlay(t,{offset:[0,-25],positioning:"top-center"},fn.J.DISTANCE_PARTITION),this._add(o,e,t),r.push(o)),this._updateOlOverlay(o,n,i)}if(s<r.length)for(let n=r.length-1;n>=s;n--){const i=r[n];this._remove(i,e,t),r.pop()}this._justifyPlacement(n,r),e.set("partitions",r),1!==a&&e.set("partition_delta",a)}_restoreManualOverlayPosition(e){["area","measurement"].forEach((t=>{const n=e.get(t);if(n){const r=e.get(t+"_position_x"),i=e.get(t+"_position_y");void 0!==r&&void 0!==i&&(n.set("manualPositioning",!0),n.setOffset([0,0]),n.setPosition([r,i]))}}))}_justifyPlacement(e,t){const n=(0,fe.qC)(e),r={minPartition:0,length:0};n.forEachSegment(((e,i)=>{const o=new we.A([e,i]),a=r.length+o.getLength(),s=a/n.getLength(),c=(0,fe.nT)(o);t.forEach((e=>{const t=e.getElement(),n=t.value;r.minPartition<n&&n<s&&(t.placement=this._getPlacement(c),e.setOffset(t.placement.offset),e.setPositioning(t.placement.positioning))})),r.minPartition=s,r.length=a}))}_createOlOverlay(e,t,n,r=!1){const i=document.createElement(fn.O.tag);i.type=n,i.isDraggable=r;const o=new wn.A({...t,element:i,stopEvent:r});return r&&this._createDragOn(o,e),o}_updateOlOverlay(e,t,n){const r=e.getElement();r.value=n,r.geometry=t,e.get("manualPositioning")||e.setPosition(r.position)}_createDragOn(e,t){const n=e.getElement(),r=t.getInteractions().getArray().find((e=>e instanceof Fn.A));if(r){const i=()=>{r.setActive(!1),e.set("dragging",!0),t.once(bn.A.POINTERUP,o)},o=()=>{r.setActive(!0),e.set("dragging",!1)},a=()=>{e.set("dragable",!0)},s=()=>{e.set("dragable",!1)};n.addEventListener(bn.A.POINTERDOWN,i),n.addEventListener(bn.A.POINTERUP,o),n.addEventListener("mouseenter",a),n.addEventListener("mouseleave",s)}}_getPlacement(e){const t=(e=>$n.find((t=>t.isSector(e))))(e);return{sector:t?.name,positioning:"center-center",offset:((e,t)=>{const n=e/180*Math.PI,r=[Math.sin(n)*t,-Math.cos(n)*t],i=Math.atan2(r[1],r[0]);return[Math.sin(i)*t,-Math.cos(i)*t]})(e,-25)}}}var Bn=n(4087),Hn=n(26221),Zn=n(31533),Wn=n(65394),Vn=n(72145),Qn=n(80943),Xn=n(56729),Kn=n(79545),qn=n(50567),Jn=n(52411),er=n(38903);const tr="routing_layer",nr="perm_rt_layer",rr="perm_wp_layer";class ir extends Hn.h{#r;#n;#i;constructor(){super(),this._initialized=!1;const{TranslationService:e,EnvironmentService:t,RoutingService:n}=r.z.inject("TranslationService","EnvironmentService","RoutingService");this.#r=e,this.#n=t,this.#i=n}async _lazyInitialize(){if(!this._initialized){try{return await this.#i.init(),(0,Zn.Fb)(this.#i.getCategories()[0]?.id),this._parseRouteFromQueryParams(this.#n.getQueryParams()),this._initialized=!0}catch(e){console.error("Routing service could not be initialized",e),(0,Re.L)(`${this.#r.translate("global_routingService_init_exception")}`,Re.A.ERROR)}return!1}return!0}async register(e){if(!this.#n.isEmbedded()&&this.#n.getQueryParams().has(Le.h.ROUTE_WAYPOINTS)){const t=this.#n.getQueryParams().get(Le.h.TOOL_ID);await this._lazyInitialize()&&setTimeout((()=>{(0,Zn.Yf)(),1===this._parseWaypoints(this.#n.getQueryParams()).length?((0,Jn.sI)(er.K.ROUTING),(0,Kn.i)(Wn.S.ROUTING)):t!==Wn.S.ROUTING?(0,O.sY)(e,(e=>e.routing.route),(()=>(0,Zn.LU)())):(0,Kn.i)(Wn.S.ROUTING)}))}(0,O.lB)(e,(e=>e.routing.active),(e=>{e?((0,Xn.N_)(),(0,qn.Z_)(),(0,lt.VE)(tr,{constraints:{hidden:!0,alwaysTop:!0}}),(0,lt.e5)(nr),(0,lt.e5)(rr)):(0,lt.e5)(tr)})),(0,O.lB)(e,(e=>e.tools.current),(async e=>{e!==Wn.S.ROUTING?((0,Xn.kf)(ir.HIGHLIGHT_FEATURE_ID),(0,Vn.D)(),(0,Zn.LU)()):await this._lazyInitialize()&&setTimeout((()=>{(0,Zn.Yf)(),(0,Jn.sI)(er.K.ROUTING)}))}),!1),(0,O.lB)(e,(e=>e.routing.proposal),((t,n)=>((t,n)=>{const{coord:r,type:i}=t;if(i===Qn.to.EXISTING_START_OR_DESTINATION&&n.routing.waypoints.length<1)return;(0,Kn.i)(Wn.S.ROUTING),(0,Xn.N_)(),(0,qn.Z_)(),(0,Xn.lX)({id:ir.HIGHLIGHT_FEATURE_ID,type:[Qn.to.EXISTING_INTERMEDIATE,Qn.to.EXISTING_START_OR_DESTINATION].includes(i)?Xn.pN.DEFAULT:Xn.pN.MARKER_TMP,data:{coordinate:[...r]}});const o=Ne.qy`<ba-proposal-context-content></ba-proposal-context-content>`;(0,Vn.j)(o),(0,O.sY)(e,(e=>e.bottomSheet.data),(()=>(0,Xn.kf)(ir.HIGHLIGHT_FEATURE_ID)))})(t.payload,n))),(0,O.lB)(e,(e=>e.routing.status),(e=>(async e=>{[Qn.Tc.Start_Missing,Qn.Tc.Destination_Missing].includes(e)&&(0,Kn.i)(Wn.S.ROUTING)})(e))),(0,O.lB)(e,(e=>e.routing.waypoints),(e=>(e=>{(0,Xn.N_)(),(0,qn.Z_)(),e.length<2&&(0,Vn.D)()})(e))),(0,O.lB)(e,(e=>e.layers.removed),((e,t)=>((e,t)=>{!t.routing.active&&[nr,rr].some((t=>e.payload.includes(t)))&&(0,Zn.cL)()})(e,t)))}_parseWaypoints(e){const t=[],n=e.get(Le.h.ROUTE_WAYPOINTS);if(n){const e=n.split(",");if(e.length>1&&e.length%2==0)for(let n=0;n<e.length-1;n+=2)t.push([parseFloat(e[n]),parseFloat(e[n+1])])}return t.filter((e=>(0,Ie.Xq)(e)))}_parseRouteFromQueryParams(e){const t=this._parseWaypoints(e);if(t.length>0){if(e.has(Le.h.ROUTE_CATEGORY)){const t=e.get(Le.h.ROUTE_CATEGORY);this.#i.getCategoryById(t)&&(0,Zn.Fb)(t)}1===t.length?(0,Zn.Bi)(t[0]):(0,Zn.XX)(t)}}static get HIGHLIGHT_FEATURE_ID(){return"#routingPluginHighlightFeatureId"}}var or=n(35598),ar=n(44294),sr=n(74458),cr=n(31706),lr=n(6933),dr=n(6837);const ur=e=>{const{TranslationService:t}=r.z.inject("TranslationService"),n=(e,n=[])=>t.translate(e,n),{feature:i}=e;switch(i.get(Ir)){case fr.ROUTE_ALTERNATIVE:{const{description:e}=i.get(Mr);return n("olMap_handler_routing_choose_alternative_route",[e])}case fr.ROUTE_SEGMENT:return n("olMap_handler_routing_modify_segment");case fr.START:return n("olMap_handler_routing_modify_start");case fr.DESTINATION:return n("olMap_handler_routing_modify_destination");case fr.INTERMEDIATE:return n("olMap_handler_routing_modify_intermediate")}return""};var gr=n(83245),hr=n(39400);const pr={hike:{up:300,down:500,horizontal:4e3},bike:{up:300,down:25e4,horizontal:15e3},mtb:{up:400,down:25e4,horizontal:2e4},racingbike:{up:400,down:35e4,horizontal:27e3}},mr={language:"de",vehicle:null,roadClass:null,surface:null},_r=[e=>["bike","racingbike"].includes(e.vehicle)&&"path_grade4"===e.roadClass?{id:100,message:"de"===e.language?"(schwieriger) Steig, Trittsicherheit erforderlich. Fahrrad muss vorher abgestellt werden.":"(Difficult) climb, sure-footedness required. Bicycle must be parked beforehand.",criticality:Qn.p2.WARNING}:null,e=>["hike","mtb"].includes(e.vehicle)&&"path_grade4"===e.roadClass?"hike"===e.vehicle?{id:102,message:"de"===e.language?"(schwieriger) Steig, Trittsicherheit erforderlich.":"(Difficult) climb, surefootedness required.",criticality:Qn.p2.HINT}:{id:101,message:"de"===e.language?"(schwieriger) Steig, Trittsicherheit erforderlich. MTB muss evtl. vorher abgestellt oder getragen werden.":"(Difficult) climb, surefootedness required. MTB may have to be parked or carried beforehand.",criticality:Qn.p2.HINT}:null,e=>["hike","bike","mtb","racingbike"].includes(e.vehicle)&&"path_grade5"===e.roadClass?"hike"===e.vehicle?{id:201,message:"de"===e.language?"schwieriger Steig mit Kletterpassagen; gute Trittsicherheit, ggf. spezielle Ausrüstung erforderlich":"difficult climb with climbing passages; good surefootedness, special equipment may be required",criticality:Qn.p2.WARNING}:{id:200,message:"de"===e.language?"schwieriger Steig mit Kletterpassagen; gute Trittsicherheit, ggf. spezielle Ausrüstung erforderlich; Fahrrad muss vorher abgestellt werden.":"difficult trail with climbing sections; good surefootedness, special equipment may be required; bikes must be parked beforehand.",criticality:Qn.p2.WARNING}:null,e=>"racingbike"===e.vehicle&&"compacted"===e.surface?{id:300,message:"de"===e.language?"Befestigter Weg/Pfad. Rennrad muss evtl. geschoben werden.":"Paved path/trail. Racing bike may have to be pushed.",criticality:Qn.p2.HINT}:null,e=>"racingbike"===e.vehicle&&"ground"===e.surface&&["path_grade3","track_grade5","other"].includes(e.roadClass)?{id:301,message:"de"===e.language?"Unbefestigter Weg/Pfad. Rennrad muss geschoben werden.":"Unpaved path/trail. Road bike must be pushed.",criticality:Qn.p2.WARNING}:null,e=>["bike","racingbike"].includes(e.vehicle)&&"ground"===e.surface&&"track_grade5"===e.roadClass?{id:400,message:"de"===e.language?"Unbefestigter Weg/Pfad. Fahrrad muss evtl. geschoben werden.":"Unpaved path/trail. Bicycle may have to be pushed.",criticality:Qn.p2.HINT}:null,e=>["primary","motorway","secondary"].includes(e.roadClass)?{id:500,message:"de"===e.language?"Evtl. hohes Verkehrsaufkommen":"Possibly high traffic volume",criticality:Qn.p2.HINT}:null],vr=(e,t)=>e.reduce(((e,n)=>{const[r,i,o]=n,a=(e=>{const t=new Ae.PolygonArea.PolygonArea(Ae.Geodesic.WGS84,!0);for(const[n,r]of e)t.AddPoint(r,n);return t.Compute(!1,!0).perimeter})(t.slice(r,i+1));if(o){const t=[r,i];e[o]?(e[o].distance=e[o].distance+a,e[o].segments=[...e[o].segments,t]):e[o]={distance:a,segments:[t]}}return e}),{}),yr=(e,t)=>{const n=e[0],r=e[1];return t.filter((e=>{const t=e[0];return e[1]>n&&t<r}))},Sr=(e,t,n,r=null)=>{const i=t.map((t=>[t[0]<=e[0]?e[0]:t[0],t[1]<=e[1]?t[1]:e[1],n(e,t)])),o=r?r(e):e[2];return((e,t,n)=>{const r=t[t.length-1];return[...t.slice(0,-1),r[1]<e[1]?[r[0],e[1],n]:r]})(e,i,o)},br=(e,t)=>{const{ConfigService:n}=r.z.inject("ConfigService"),i=n.getValue("DEFAULT_LANG"),o=e.vehicle.replace("bvv-","").replace("bayernnetz-",""),a=Object.hasOwn(pr,o)?pr[o]:null,s=null!=t?.sumUp&&null!=t?.sumDown,c=a&&s?((e,t,n,r)=>{const{up:i,down:o,horizontal:a}=r,s=36e5,c=(t/i+n/o)*s,l=e/a*s;return c>l?l/2+c:c/2+l})(e.paths[0].distance,t?.sumUp,t?.sumDown,a):e.paths[0].time,l=(d=e.paths[0].points,(new cr.Ay).readGeometry(d)).getCoordinates();var d;const u=vr(e.paths[0].details.surface,l),g=((e,t)=>{const n=["track","path","footway"],r=(e,t)=>{const n=yr(e,t);return n.length>0?Sr(e,n,((e,t)=>e[2]+"_"+t[2])):[e]};return e.reduce(((e,i)=>{const[o,a,s]=i;return n.includes(s)?[...e,...r(i,t)]:[...e,i]}),[])})(e.paths[0].details.road_class,e.paths[0].details.track_type),h={surface:u,road_class:vr(g,l)},p=((e,t,n,r)=>{const i=(t,n)=>{const i={...mr,language:r,vehicle:e,roadClass:t[2],surface:n[2]};return _r.map((e=>e(i))).filter((e=>null!==e))},o=()=>"";return t.reduce(((e,t)=>{const r=yr(t,n);return r.length>0&&Sr(t,r,i,o).filter((e=>0!==e[2].length)).forEach((t=>{const[n,r,i]=t,o=[n,r];i.forEach((t=>{const n=t.id,r=t.message,i=t.criticality;Object.hasOwn(e,n)?e[n].segments=[...e[n].segments,o]:e[n]={message:r,criticality:i,segments:[o]}}))})),e}),{})})(o,g,e.paths[0].details.surface,i);return{time:c,dist:t.linearDistance,twoDiff:s?[t.sumUp,t.sumDown]:[],details:h,warnings:p}},fr=Object.freeze({START:"start",DESTINATION:"destination",INTERMEDIATE:"intermediate",ROUTE:"route",ROUTE_ALTERNATIVE:"route_alternative",ROUTE_SEGMENT:"route_segment",ROUTE_HIGHLIGHT:"route_highlight",ROUTE_COPY:"route_copy"}),wr=Object.freeze({ROUTE_ALTERNATIVE:"rt_alternativeRouteLayer",ROUTE:"rt_routeLayer",ROUTE_COPY:"rt_routeCopyLayer",INTERACTION:"rt_interactionLayer",HIGHLIGHT:"rt_highlightLayer"}),Mr="Routing_Cat",Ir="Routing_Feature_Type",Ar="Routing_Feature_Index",Tr="Routing_Segment_Index";class Er extends Rt{constructor(e=br,t=ot.a9){super(tr);const{StoreService:n,RoutingService:i,MapService:o,EnvironmentService:a,TranslationService:s,ElevationService:c,GeoResourceService:l}=r.z.inject("StoreService","RoutingService","MapService","EnvironmentService","TranslationService","ElevationService","GeoResourceService");this._storeService=n,this._routingService=i,this._mapService=o,this._environmentService=a,this._translationService=s,this._elevationService=c,this._geoResourceService=l,this._map=null,this._routingLayerGroup=null,this._alternativeRouteLayer=null,this._routeLayer=null,this._routeLayerCopy=null,this._highlightLayer=null,this._interactionLayer=null,this._activeInteraction=!1,this._modifyInteraction=null,this._translateInteraction=null,this._selectInteraction=null,this._catId=null,this._currentRoutingResponse=null,this._promiseQueue=new ke,this._registeredObservers=[],this._mapListeners=[],this._helpTooltip=new Mn,this._helpTooltip.messageProvideFunction=ur,this._routeStatsProvider=e,this._attributionProvider=t}onActivate(e){return this._map=e,this._alternativeRouteLayer=this._createLayer(wr.ROUTE_ALTERNATIVE),this._routeLayer=this._createLayer(wr.ROUTE),this._routeLayerCopy=this._createLayer(wr.ROUTE_COPY),this._highlightLayer=this._createLayer(wr.HIGHLIGHT),this._interactionLayer=this._createLayer(wr.INTERACTION),this._routingLayerGroup=new or.A({layers:[this._alternativeRouteLayer,this._routeLayer,this._routeLayerCopy,this._highlightLayer,this._interactionLayer]}),this._translateInteraction=this._createTranslate(this._interactionLayer),this._map.addInteraction(this._translateInteraction),this._selectInteraction=this._createSelect(this._interactionLayer,this._alternativeRouteLayer),this._map.addInteraction(this._selectInteraction),this._environmentService.isTouch()||(this._modifyInteraction=this._createModify(this._routeLayerCopy),this._map.addInteraction(this._modifyInteraction)),this._registeredObservers=this._register(this._storeService.getStore()),this._mapListeners.push(e.on(bn.A.POINTERMOVE,this._newPointerMoveHandler(e,this._interactionLayer,this._alternativeRouteLayer,this._routeLayerCopy)),e.on([bn.A.CLICK,dr.A.CONTEXTMENU],this._newClickHandler(e,this._interactionLayer,this._alternativeRouteLayer,this._routeLayerCopy))),this._routingLayerGroup}_getFeaturesAtPixelOptionsForClickHandler(e,t){return{layerFilter:n=>[e,t].includes(n),hitTolerance:5}}_newClickHandler(e,t,n,r){return i=>{i.preventDefault();const o=e.getEventCoordinate(i.originalEvent),a=e.getEventPixel(i.originalEvent),s=e.getFeaturesAtPixel(a,this._getFeaturesAtPixelOptionsForClickHandler(t,n));if(s.length>0){const e=s[0];switch(e.get(Ir)){case fr.START:case fr.DESTINATION:(0,Zn.BY)(e.getGeometry().getFirstCoordinate(),Qn.to.EXISTING_START_OR_DESTINATION);break;case fr.INTERMEDIATE:(0,Zn.BY)(e.getGeometry().getFirstCoordinate(),Qn.to.EXISTING_INTERMEDIATE)}}else 0===this._getInteractionFeatures().length?(0,Zn.BY)(o,Qn.to.START_OR_DESTINATION):1===this._getInteractionFeatures().length&&this._getInteractionFeatures()[0].get(Ir)===fr.START?(0,Zn.BY)(o,Qn.to.DESTINATION):1===this._getInteractionFeatures().length&&this._getInteractionFeatures()[0].get(Ir)===fr.DESTINATION?(0,Zn.BY)(o,Qn.to.START):r.getSource().getFeatures().length>0&&(0,Zn.BY)(o,Qn.to.INTERMEDIATE)}}_getFeaturesAtPixelOptionsForPointerMove(e,t,n){return{layerFilter:r=>[e,t,n].includes(r),hitTolerance:5}}_newPointerMoveHandler(e,t,n,r){const i=e=>{e.get(Ir)===fr.ROUTE_SEGMENT?this._setModifyActive(!0):this._setModifyActive(!1)};return o=>{if(this._helpTooltip.deactivate(),!o?.dragging){const a=e.getEventPixel(o.originalEvent),s=e.getFeaturesAtPixel(a,this._getFeaturesAtPixelOptionsForPointerMove(t,n,r));if(s.length>0){this._helpTooltip.activate(this._map);const t=s[0],n={coordinate:t.getGeometry().getClosestPoint(o.coordinate),dragging:!1,feature:t};this._helpTooltip.notify(n),i(t),(t=>{t.get(Ir)===fr.ROUTE_SEGMENT?e.getTarget().style.cursor="grab":e.getTarget().style.cursor="pointer"})(t)}else e.getTarget().style.cursor=""}}}_createLayer(e){return new kt.A({source:new zt.A,properties:{id:e}})}_createTranslate(e){let t;const n=new sr.A({layers:[e],pixelTolerance:50});return n.on("translatestart",(e=>{t=e.coordinate,(0,Xn.N_)(),(0,Vn.D)()})),n.on("translateend",(e=>{(0,lr.aI)(t,e.coordinate)||(1===this._getInteractionFeatures().length&&e.features.item(0).get(Ir)===fr.START?(0,Zn.e5)(e.features.item(0).getGeometry().getCoordinates()):1===this._getInteractionFeatures().length&&e.features.item(0).get(Ir)===fr.DESTINATION?(0,Zn.C$)(e.features.item(0).getGeometry().getCoordinates()):this._requestRouteFromInteractionLayer())})),n}_getSelectOptions(e,t){return{layers:[e,t],hitTolerance:5}}_createSelect(e,t){const n=new Ct.A(this._getSelectOptions(e,t));return n.on("select",(e=>{const t=e.selected[0].get(Mr);t&&(this._catId=t.id,(0,Zn.Fb)(t.id),this._switchToAlternativeRoute(this._currentRoutingResponse)),this._helpTooltip.deactivate(),n.getFeatures().clear()})),n}_getModifyOptions(e){return{style:Dr(),source:e.getSource(),pixelTolerance:5,deleteCondition:()=>!1}}_createModify(e){const t=new Nt.A(this._getModifyOptions(e));return t.on("modifyend",(e=>{if("pointerup"===e.mapBrowserEvent.type){const t=e.features.getArray().reduce(((e,t)=>e.getRevision()>=t.getRevision()?e:t)).get(Tr);this._incrementIndex(t+1),this._addIntermediateInteractionFeature(e.mapBrowserEvent.coordinate,t+1),this._requestRouteFromInteractionLayer()}})),t}_switchToAlternativeRoute(e){this._clearRouteFeatures(),this._displayCurrentRoutingGeometry(e[this._catId]),this._routingService.getAlternativeCategoryIds(this._catId).forEach((t=>{this._displayAlternativeRoutingGeometry(e[t])}))}_incrementIndex(e){const t=this._getInteractionFeatures();for(let n=e;n<t.length;n++)t[n].set(Ar,t[n].get(Ar)+1)}_addIntermediateInteractionFeature(e,t){const n=new jn.A({geometry:new ar.A(e)});n.set(Ir,fr.INTERMEDIATE),n.set(Ar,t),n.setId(`${Cr.ROUTING}_${(0,me.Ds)()}`),n.setStyle(Lr()),this._interactionLayer.getSource().addFeature(n)}_getInteractionFeatures(e){return this._interactionLayer.getSource().getFeatures().sort(((e,t)=>e.get(Ar)-t.get(Ar))).filter((t=>!e||t.get(Ir)===e))}_getIntermediateFeatures(){return this._getInteractionFeatures().filter((e=>e.get(Ir)===fr.INTERMEDIATE))}_polylineToGeometry(e){return(new cr.Ay).readGeometry(e,{featureProjection:`EPSG:${this._mapService.getSrid()}`})}_splitRouteByIntermediatePoints(e){const t=(e,t)=>{let n=Number.MAX_VALUE,r=-1;for(let i=0;i<e.length;i++){const o=(0,lr.Io)(e[i],t);o<n&&(n=o,r=i)}return r},n=[],r=this._getIntermediateFeatures();if(r.length>0){const i=e.getCoordinates();let o=0;for(let a=0;a<=r.length;a++){let s;s=a<r.length?t(e.getCoordinates(),r[a].getGeometry().getFirstCoordinate()):i.length-1;const c=i.slice(o,s+1),l=new we.A(c);n.push(l),o=s}}else n.push(e);return n}_displayCurrentRoutingGeometry(e){const t=e.paths[0].points,n=this._polylineToGeometry(t),r=new jn.A({geometry:n});r.set(Ir,fr.ROUTE),r.set(Mr,this._routingService.getCategoryById(e.vehicle)),r.setStyle(Lr()),this._routeLayer.getSource().addFeature(r);const i=this._polylineToGeometry(t),o=this._splitRouteByIntermediatePoints(i);for(let t=0;t<o.length;t++){const n=new jn.A({geometry:o[t]});n.set(Ir,fr.ROUTE_SEGMENT),n.set(Mr,this._routingService.getCategoryById(e.vehicle)),n.set(Tr,t),n.setStyle(Lr()),this._routeLayerCopy.getSource().addFeature(n)}this._updateStore(e)}_displayAlternativeRoutingGeometry(e){const t=e.paths[0].points,n=this._polylineToGeometry(t),r=new jn.A({geometry:n});r.set(Ir,fr.ROUTE_ALTERNATIVE),r.set(Mr,this._routingService.getCategoryById(e.vehicle)),r.setStyle(Lr()),this._alternativeRouteLayer.getSource().addFeature(r)}_setInteractionsActive(e){this._selectInteraction.setActive(e),this._translateInteraction.setActive(e),this._setModifyActive(e),this._activeInteraction=e}_setModifyActive(e){this._modifyInteraction&&this._modifyInteraction.setActive(e)}_clearRouteFeatures(){this._routeLayer.getSource().clear(),this._routeLayerCopy.getSource().clear(),this._alternativeRouteLayer.getSource().clear(),this._highlightLayer.getSource().clear()}_clearAllFeatures(){this._routeLayer.getSource().clear(),this._routeLayerCopy.getSource().clear(),this._alternativeRouteLayer.getSource().clear(),this._highlightLayer.getSource().clear(),this._interactionLayer.getSource().clear()}_addStartInteractionFeature(e){const t=new jn.A({geometry:new ar.A(e)});t.setStyle(Lr()),t.set(Ir,fr.START),t.set(Ar,0),this._interactionLayer.getSource().addFeature(t)}_addDestinationInteractionFeature(e,t=1){const n=new jn.A({geometry:new ar.A(e)});n.set(Ir,fr.DESTINATION),n.set(Ar,t),n.setStyle(Lr()),this._interactionLayer.getSource().addFeature(n)}async _requestRouteFromCoordinates(e,t){if(this._resetStore(),this._clearAllFeatures(),e.length>0){this._setInteractionsActive(!1);const n=[...e];if(1===e.length)switch(t){case Qn.Tc.Destination_Missing:this._addStartInteractionFeature(n[0]);break;case Qn.Tc.Start_Missing:this._addDestinationInteractionFeature(n[0],0)}else{this._addStartInteractionFeature(n.shift()),this._addDestinationInteractionFeature(n.pop(),e.length-1),n.forEach(((e,t)=>{this._addIntermediateInteractionFeature(e,t+1)}));const t=this._routingService.getAlternativeCategoryIds(this._catId);try{this._currentRoutingResponse=await this._requestAndDisplayRoute(this._catId,t,e)}catch(e){e.cause===Qn.kD.Improper_Waypoints?(0,Re.L)(`${this._translationService.translate("olMap_handler_routing_routingService_improper_waypoints")}`,Re.A.WARN):(console.error(e),(0,Re.L)(`${this._translationService.translate("olMap_handler_routing_routingService_exception")}`,Re.A.ERROR))}}this._setInteractionsActive(!0)}}async _updateStore(e){const t=this._polylineToGeometry(e.paths[0].points),n=new jn.A({geometry:t.clone().transform(`EPSG:${this._mapService.getSrid()}`,"EPSG:4326")});n.set(Ir,fr.ROUTE_SEGMENT),n.set(Mr,this._routingService.getCategoryById(e.vehicle)),n.setStyle(Lr()),n.set("name",`${this._translationService.translate("global_app_name")} ${this._translationService.translate("olMap_handler_routing_rt_layer_label")} - ${this._routingService.getCategoryById(e.vehicle).label}`);const r=t.getCoordinates();try{const{stats:t}=await this._elevationService.requestProfile(r),i=this._routeStatsProvider(e,t),o={data:(new Rn.Ay).writeFeatures([n]),type:new hr.Y1(hr.bu.KML)};(0,Zn.Yb)(o,i)}catch(e){this._clearRouteFeatures(),this._resetStore(),console.error(e),(0,Re.L)(`${this._translationService.translate("olMap_handler_routing_routingService_exception")}`,Re.A.ERROR)}}_resetStore(){(0,Zn.Yb)(null,null)}_requestRouteFromInteractionLayer(){if(this._interactionLayer.getSource().getFeatures().length>1){this._clearRouteFeatures();const e=this._getInteractionFeatures().map((e=>e.getGeometry().getCoordinates()));(0,Zn.XX)(e)}}async _requestAndDisplayRoute(e,t,n){const r=0===this._getIntermediateFeatures().length?[e].concat(t):[e],i=await this._routingService.calculateRoute(r,n);return this._displayCurrentRoutingGeometry(i[e]),0===this._getIntermediateFeatures().length&&t.forEach((e=>{this._displayAlternativeRoutingGeometry(i[e])})),i}_highlightSegments(e,t,n){if(clearTimeout(this._highlightSegmentsTimeoutId),t.getSource().clear(),e){const{segments:r,zoomToExtent:i}=e,o=()=>{this._highlightSegmentsTimeoutId=setTimeout((()=>{t.getSource().clear()}),2500)},a=n.getSource().getFeatures().find((e=>e.get(Ir)&&e.get(Ir)===fr.ROUTE)).getGeometry().getCoordinates(),s=r.map((e=>{const t=new jn.A(new we.A(a.slice(e[0],e[1]+1)));return t.set(Ir,fr.ROUTE_HIGHLIGHT),t.setStyle(Lr()),t}));t.getSource().addFeatures(s),i?((0,gr.BY)(t.getSource().getExtent()),o()):this._environmentService.isTouch()&&o()}}_addIntermediate(e,t){const n=this._getInteractionFeatures().map((e=>e.getGeometry().getCoordinates())),r=t.getSource().getFeatures();if(r.length>0){const t=r.reduce(((t,n)=>{const r=n.getGeometry().getClosestPoint(e),i=t.getGeometry().getClosestPoint(e);return(0,lr.Io)(r,e)<(0,lr.Io)(i,e)?n:t})).get(Tr);n.splice(t+1,0,e)}return n}_register(e){const t=(e,t,n)=>{this._promiseQueue.add((async()=>{this._catId=t,await this._requestRouteFromCoordinates([...e.map((e=>[...e]))],n)}))},n=e=>{(0,Zn.XX)([...this._addIntermediate(e,this._routeLayerCopy).map((e=>[...e]))])};return[(0,O.lB)(e,(e=>e.routing.waypoints),((e,n)=>t(e,n.routing.categoryId,n.routing.status)),!1),(0,O.lB)(e,(e=>e.routing.categoryId),((e,n)=>t(n.routing.waypoints,e,n.routing.status))),(0,O.lB)(e,(e=>e.routing.highlightedSegments),(e=>this._highlightSegments(e.payload,this._highlightLayer,this._routeLayer))),(0,O.lB)(e,(e=>e.routing.intermediate),(e=>n([...e.payload])))]}onDeactivate(){this._convertToPermanentLayer(),this._map=null,this._routingLayerGroup=null,this._alternativeRouteLayer=null,this._routeLayer=null,this._routeLayerCopy=null,this._highlightLayer=null,this._interactionLayer=null,this._activeInteraction=!1,this._modifyInteraction=null,this._translateInteraction=null,this._selectInteraction=null,this._catId=null,this._currentRoutingResponse=null,this._unsubscribe(this._registeredObservers),this._unregisterMapListener(this._mapListeners),this._helpTooltip.deactivate()}_unsubscribe(e){e.forEach((e=>e())),e.splice(0,e.length)}_unregisterMapListener(e){e.forEach((e=>(0,jt.e)(e))),e.splice(0,e.length)}_convertToPermanentLayer(){if(this._routeLayerCopy.getSource().getFeatures().length>0){const e=this._routeLayerCopy.getSource().getFeatures()[0].get(Mr).label,t=`${this._translationService.translate("olMap_handler_routing_rt_layer_label")} - ${e}`,n=`${this._translationService.translate("olMap_handler_routing_wp_layer_label")} - ${e}`,r=Pn(this._routeLayerCopy,`EPSG:${this._mapService.getSrid()}`),i=Pn(this._interactionLayer,`EPSG:${this._mapService.getSrid()}`),o=(e,t)=>{const n=this._geoResourceService.byId(e);return n?n.setLabel(t):new nt.HA(e,t,nt.Vz.KML)},a=o(nr,t).setSource(r,4326).setHidden(!0).setAttributionProvider(this._attributionProvider),s=o(rr,n).setSource(i,4326).setHidden(!0).setAttributionProvider(ot.Ve);this._geoResourceService.addOrReplace(a),this._geoResourceService.addOrReplace(s),(0,lt.VE)(nr,{constraints:{metaData:!1}}),(0,lt.VE)(rr,{constraints:{metaData:!1}})}}}const Lr=()=>{const{IconService:e}=r.z.inject("IconService");return t=>{switch(t.get(Ir)){case fr.START:return[new $t.Ay({image:new Bt.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:e.getIconResult("rt_start").base64})})];case fr.DESTINATION:return[new $t.Ay({image:new Bt.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:e.getIconResult("rt_destination").base64})})];case fr.INTERMEDIATE:{const n=t.get(Ar)?t.get(Ar).toString():"",r=new Gt.A({text:n,offsetY:2,font:"bold 14px Open Sans",stroke:new Ut.A({color:[255,255,255,1],width:3})});return[new $t.Ay({image:new Bt.A({anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",src:e.getIconResult("rt_intermediate").base64}),text:r})]}case fr.ROUTE:return[new $t.Ay({stroke:new Ut.A({color:t.get(Mr).style.routeBorderColor,width:8})})];case fr.ROUTE_ALTERNATIVE:return[new $t.Ay({zIndex:t.get(Mr).style.routeZindex||0,stroke:new Ut.A({color:"white",width:5,lineDash:[10]})}),new $t.Ay({zIndex:t.get(Mr).style.routeZindex+1||1,stroke:new Ut.A({color:t.get(Mr).style.routeColor,width:3,lineDash:[5]})})];case fr.ROUTE_SEGMENT:return[new $t.Ay({stroke:new Ut.A({color:t.get(Mr).style.routeColor,width:5})})];case fr.ROUTE_HIGHLIGHT:return[new $t.Ay({stroke:new Ut.A({color:"#ffc107",width:3})})];default:return null}}},Dr=()=>[new $t.Ay({image:new Yt.A({radius:8,fill:new Ft.A({color:"#099dda"})})}),new $t.Ay({image:new Yt.A({radius:6,fill:new Ft.A({color:"white"})})})];var xr=n(34338);const Cr=Object.freeze({NULL:"null",DEFAULT:"default",MEASURE:"measure",HIGHLIGHT:"highlight",HIGHLIGHT_TEMP:"highlight_temp",DRAW:"draw",MARKER:"marker",POINT:"point",TEXT:"text",ANNOTATION:"annotation",LINE:"line",POLYGON:"polygon",GEOJSON:"geojson",ROUTING:"routing"}),Nr=[[255,0,0,.8],[255,165,0,.8],[0,0,255,.8],[0,255,255,.8],[0,255,0,.8],[128,0,128,.8],[0,128,0,.8]],zr=["marker-symbol","marker-size","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"];class kr{constructor(){this._defaultColorIndex=0,this._defaultColorByLayerId={}}_nextColor(){const e=e=>Nr[e];return this._defaultColorIndex===Nr.length?e((()=>(this._defaultColorIndex=0,this._defaultColorIndex))()):e((()=>this._defaultColorIndex++)())}addStyle(e,t,n){switch(this._detectStyleType(e)){case Cr.MEASURE:this._addMeasureStyle(e,t);break;case Cr.ANNOTATION:case Cr.TEXT:this._addTextStyle(e);break;case Cr.MARKER:this._addMarkerStyle(e);break;case Cr.POLYGON:case Cr.LINE:break;case Cr.GEOJSON:this._addGeoJSONStyle(e);break;case Cr.DEFAULT:this._addDefaultStyle(e,n);break;case Cr.ROUTING:this._addRoutingStyle(e);break;default:console.warn("Could not provide a style for unknown style-type")}}addClusterStyle(e){e.setStyle((()=>{const e={},t=new $t.Ay({image:new Yt.A({radius:17,fill:new Ft.A({color:Kt.concat([.15])})})});return(n,r)=>{const i=n.get("features").length;return 1===i?(()=>{const e=n.get("features")[0].getStyle();return"function"==typeof e?e(n,r):e})():e[i]||(()=>{const n=[t,new $t.Ay({image:new Yt.A({radius:15,stroke:new Ut.A({color:Xt}),fill:new Ft.A({color:"#099dda"}),displacement:[0,1]}),text:new Gt.A({text:i.toString(),scale:1.5,fill:new Ft.A({color:Xt}),font:"normal 12px Open Sans"})})];return e[i]=n,n})()}})())}updateStyle(e,t,n,i=null){const o=i||this._detectStyleType(e),{OverlayService:a}=r.z.inject("OverlayService");o===Cr.MEASURE&&a.update(e,t,o,n)}removeStyle(e,t){const{OverlayService:n}=r.z.inject("OverlayService");n.remove(e,t)}getStyleFunction(e){switch(e){case Cr.NULL:return on;case Cr.MEASURE:return gn;case Cr.LINE:return ln;case Cr.POLYGON:return dn;case Cr.POINT:case Cr.MARKER:return sn;case Cr.TEXT:return cn;case Cr.DRAW:return on;case Cr.GEOJSON:return an;case Cr.DEFAULT:return mn;default:console.warn("Could not provide a style for unknown style-type:",e)}}getFeatureStyleFunction(e){return(t,n)=>{const r=this.getStyleFunction(e);return(0,Ie.Tn)(r)?r(t,n):r}}isStyleRequired(e){return null!==this._detectStyleType(e)}sanitizeStyle(e){const t=e=>e instanceof ar.A||e instanceof Zt.A,n=e.getGeometry(),r=(e=>{const t=e.getStyleFunction(),n=t&&t(e)?t(e):null;return Array.isArray(n)&&n.length>0?n:n instanceof $t.Ay?[n]:null})(e),i=r?r[0].clone():null,o=(e=>{const t=e?.getStroke?e.getStroke():null;return t&&0===t.getWidth()?null:t})(i);if(i&&t(n)){const t=i.getImage()??null,n=(e=>e&&0===e.getScale()?new Yt.A({radius:1,fill:new Ft.A({color:qt}),stroke:new Ut.A({color:qt})}):e)(t),r=((e,t)=>e&&t?.getText&&0!==t?.getText().getScale()?new Gt.A({font:"normal 24px Open Sans",text:e,fill:t.getText().getFill(),stroke:new Ut.A({color:(0,Wt.yQ)(t.getText().getFill().getColor()),width:3}),scale:t.getText().getScale()}):null)(e.get("name"),i),a=[new $t.Ay({fill:r?null:i.getFill(),stroke:r?null:o,image:r?n:t,text:r,zIndex:i.getZIndex()})];e.setStyle(a)}if(i&&!(t(n)||n instanceof xr.A)){const t=[new $t.Ay({fill:i.getFill(),stroke:o,image:null,text:null,zIndex:i.getZIndex()})];e.setStyle(t)}}_addMeasureStyle(e,t){const{OverlayService:n}=r.z.inject("OverlayService");null==e.get("partition_delta")&&t.getView().once("change:resolution",(()=>t.once("moveend",(t=>n.update(e,t.map,Cr.MEASURE))))),e.setStyle(gn),n.add(e,t,Cr.MEASURE)}_addGeoJSONStyle(e){e.setStyle(an)}_addTextStyle(e){const t=cn((()=>{const t=Sn(e);return t?(e=>{const t=e.getText().getFill().getColor(),n=e.getText().getText(),r=e.getText().getScale();return{color:Array.isArray(t)?(0,Wt.Ob)(t):t,scale:r,text:n}})(t[0]):{text:e.get("name")}})());e.setStyle((()=>t))}_addMarkerStyle(e){const{IconService:t}=r.z.inject("IconService"),n=sn((n=>{const r=Sn(n);return r?(e=>{const n=e.getImage().getSrc(),r=e.getImage().getColor()||t.decodeColor(n),i=rn(e.getImage().getScale()),o=e.getImage()?.getSize(),a=e.getImage()?.getAnchor(),s=e.getText()?.getText();return{symbolSrc:n,color:(0,Wt.Ob)(r||e.getText().getFill().getColor()),scale:i,text:s,anchor:o&&a?[a[0]/o[0],a[1]/o[1]]:null}})(r[0]):(e=>({text:e.get("name")}))(e)})(e));e.setStyle((()=>n))}_addRoutingStyle(e){const t=Lr();e.setStyle(t)}_addDefaultStyle(e,t=null){const n=t?(e=>{const t=(0,Bn.v6)(e);return void 0===this._defaultColorByLayerId[t]&&(this._defaultColorByLayerId[t]=this._nextColor()),[...this._defaultColorByLayerId[t]]})(t):this._nextColor();e.setStyle(mn(n))}_detectStyleType(e){const t=e=>e.getKeys().some((e=>zr.includes(e)))?Cr.GEOJSON:null,n=e=>{const t=e.getId(),n=Object.keys(Cr).find((e=>{return n=Cr[e],r=t,new RegExp("^draw_"+n+"_").test(r);var n,r}));if(n)return Cr[n];const r=Object.keys(Cr).find((e=>{return n=Cr[e],r=t,new RegExp("^"+n+"_").test(r);var n,r}));return r?Cr[r]:null},r=e=>{const t=e.get("type");return Object.values(Cr).find((e=>e===t))??null},i=e=>null===e.getStyle()?Cr.DEFAULT:null;if(e)for(const o of[n,t,r,i]){const t=o(e);if(t)return t}return null}}Wn.S.DRAW;class jr{constructor(){this._pointCount=0,this._isSnapOnLastPoint=!1,this._isFinishOnFirstPoint=!1,this._sketch=null}_getLineCoordinates(e){return e instanceof Me.Ay?e.getCoordinates()[0].slice(0,-1):e.getCoordinates()}_monitorProperties(e){const t=this._getLineCoordinates(e.getGeometry());if(this._pointCount!==t.length)this._pointCount=t.length;else if(t.length>1){const e=t[0],n=t[t.length-1],r=t[t.length-2],i=n[0]===e[0]&&n[1]===e[1];this._isFinishOnFirstPoint=!this._isSnapOnLastPoint&&i,this._isSnapOnLastPoint=n[0]===r[0]&&n[1]===r[1]}}activate(e,t=Wn.S.DRAW+"_"){if(e!==this._sketch){if(e){e.setId(t+(new Date).getTime());const n=e=>{this._monitorProperties(e.target)};this._listener=e.on("change",n)}this._pointCount=1,this._sketch=e}}deactivate(){(0,jt.e)(this._listener),this._sketch=null,this._isFinishOnFirstPoint=!1,this._isSnapOnLastPoint=!1,this._pointCount=0}get active(){return this._sketch}get isActive(){return null!==this._sketch}get isSnapOnLastPoint(){return this._isSnapOnLastPoint}get isFinishOnFirstPoint(){return this._isFinishOnFirstPoint}get pointCount(){return this._pointCount}}const Rr="measurement_layer";class Pr extends Hn.h{async register(e){(0,O.lB)(e,(e=>e.measurement.active),(e=>{e?(0,lt.VE)(Rr,{constraints:{hidden:!0,alwaysTop:!0}}):(0,lt.e5)(Rr)})),(0,O.lB)(e,(e=>e.tools.current),(e=>{e!==Wn.S.MEASURE?(0,Pt.LU)():setTimeout((()=>(0,Pt.Yf)()))}),!1)}}const Or=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},Gr=()=>{Or().dispatch({type:S,payload:!0})},Ur=e=>{Or().dispatch({type:b,payload:e})};var Fr=n(40068),$r=n(39447);const Yr=()=>{};class Br{constructor(e){this._document=e,this._mapping={keyup:{},keydown:{}},this._keyUpListener=e=>this._onKeyUp(e),this._keyDownListener=e=>this._onKeyDown(e)}activate(){document.addEventListener("keyup",this._keyUpListener),document.addEventListener("keydown",this._keyDownListener)}deactivate(){document.removeEventListener("keyup",this._keyUpListener),document.removeEventListener("keydown",this._keyDownListener)}addForKeyUp(e,t){return this._add(e,"keyup",t),this}addForKeyDown(e,t){return this._add(e,"keydown",t),this}_add(e,t,n){if(!(0,Ie.Kg)(e))throw new TypeError("keyCode must be a string");if("function"!=typeof n)throw new TypeError("action must be a function");this._mapping[t]={...this._mapping[t],[e]:n}}_isInputElement(e){return/^(input|textarea)$/i.test(e.nodeName)}_onKeyUp(e){(this._isInputElement(e.target)?Yr:this._mapToAction(e.key,"keyup"))()}_onKeyDown(e){(this._isInputElement(e.target)?Yr:this._mapToAction(e.key,"keydown"))()}_mapToAction(e,t){return this._mapping[t][e]?this._mapping[t][e]:Yr}}class Hr extends Rt{constructor(){super(Rr);const{TranslationService:e,MapService:t,EnvironmentService:n,StoreService:i,GeoResourceService:o,OverlayService:a,StyleService:s,InteractionStorageService:c}=r.z.inject("TranslationService","MapService","EnvironmentService","StoreService","GeoResourceService","OverlayService","StyleService","InteractionStorageService");this._translationService=e,this._mapService=t,this._environmentService=n,this._storeService=i,this._geoResourceService=o,this._overlayService=a,this._styleService=s,this._storageHandler=c,this._vectorLayer=null,this._draw=!1,this._storedContent=null,this._sketchHandler=new jr,this._mapListeners=[],this._keyActionMapper=new Br(document).addForKeyUp("Delete",(()=>this._remove())).addForKeyUp("Escape",(()=>this._startNew())),this._lastPointerMoveEvent=null,this._lastInteractionStateType=null,this._measureState={type:null,snap:null,coordinate:null,pointCount:0,dragging:!1},this._helpTooltip=new Mn,this._helpTooltip.messageProvideFunction=kn,this._measureStateChangedListeners=[],this._drawingListeners=[],this._registeredObservers=[],this._saveContentDebounced=(0,On.qr)(this._environmentService.isEmbedded()?0:1e3,(()=>this._save()))}onActivate(e){const t=e=>this._translationService.translate(e);if(!this._storeService.getStore().getState().shared.termsOfUseAcknowledged&&!this._environmentService.isStandalone()&&!this._environmentService.isEmbedded()){const e=t("olMap_handler_termsOfUse");e&&(0,Re.L)((0,Fr._)(e),Re.A.INFO),Gr()}const n=e=>e.getLayers().getArray().reverse().find((e=>this._storageHandler.isStorageId(e.get("geoResourceId")))),r=()=>{const e=new zt.A({wrapX:!1}),n=new kt.A({source:e,style:this._styleService.getStyleFunction(Cr.MEASURE)});return n.label=t("olMap_handler_draw_layer_label"),n},i=async(t,n)=>{if(n){const r=this._geoResourceService.byId(n.get("geoResourceId"));if(r){this._storageHandler.setStorageId(n.get("geoResourceId"));const i=await r.data,o=(new Rn.Ay).readFeatures(i),a=t=>{const n=this._createMeasureGeometry(t.target);this._styleService.updateStyle(t.target,e,{geometry:n},Cr.MEASURE),this._setStatistics(t.target)};o.forEach((n=>{n.getGeometry().transform("EPSG:"+r.srid,"EPSG:"+this._mapService.getSrid()),t.getSource().addFeature(n),this._styleService.removeStyle(n,e),this._styleService.addStyle(n,e,t),n.on("change",a)})),(0,lt.e5)(n.get("id")),this._finish(),this._setSelection(this._storeService.getStore().getState().measurement.selection),this._updateMeasureState()}}},o=t=>{t.getSource().getFeatures().forEach((t=>{const n=this._createMeasureGeometry(t);this._styleService.updateStyle(t,e,{geometry:n},Cr.MEASURE)}))},a=()=>{const e=n(this._map),t=r();i(t,e);const a=()=>{t.getSource().getFeatures().forEach((e=>{return t=e,void["area","measurement"].forEach((e=>{const n=t.get(e);n&&n.get("manualPositioning")&&(t.set(e+"_position_x",n.getPosition()[0]),t.set(e+"_position_y",n.getPosition()[1]))}));var t})),this._storedContent=Pn(t,"EPSG:3857"),this._saveContentDebounced()};return this._mapListeners.push(t.getSource().on("addfeature",(e=>{this._measureState.type===An.DRAW&&(0,Pt.td)([e.feature.getId()]),this._storedContent=Pn(t,"EPSG:3857"),this._save()}))),this._mapListeners.push(t.getSource().on("changefeature",(()=>{a()}))),this._mapListeners.push(t.getSource().on("removefeature",(()=>{a()}))),this._mapListeners.push(this._map.getView().on("change:resolution",(()=>o(t)))),t},s=e=>{const t=e.coordinate,n=e.dragging,r=e.pixel;if(this._sketchHandler.isActive||this._measureState.type===An.DRAW)return void this._updateMeasureState(t,r,n);const i=Cn(this._map,this._vectorLayer,r);(i.some((e=>!e.getId().startsWith(Wn.S.MEASURE+"_")))?e=>{if((e=>e.some((e=>e.getId().startsWith(Wn.S.DRAW+"_"))))(e)){const t=e.filter((e=>e.getId().startsWith(Wn.S.DRAW+"_"))).map((e=>e.getId()));(0,$r.td)(t),(0,Kn.i)(Wn.S.DRAW)}}:e=>{if([An.MODIFY,An.SELECT].includes(this._measureState.type)){const i=e.map((e=>e.getId()));(0,Pt.td)(i),this._updateStatistics(),this._updateMeasureState(t,r,n)}})(i)},c=()=>{const e=Gn(this._vectorLayer).find((e=>!0===e.get("dragging")));e&&e.set("dragging",!1)},l=e=>{this._lastPointerMoveEvent=e;const t=e.coordinate,n=e.dragging,r=e.pixel;this._updateMeasureState(t,r,n)};if(!1===this._draw){this._map=e,this._mapContainer=e.getTarget(),this._vectorLayer=a();const t=this._vectorLayer.getSource();this._select=this._createSelect(),this._select.setActive(!1),this._modify=this._createModify(),this._modify.setActive(!1),this._draw=this._createDraw(t),this._snap=new Dt.A({source:t,pixelTolerance:zn()}),this._onMeasureStateChanged((e=>this._updateMeasurementMode(e))),this._environmentService.isTouch()||(this._helpTooltip.activate(this._map),this._onMeasureStateChanged((e=>{this._helpTooltip.notify(e),e.snap===Tn.VERTEX?this._mapContainer.classList.add("grab"):this._mapContainer.classList.remove("grab")}))),this._mapListeners.push(e.on(bn.A.CLICK,s)),this._mapListeners.push(e.on(bn.A.POINTERMOVE,l)),this._mapListeners.push(e.on(bn.A.POINTERUP,c)),this._mapListeners.push(e.on(bn.A.DBLCLICK,(()=>!1))),this._registeredObservers=this._register(this._storeService.getStore()),this._keyActionMapper.activate(),e.addInteraction(this._select),e.addInteraction(this._modify),e.addInteraction(this._draw),e.addInteraction(this._snap),this._storedContent=null}return this._updateMeasureState(),this._vectorLayer}onDeactivate(e){e.removeInteraction(this._draw),e.removeInteraction(this._modify),e.removeInteraction(this._snap),e.removeInteraction(this._select),this._helpTooltip.deactivate(),this._unreg(this._mapListeners),this._unreg(this._measureStateChangedListeners),this._unreg(this._drawingListeners),this._unsubscribe(this._registeredObservers),this._keyActionMapper.deactivate(),this._convertToPermanentLayer(),this._vectorLayer.getSource().getFeatures().forEach((e=>this._overlayService.remove(e,this._map))),(0,Pt.td)([]),(0,Pt.b4)({length:null,area:null}),this._draw=!1,this._modify=!1,this._select=!1,this._snap=!1,this._map=null}_unreg(e){(0,jt.e)(e),e=[]}_unsubscribe(e){e.forEach((e=>e())),e=[]}_setMeasureState(e){e!==this._measureState&&(this._measureState=e,this._measureStateChangedListeners.forEach((t=>t(e))))}_onMeasureStateChanged(e){this._measureStateChangedListeners.push(e)}_register(e){return[(0,O.lB)(e,(e=>e.measurement.finish),(()=>this._finish())),(0,O.lB)(e,(e=>e.measurement.reset),(()=>this._startNew())),(0,O.lB)(e,(e=>e.measurement.remove),(()=>this._remove())),(0,O.lB)(e,(e=>e.measurement.selection),(e=>this._setSelection(e)))]}_remove(){if(this._draw&&this._draw.getActive()&&(this._draw.removeLastPoint(),1===this._sketchHandler.pointCount&&this._startNew(),this._lastPointerMoveEvent&&this._draw.handleEvent(this._lastPointerMoveEvent)),this._modify&&this._modify.getActive()){const e=e=>this._overlayService.remove(e,this._map);Nn(this._select.getFeatures(),this._vectorLayer,e),this._setSelection([]),this._updateStatistics(),this._updateMeasureState()}}_finish(){this._draw.getActive()&&(this._sketchHandler.isActive?(this._draw.finishDrawing(),this._updateMeasureState()):this._activateModify(null))}_startNew(){this._draw.getActive()&&this._draw.abortDrawing(),this._draw.setActive(!0),(0,Pt.td)([]),(0,Pt.b4)({length:0,area:0}),this._modify.setActive(!1),this._helpTooltip.deactivate(),this._helpTooltip.activate(this._map),this._updateMeasureState()}_createDraw(e){const t=new xt.Ay({source:e,type:"Polygon",minPoints:2,snapTolerance:zn(),style:_n(this._styleService.getStyleFunction(Cr.MEASURE))}),n=e=>{const t=e.feature.getGeometry();if(e.feature.get("measurement").getElement().static=!0,t instanceof Me.Ay&&!this._sketchHandler.isFinishOnFirstPoint){const n=t.getCoordinates()[0].slice(0,-1);e.feature.setGeometry(new we.A(n))}this._sketchHandler.deactivate(),this._unreg(this._drawingListeners)};return t.on("drawstart",(e=>{this._sketchHandler.activate(e.feature,Wn.S.MEASURE+"_"),this._overlayService.add(this._sketchHandler.active,this._map,Cr.MEASURE),this._drawingListeners.push(e.feature.on("change",(e=>{const t=this._createMeasureGeometry(e.target,!0);this._overlayService.update(e.target,this._map,Cr.MEASURE,{geometry:t}),this._setStatistics(e.target)}))),this._drawingListeners.push(this._map.getView().on("change:resolution",(()=>{const e=this._createMeasureGeometry(this._sketchHandler.active,!0);this._overlayService.update(this._sketchHandler.active,this._map,Cr.MEASURE,{geometry:e})})))})),t.on("drawabort",(e=>this._overlayService.remove(e.feature,this._map))),t.on("drawend",(e=>{n(e),this._styleService.addStyle(e.feature,this._map,this._vectorLayer),this._activateModify(e.feature)})),t}_createSelect(){const e=new Ct.A(Ln(this._vectorLayer)),t=()=>this._map.getView().getResolution();return e.getFeatures().on("change:length",this._updateStatistics),e.getFeatures().on("add",(e=>{const n=e.element,r=pn()(n,t());e.element.setStyle(r)})),e.getFeatures().on("remove",(e=>{const t=e.element,n=t.getStyle();n.pop(),t.setStyle(n)})),e}_createModify(){const e=new Nt.A(Dn(this._select.getFeatures()));return e.on("modifystart",(e=>{e.mapBrowserEvent.type!==bn.A.SINGLECLICK&&this._mapContainer.classList.add("grabbing")})),e.on("modifyend",(e=>{e.mapBrowserEvent.type!==bn.A.POINTERUP&&e.mapBrowserEvent.type!==bn.A.CLICK||this._mapContainer.classList.remove("grabbing")})),e}_activateModify(e){if(this._draw.setActive(!1),this._modify.setActive(!0),this._modifyActivated=!0,e){const t=e=>{const t=this._createMeasureGeometry(e.target);this._overlayService.update(e.target,this._map,Cr.MEASURE,{geometry:t}),this._updateStatistics()};e.on("change",t)}}_setStatistics(e){const t=(0,fe.GT)(e.getGeometry());if(this._sketchHandler.isFinishOnFirstPoint)(0,Pt.b4)({length:t.length,area:t.area});else{const n=this._createMeasureGeometry(e,this._draw.getActive()),r=(0,fe.GT)(n);(0,Pt.b4)({length:r.length,area:t.area})}}_updateStatistics(){const e={length:null,area:null},t=(e,t)=>{const n=(0,fe.GT)(t.getGeometry());return{length:e.length+n.length,area:e.area+n.area}};if(this._select){const n=this._select.getFeatures().getArray();(0,Pt.b4)(n.reduce(t,e))}}_updateMeasurementMode(e){this._lastInteractionStateType!==e.type&&e.type!==An.OVERLAY&&(this._lastInteractionStateType=e.type,(0,Pt.iY)(this._lastInteractionStateType))}_createMeasureGeometry(e,t=!1){if(e.getGeometry()instanceof Me.Ay){const n=t?e.getGeometry().getCoordinates()[0].slice(0,-1):e.getGeometry().getCoordinates(!1)[0];if(!this._sketchHandler.isFinishOnFirstPoint)return new we.A(n)}return e.getGeometry()}_updateMeasureState(e,t,n){const r={type:null,snap:null,coordinate:e,pointCount:this._sketchHandler.pointCount};t&&(r.snap=xn(this._map,this._vectorLayer,t)),this._draw.getActive()&&(r.type=An.ACTIVE,this._sketchHandler.isActive&&(r.type=An.DRAW,this._sketchHandler.isFinishOnFirstPoint?r.snap=Tn.FIRSTPOINT:this._sketchHandler.isSnapOnLastPoint&&(r.snap=Tn.LASTPOINT))),this._modify.getActive()&&(r.type=0===this._select.getFeatures().getLength()?An.SELECT:An.MODIFY,r.geometryType=0===this._select.getFeatures().getLength()?null:this._select.getFeatures().item(0)?.getGeometry().getType()),Gn(this._vectorLayer).find((e=>!0===e.get("dragable")))&&(r.type=An.OVERLAY);const i=Gn(this._vectorLayer).find((e=>!0===e.get("dragging")));if(i&&(i.setOffset([0,0]),i.set("manualPositioning",!0),i.setPosition(e),i.get("feature").dispatchEvent("propertychange")),r.dragging=n,null==e&&null==t&&(this._measureState.type===An.MODIFY&&(r.type=An.SELECT),null==this._measureState.type)){const e=this._vectorLayer.getSource().getFeatures().length>0;r.type=e?An.SELECT:r.type}this._setMeasureState(r)}_setSelection(e=[]){const t=0===e.length?()=>{this._select&&this._select.getFeatures().clear()}:e=>{e.forEach((e=>{const t=this._vectorLayer.getSource().getFeatureById(e),n=this._select.getFeatures().getArray().includes(t);t&&!n&&this._select.getFeatures().push(t)}))};t(e)}async _save(){const e=await this._storageHandler.store(this._storedContent,rt.KML);(0,Pt.Dv)(e?{fileSaveResult:e,content:this._storedContent}:null)}async _convertToPermanentLayer(){const e=(e=>this._translationService.translate("olMap_handler_draw_layer_label"))();if(this._storageHandler.isValid()||await this._save(),this._storedContent){const t=this._storageHandler.getStorageId(),n=(()=>this._geoResourceService.byId(t)||new nt.HA(t,e,nt.Vz.KML).setAttributionProvider(ot.Ve))();n.setSource(this._storedContent,4326),this._geoResourceService.addOrReplace(n),(0,lt.VE)(t,{constraints:{metaData:!1}})}}static get Debounce_Delay(){return 1e3}}var Zr=n(93474);const Wr=()=>[new $t.Ay({fill:new Ft.A({color:[255,0,0,.1]}),stroke:new Ut.A({color:[255,0,0,.9],width:3}),image:new Yt.A({radius:6,fill:new Ft.A({color:[255,0,0,.9]}),stroke:new Ut.A({color:[255,255,255,1],width:2})})})],Vr=()=>[new $t.Ay({})];var Qr=n(52957);const Xr="geolocation_layer";class Kr extends Hn.h{constructor(){super(),this._firstTimeActivatingGeolocation=!0,this._geolocationWatcherId=null;const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e}_handlePositionError(e){console.warn("Geolocation activation failed",e),e.code===e.PERMISSION_DENIED?((0,Qr.uc)(!0),alert(this._translationService.translate("global_geolocation_denied"))):alert(this._translationService.translate("global_geolocation_not_available"))}_watchPosition(){return navigator.geolocation.watchPosition((e=>this._handlePositionAndUpdateStore(e)),(e=>this._handlePositionError(e)),{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5})}_fit(e){const{MapService:t,CoordinateService:n}=r.z.inject("MapService","CoordinateService"),i=this._transformPositionTo3857(e),o=[...i,...i],a=n.transformExtent(o,t.getSrid(),t.getLocalProjectedSrid()),s=n.transformExtent(n.buffer(a,e.coords.accuracy),t.getLocalProjectedSrid(),t.getSrid());(0,gr.BY)(s,{maxZoom:16})}_handlePositionAndUpdateStore(e){const{StoreService:t}=r.z.inject("StoreService");t.getStore().getState().geolocation.denied&&(0,Qr.uc)(!1);const n=this._transformPositionTo3857(e);(0,Qr.Kk)(n),(0,Qr.c_)(e.coords.accuracy),this._firstTimeActivatingGeolocation?(this._firstTimeActivatingGeolocation=!1,this._fit(e)):t.getStore().getState().geolocation.tracking&&(0,gr.Uj)(n)}_transformPositionTo3857(e){const{CoordinateService:t}=r.z.inject("CoordinateService"),{coords:n}=e;return t.fromLonLat([n.longitude,n.latitude])}_activate(){(0,Qr.Wh)(!0),this._geolocationWatcherId=this._watchPosition()}_deactivate(){null!==this._geolocationWatcherId&&(navigator.geolocation.clearWatch(this._geolocationWatcherId),this._geolocationWatcherId=null)}async register(e){(0,O.lB)(e,(e=>e.geolocation.active),(e=>{e?(this._activate(),(0,lt.VE)(Xr,{constraints:{hidden:!0,alwaysTop:!0}})):(this._deactivate(),(0,lt.e5)(Xr))})),(0,O.lB)(e,(e=>e.pointer.beingDragged),((e,t)=>{t.geolocation.active&&e&&(0,Qr.Wh)(!1)}))}}class qr extends Rt{constructor(){super(Xr,{preventDefaultClickHandling:!1,preventDefaultContextClickHandling:!1});const{StoreService:e}=r.z.inject("StoreService");this._storeService=e,this._geolocationLayer=null,this._accuracyFeature=new jn.A,this._positionFeature=new jn.A,this._map=null}onActivate(e){if(null===this._geolocationLayer){const e=new zt.A({wrapX:!1,features:[this._accuracyFeature,this._positionFeature]});this._geolocationLayer=new kt.A({source:e})}return this._map=e,this._positionFeature.setStyle(Wr),this._accuracyFeature.setStyle(Wr),this._blinkPosition(this._positionFeature),this._unregister=this._register(this._storeService.getStore()),this._geolocationLayer}onDeactivate(e){this._positionFeature.setStyle(Vr),this._accuracyFeature.setStyle(Vr),this._geolocationLayer=null,this._map=null,this._unregister()}_register(e){return(0,O.lB)(e,(e=>e.geolocation),((e,t)=>{var n;(n=e).active&&!n.denied&&n.position&&n.accuracy?(this._positionFeature.setStyle(Wr),this._accuracyFeature.setStyle(Wr),this._positionFeature.setGeometry(new ar.A(e.position)),this._accuracyFeature.setGeometry(new Ht.A(e.position,e.accuracy)),this._map.renderSync(),t.pointer.beingDragged||this._blinkPosition(this._positionFeature)):(this._positionFeature.setStyle(Vr),this._accuracyFeature.setStyle(Vr))}))}_blinkPosition(e){const t=((e,t,r)=>{const i=Date.now();return r=>{const o=(0,Ot.r2)(r),a=r.frameState,s=t.getGeometry().clone(),c=a.time-i,l=(c>=0?c:0)/1e3,d=24*(0,Zr.vT)(l)+6,u=(0,Zr.vT)(1-l),g=new $t.Ay({image:new Yt.A({radius:d,stroke:new Ut.A({color:"rgba(255, 0, 0, "+u+")",width:.25+u})})});o.setStyle(g),o.drawGeometry(s),c>1e3?(0,jt.e)(n):e.render()}})(this._map,e),n=this._geolocationLayer.on("postrender",t)}}var Jr=n(28288);const ei=()=>[new $t.Ay({image:new Bt.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0icmdiYSg5LCAxNTcsIDIxOCwgMSkiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTggMTZzNi01LjY4NiA2LTEwQTYgNiAwIDAgMCAyIDZjMCA0LjMxNCA2IDEwIDYgMTBtMC03YTMgMyAwIDEgMSAwLTYgMyAzIDAgMCAxIDAgNiIvPjxwYXRoIGQ9Ik04LjAyOCAxNC42MjRzNS4yMDMtNC45MzEgNS4yMDMtOC42NzFjMC02LjkzNy0xMC40MDYtNi45MzctMTAuNDA2IDAgMCAzLjc0MSA1LjIwMyA4LjY3MSA1LjIwMyA4LjY3MSIgc3R5bGU9ImZpbGw6IzM2OWRjOSIvPjxlbGxpcHNlIGN4PSI4LjAyNiIgY3k9IjUuOTc2IiByeD0iMy40NTUiIHJ5PSIzLjM4NyIgc3R5bGU9Im9wYWNpdHk6LjE1NTAwMDA0O2ZpbGw6IzAwMDtzdHJva2Utd2lkdGg6LjkzMDA5MDYxO3BhaW50LW9yZGVyOnN0cm9rZSBmaWxsIG1hcmtlcnMiLz48ZWxsaXBzZSBjeD0iOC4wMzIiIGN5PSI1Ljk3OSIgcng9IjIuMjk0IiByeT0iMi4yNDkiIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDojZmZmO3N0cm9rZS13aWR0aDouNjE3NTIzMTM7cGFpbnQtb3JkZXI6c3Ryb2tlIGZpbGwgbWFya2VycyIvPjwvc3ZnPgo="})})],ti=()=>[new $t.Ay({image:new Bt.A({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0icmdiYSg5LCAxNTcsIDIxOCwgMSkiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTggMTZzNi01LjY4NiA2LTEwQTYgNiAwIDAgMCAyIDZjMCA0LjMxNCA2IDEwIDYgMTBtMC03YTMgMyAwIDEgMSAwLTYgMyAzIDAgMCAxIDAgNiIvPjxwYXRoIGQ9Ik04LjAyOCAxNC42MjRzNS4yMDMtNC45MzEgNS4yMDMtOC42NzFjMC02LjkzNy0xMC40MDYtNi45MzctMTAuNDA2IDAgMCAzLjc0MSA1LjIwMyA4LjY3MSA1LjIwMyA4LjY3MSIgc3R5bGU9ImZpbGw6IzJjNWE5MztmaWxsLW9wYWNpdHk6MSIvPjxlbGxpcHNlIGN4PSI4LjAyNiIgY3k9IjUuOTc2IiByeD0iMy40NTUiIHJ5PSIzLjM4NyIgc3R5bGU9Im9wYWNpdHk6LjE1NTAwMDA0O2ZpbGw6IzAwMDtzdHJva2Utd2lkdGg6LjkzMDA5MDYxO3BhaW50LW9yZGVyOnN0cm9rZSBmaWxsIG1hcmtlcnMiLz48ZWxsaXBzZSBjeD0iOC4wMzIiIGN5PSI1Ljk3OSIgcng9IjIuMjk0IiByeT0iMi4yNDkiIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDojZmZmO3N0cm9rZS13aWR0aDouNjE3NTIzMTM7cGFpbnQtb3JkZXI6c3Ryb2tlIGZpbGwgbWFya2VycyIvPjwvc3ZnPgo="})})],ni=()=>{const e=new Ut.A({color:[255,128,0,1],width:3}),t=new Ft.A({color:[255,255,0,.3]});return[new $t.Ay({fill:t,stroke:e,image:new Yt.A({radius:10,fill:t,stroke:e})})]},ri=()=>{const e=new Ut.A({color:[255,128,0,1],width:6}),t=new Ft.A({color:[255,128,0,1]});return[new $t.Ay({fill:t,stroke:e,image:new Yt.A({radius:10,fill:t,stroke:e})})]},ii=()=>{const e=new Ut.A({color:[255,255,255,1],width:2}),t=new Ft.A({color:[9,157,221,1]});return[new $t.Ay({fill:t,image:new Yt.A({radius:9,fill:t,stroke:e})})]};var oi=n(13333),ai=n(11365);class si extends Rt{constructor(){super(Jr.$A,{preventDefaultClickHandling:!1,preventDefaultContextClickHandling:!1});const{StoreService:e}=r.z.inject("StoreService");this._storeService=e,this._unregister=()=>{},this._olMap=null,this._olLayer=null,this._animationListenerKeys=[]}onActivate(e){return this._olMap=e,this._olLayer=this._createLayer(),this._unregister=this._register(this._storeService.getStore(),this._olLayer.getSource()),this._olLayer}onDeactivate(e){this._unregister(),this._olMap=null,this._olLayer=null}_createLayer(){return new kt.A({source:new zt.A})}_toOlFeature(e){const{data:t,label:n}=e,r=e=>(e.set("name",n),e);if(t.coordinate)return this._appendStyle(e,r(new jn.A(new ar.A(t.coordinate))));switch(t.geometryType){case Xn.v4.WKT:return this._appendStyle(e,r((new oi.A).readFeature(t.geometry)));case Xn.v4.GEOJSON:return this._appendStyle(e,r((new ai.A).readFeature(t.geometry)))}return null}_animatePointFeature(e,t=this._olMap,n=this._olLayer){e.setStyle(ii);const r=((e,t)=>{const n={duration:1500,start:Date.now()};return r=>{const i=(0,Ot.r2)(r),o=r.frameState,a=t.getGeometry().clone(),s=o.time-n.start,c=(s>=0?s:0)/n.duration,l=50*(0,Zr.vT)(c)+10,d=(0,Zr.a6)(1-c),u=(e,t,n)=>{const r=new $t.Ay({image:new Yt.A({radius:e,fill:new Ft.A({color:"rgba(9, 157, 221, "+.6*t+")"})})});return e>=21?[r,...u(e-10,t,n+1)]:[r]};u(l,d,0).forEach((e=>{i.setStyle(e),i.drawGeometry(a)}));const g=ii();i.setStyle(g[0]),i.drawGeometry(a),s>n.duration&&(n.start=Date.now()),e.render()}})(t,e),i=n.on("postrender",r);return this._animationListenerKeys.push(i),i}_appendStyle(e,t){const{data:n}=e;if(n.coordinate)switch(e.type){case Xn.pN.MARKER:t.setStyle(ei);break;case Xn.pN.MARKER_TMP:t.setStyle(ti);break;case Xn.pN.QUERY_RUNNING:this._animatePointFeature(t);break;case Xn.pN.QUERY_SUCCESS:t.setStyle(ii);break;case Xn.pN.DEFAULT:t.setStyle(ni);break;case Xn.pN.DEFAULT_TMP:t.setStyle(ri)}else switch(e.type){case Xn.pN.DEFAULT:t.setStyle(ni);break;case Xn.pN.DEFAULT_TMP:t.setStyle(ri)}return t}_register(e,t){return(0,O.lB)(e,(e=>e.highlight),(({features:e})=>{t.clear();for(let e=this._animationListenerKeys.length-1;e>=0;e--)(0,jt.e)(this._animationListenerKeys[e]),this._animationListenerKeys.splice(e,1);t.addFeatures(e.map(this._toOlFeature,this).filter((e=>!!e)))}),!1)}}var ci=n(39766);const li=e=>{if((0,Ie.Kg)(e)){const t=e.split(";").map((e=>e.trim()));if(2===t.length&&t[1].length>0){const e=Number.parseInt(t[0]?.split("=")[1]);if(Number.isInteger(e))return{srid:e,wkt:t[1]}}}return null};var di=n(76203);const ui=e=>{const{UrlService:t,ConfigService:n}=r.z.inject("UrlService","ConfigService");if((0,Xe.w0)(e).startsWith("https://geoportal.bayern.de/ba-backend")){const t=(0,Xe.eD)(e);return 4===t.length&&"icons"===t[1]?`${n.getValueAsPath("BACKEND_URL")}icons/${t[t.length-2]}/${t[t.length-1]}.png`:e}return(0,Xe.w0)(e).startsWith(n.getValueAsPath("BACKEND_URL"))?e:t.proxifyInstant(e,!1)},gi=e=>{switch(e){case nt.Vz.KML:return new Rn.Ay({iconUrlFunction:ui});case nt.Vz.GPX:return new ci.A;case nt.Vz.GEOJSON:return new ai.A;case nt.Vz.EWKT:return new oi.A}throw new Error(e+" currently not supported")};class hi{_updateStyle(e,t,n){const{StyleService:i,StoreService:o}=r.z.inject("StyleService","StoreService"),{layers:{active:a}}=o.getStore().getState();i.updateStyle(e,n,{visible:t.getVisible(),top:a.filter((({constraints:{hidden:e}})=>!e)).pop().id===t.get("id"),opacity:t.getOpacity()})}_registerStyleEventListeners(e,t,n){const{StyleService:i}=r.z.inject("StyleService");return{addFeatureListenerKey:e.on("addfeature",(e=>{i.addStyle(e.feature,n,t),this._updateStyle(e.feature,t,n)})),removeFeatureListenerKey:e.on("removefeature",(e=>{i.removeStyle(e.feature,n)})),clearFeaturesListenerKey:e.on("clear",(()=>{e.getFeatures().forEach((e=>i.removeStyle(e,n)))})),addLayerListenerKey:n.getLayers().on("add",(r=>{r.element===t&&e.getFeatures().forEach((e=>this._updateStyle(e,t,n)))}))}}applyStyles(e,t){const{StyleService:n}=r.z.inject("StyleService"),i=e.getSource();return i.getFeatures().some((e=>n.isStyleRequired(e)))&&(this._registerStyleEventListeners(i,e,t),i.getFeatures().forEach((r=>{n.isStyleRequired(r)&&(n.addStyle(r,t,e),this._updateStyle(r,e,t))}))),e}sanitizeStyles(e){const{StyleService:t}=r.z.inject("StyleService");e.getSource().getFeatures().forEach((e=>t.sanitizeStyle(e)))}applyClusterStyle(e){const{StyleService:t}=r.z.inject("StyleService");return t.addClusterStyle(e),e}createLayer(e,t,n){const{minZoom:r,maxZoom:i,opacity:o}=t,a=new kt.A({id:e,geoResourceId:t.id,opacity:o,minZoom:r??void 0,maxZoom:i??void 0}),s=this._vectorSourceForData(t);return a.setSource(s),this.sanitizeStyles(a),t.isClustered()?this.applyClusterStyle(a):this.applyStyles(a,n)}_vectorSourceForData(e){const{MapService:t}=r.z.inject("MapService"),n=t.getSrid(),i=new zt.A,o=e.sourceType===nt.Vz.EWKT?li(e.data).wkt:e.data,a=gi(e.sourceType),s=a.readFeatures(o).filter((e=>!!e.getGeometry())).map((t=>(t.getGeometry().transform("EPSG:"+e.srid,"EPSG:"+n),t)));return i.addFeatures(s),e.hasLabel()||e.sourceType!==nt.Vz.KML||setTimeout((()=>{e.setLabel(a.readName(o))})),e.isClustered()?new di.A({source:i,distance:e.clusterParams.distance,minDistance:e.clusterParams.minDistance}):i}}var pi=n(60764),mi=n(68044),_i=n(24308),vi=n(10702),yi=n(11078);const Si=(e,t)=>Promise.reject(new at.o("Unexpected network status",e,t?.status)),bi=(0,On.v6)(3e3,((e,t)=>Si(e,t))),fi=(e,t=null,n)=>{n=n??[2e3,2e3];const{HttpService:i,ConfigService:o,GeoResourceService:a}=r.z.inject("HttpService","ConfigService","GeoResourceService");return async(r,s)=>{const c=async n=>{try{const{username:r,password:o}=t,a=await i.get(n,{timeout:1e4,headers:new Headers({Authorization:`Basic ${btoa(`${r}:${o}`)}`})});return 200!==a.status?Si(e,a):URL.createObjectURL(await a.blob())}catch(t){throw new at.o(t.message,e)}},l=async t=>{try{const n=await i.get(t,{timeout:1e4},{response:[a.getAuthResponseInterceptorForGeoResource(e)]});return 200!==n.status?Si(e,n):URL.createObjectURL(await n.blob())}catch(t){throw new at.o(t.message,e)}},d=new URLSearchParams(s.split("?")[1]),u=parseInt(d.get("WIDTH")),g=parseInt(d.get("HEIGHT")),h=n[0]/u,p=n[1]/g;if(h>=1&&p>=1){const e=`${o.getValueAsPath("BACKEND_URL")}proxy/basicAuth/wms/map/?url=${encodeURIComponent(s)}`;r.getImage().src=t?await c(e):await l(s)}else{d.set("WIDTH",`${h>=1?u:Math.round(u*h)}`),d.set("HEIGHT",`${p>=1?g:Math.round(g*p)}`);const e=`${s.split("?")[0]}?${d.toString()}`,n=document.createElement("img");n.onload=()=>{const e=document.createElement("canvas");e.width=u,e.height=g,e.getContext("2d").drawImage(n,0,0,u,g),r.getImage().src=e.toDataURL(),URL.revokeObjectURL(n.src)},n.crossOrigin="anonymous",n.src=t?await c(`${o.getValueAsPath("BACKEND_URL")}proxy/basicAuth/wms/map/?url=${encodeURIComponent(e)}`):await l(e)}}},wi=(e,t=bi)=>{const{HttpService:n,GeoResourceService:i}=r.z.inject("HttpService","GeoResourceService");return async(r,o)=>{try{const a=async o=>{const a=await n.get(o,{timeout:5e3},{response:[i.getAuthResponseInterceptorForGeoResource(e)]});switch(a.status){case 200:return URL.createObjectURL(await a.blob());case 400:r.setState(yi.A.ERROR);break;default:return r.setState(yi.A.ERROR),t(e,a)}};r.getImage().src=await a(o)}catch(n){if(n instanceof at.o)throw n;return r.setState(yi.A.ERROR),t(e)}}};var Mi=n(74937),Ii=n(56758),Ai=n(57115);class Ti extends Ii.A{constructor(){super({minZoom:0,origin:(0,be.Py)(Ei),resolutions:Li,tileSize:Ai.R,extent:Ei})}}const Ei=[-46133.17,5048875.26857567,1206211.10142433,6301219.54],Li=[4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.874056570353,76.4370282851763,38.2185141425881,19.1092570712941,9.55462853564703,4.77731426782352,2.38865713391176,1.19432856695588,.597164283477939,.2985821417389695,.14929107086948476];var Di=n(24533);class xi{constructor(e=fi,t=wi){this._imageLoadFunctionProvider=e,this._tileLoadFunctionProvider=t}toOlLayer(e,t,n){const{GeoResourceService:i,VectorLayerService:o,RtVectorLayerService:a,BaaCredentialService:s}=r.z.inject("GeoResourceService","VectorLayerService","BaaCredentialService","RtVectorLayerService"),{minZoom:c,maxZoom:l,opacity:d}=t;switch(t.getType()){case nt.Fl.FUTURE:return new pi.A({id:e,geoResourceId:t.id,render:()=>{},properties:{placeholder:!0}});case nt.Fl.WMS:{const n=new Di.A({url:t.url,crossOrigin:"anonymous",ratio:1,params:{LAYERS:t.layers,FORMAT:t.format,VERSION:"1.1.1",...t.extraParams}});switch(t.authenticationType){case nt.Mg.BAA:{const e=s.get(t.url);if(!e)throw new Error(`No credential available for GeoResource with id '${t.id}' and url '${t.url}'`);n.setImageLoadFunction(this._imageLoadFunctionProvider(t.id,e,t.maxSize));break}default:n.setImageLoadFunction(this._imageLoadFunctionProvider(t.id,null,t.maxSize))}return new mi.A({id:e,geoResourceId:t.id,source:n,opacity:d,minZoom:c??void 0,maxZoom:l??void 0})}case nt.Fl.XYZ:{const n=()=>{const e={url:Array.isArray(t.urls)?void 0:t.urls,urls:Array.isArray(t.urls)?t.urls:void 0,tileLoadFunction:this._tileLoadFunctionProvider(t.id)};return"adv_wmts"===t.tileGridId?new vi.A({...e,tileGrid:new Ti,projection:new q.MF({code:"EPSG:25832"})}):new vi.A({...e})};return new _i.A({id:e,geoResourceId:t.id,source:n(),opacity:d,minZoom:c??void 0,maxZoom:l??void 0,preload:3})}case nt.Fl.VECTOR:return o.createLayer(e,t,n);case nt.Fl.RT_VECTOR:return a.createLayer(e,t,n);case nt.Fl.VT:return new Mi.A({id:e,geoResourceId:t.id,opacity:d,minZoom:c??void 0,maxZoom:l??void 0,maplibreOptions:{style:t.styleUrl}});case nt.Fl.AGGREGATE:{const r=new or.A({id:e,opacity:d,layers:t.geoResourceIds.map((e=>this.toOlLayer(e,i.byId(e),n))),minZoom:c??void 0,maxZoom:l??void 0});return r.on("change:opacity",(e=>e.target.getLayers().forEach((t=>{t instanceof Mi.A&&t.setOpacity(e.target.getOpacity())})))),r}}throw new Error(`GeoResource type "${t.getType().description}" currently not supported`)}}class Ci{add(e,t,n){const r=this._getOverlayStyleByType(n);r&&r.add(e,t)}update(e,t,n,r={}){const i=this._getOverlayStyleByType(n);i&&i.update(e,t,r)}remove(e,t){(new Un).remove(e,t)}_getOverlayStyleByType(e){return e===Cr.MEASURE?new Yn:(console.warn("Could not provide a style for unknown style-type:",e),null)}}const Ni="draw_layer";class zi extends Hn.h{async register(e){(0,O.lB)(e,(e=>e.draw.active),(e=>{e?(0,lt.VE)(Ni,{constraints:{hidden:!0,alwaysTop:!0}}):(0,lt.e5)(Ni)})),(0,O.lB)(e,(e=>e.tools.current),(e=>{e!==Wn.S.DRAW?(0,$r.LU)():setTimeout((()=>(0,$r.Yf)()))}),!1)}}var ki=n(32551);const ji=e=>{const{TranslationService:t}=r.z.inject("TranslationService"),n=e=>t.translate(e);if(e.type===An.ACTIVE)return n("olMap_handler_draw_start");if(e.type===An.DRAW){const t=t=>e.pointCount>2?t+"<br/>"+n("olMap_handler_delete_last_point"):t;return e.snap===Tn.FIRSTPOINT?t(n("olMap_handler_measure_snap_first_point")):e.snap===Tn.LASTPOINT?t(n("olMap_handler_measure_snap_last_point")):t(n(e.geometryType&&"Polygon"===e.geometryType?"olMap_handler_measure_continue_polygon":"olMap_handler_draw_continue_line"))}return e.type===An.MODIFY?e.snap===Tn.VERTEX?e.geometryType&&"Polygon"===e.geometryType?n("olMap_handler_measure_modify_polygon_click_or_drag"):e.geometryType&&"LineString"===e.geometryType?n("olMap_handler_measure_modify_linestring_click_or_drag"):n("olMap_handler_measure_modify_click_or_drag"):e.snap===Tn.EDGE?n("olMap_handler_measure_modify_click_new_point"):n("olMap_handler_draw_modify_key_for_delete"):e.type===An.SELECT?n("olMap_handler_draw_select"):e.type===An.OVERLAY?n("olMap_handler_measure_modify_click_drag_overlay"):void 0},Ri={symbolSrc:null,scale:ki.A.MEDIUM,color:"#FF0000",text:null};class Pi extends Rt{constructor(){super(Ni);const{TranslationService:e,MapService:t,EnvironmentService:n,StoreService:i,GeoResourceService:o,OverlayService:a,StyleService:s,InteractionStorageService:c,IconService:l}=r.z.inject("TranslationService","MapService","EnvironmentService","StoreService","GeoResourceService","OverlayService","StyleService","InteractionStorageService","IconService");this._translationService=e,this._mapService=t,this._environmentService=n,this._storeService=i,this._geoResourceService=o,this._overlayService=a,this._styleService=s,this._storageHandler=c,this._iconService=l,this._vectorLayer=null,this._draw=null,this._modify=null,this._snap=null,this._select=null,this._storedContent=null,this._sketchHandler=new jr,this._mapListeners=[],this._drawingListeners=[],this._keyActionMapper=new Br(document).addForKeyUp("Delete",(()=>this._remove())).addForKeyUp("Escape",(()=>this._reset())),this._lastPointerMoveEvent=null,this._lastInteractionStateType=null,this._drawState={type:null,snap:null,coordinate:null,pointCount:0,dragging:!1},this._helpTooltip=new Mn,this._helpTooltip.messageProvideFunction=ji,this._drawStateChangedListeners=[],this._registeredObservers=[],this._saveContentDebounced=(0,On.qr)(this._environmentService.isEmbedded()?0:1e3,(()=>this._save()))}onActivate(e){const t=e=>this._translationService.translate(e);if(!this._storeService.getStore().getState().shared.termsOfUseAcknowledged&&!this._environmentService.isStandalone()&&!this._environmentService.isEmbedded()){const e=t("olMap_handler_termsOfUse");e&&(0,Re.L)((0,Fr._)(e),Re.A.INFO),Gr()}const n=e=>e.getLayers().getArray().reverse().find((e=>this._storageHandler.isStorageId(e.get("geoResourceId")))),r=async(t,n)=>{if(n){const r=this._geoResourceService.byId(n.get("geoResourceId"));if(r){this._storageHandler.setStorageId(n.get("geoResourceId"));const i=await r.data,o=(new Rn.Ay).readFeatures(i),a=t=>{const n=t.target.getGeometry();(0,$r.Hy)((0,fe.TV)(n)),this._styleService.updateStyle(t.target,e)};o.forEach((n=>{n.getGeometry().transform("EPSG:"+r.srid,"EPSG:"+this._mapService.getSrid()),this._styleService.removeStyle(n,e),this._styleService.addStyle(n,e,t),t.getSource().addFeature(n),n.on("change",a)})),(0,lt.e5)(n.get("id")),this._init(null),this._setSelection(this._storeService.getStore().getState().draw.selection)}}},i=()=>{const e=(()=>{const e=new zt.A({wrapX:!1}),n=new kt.A({source:e});return n.label=t("olMap_handler_draw_layer_label"),n})();if(this._storeService.getStore().getState().draw.createPermanentLayer){const t=n(this._map);r(e,t)}const i=()=>{this._storedContent=Pn(e,"EPSG:3857"),this._saveContentDebounced()};return this._mapListeners.push(e.getSource().on("addfeature",(t=>{this._drawState.type===An.DRAW&&(0,$r.td)([t.feature.getId()]),this._storedContent=Pn(e,"EPSG:3857"),this._save()}))),this._mapListeners.push(e.getSource().on("changefeature",(()=>i()))),this._mapListeners.push(e.getSource().on("removefeature",(()=>i()))),e},o=e=>{const t=e.coordinate,n=e.dragging,r=e.pixel,i=Cn(this._map,this._vectorLayer,r).slice(0,1);(i.some((e=>!e.getId().startsWith(Wn.S.DRAW+"_")))?e=>{if((e=>e.some((e=>e.getId().startsWith(Wn.S.MEASURE+"_"))))(e)){const t=e.filter((e=>e.getId().startsWith(Wn.S.MEASURE+"_"))).map((e=>e.getId()));(0,Pt.td)(t),(0,Kn.i)(Wn.S.MEASURE)}}:e=>{if([An.MODIFY,An.SELECT].includes(this._drawState.type)){const t=e.map((e=>e.getId()));this._setSelection(t)}this._updateDrawState(t,r,n)})(i)},a=e=>{this._lastPointerMoveEvent=e;const t=e.coordinate,n=e.dragging,r=e.pixel;this._updateDrawState(t,r,n)};if(this._map=e,!this._vectorLayer){this._vectorLayer=i(),this._mapContainer=e.getTarget();const t=this._vectorLayer.getSource();this._select=this._createSelect(),this._modify=this._createModify(),this._select.setActive(!1),this._modify.setActive(!1),this._snap=new Dt.A({source:t,pixelTolerance:zn()}),this._onDrawStateChanged((e=>this._updateDrawMode(e))),this._environmentService.isTouch()||(this._helpTooltip.activate(this._map),this._onDrawStateChanged((e=>{this._helpTooltip.notify(e),e.snap===Tn.VERTEX?this._mapContainer.classList.add("grab"):this._mapContainer.classList.remove("grab")}))),this._mapListeners.push(e.on(bn.A.CLICK,o)),this._mapListeners.push(e.on(bn.A.POINTERMOVE,a)),this._mapListeners.push(e.on(bn.A.DBLCLICK,(()=>!1)))}this._registeredObservers=this._register(this._storeService.getStore()),this._keyActionMapper.activate(),this._map.addInteraction(this._select),this._map.addInteraction(this._modify),this._map.addInteraction(this._snap);const s=this._storeService.getStore().getState().draw.type;return s&&this._init(s),this._storedContent=null,this._updateDrawState(),this._vectorLayer}onDeactivate(e){var t;this._unreg(this._mapListeners),this._unreg(this._drawingListeners),(0,$r.eC)(y.zR),(0,$r.ZR)(null),e.removeInteraction(this._modify),e.removeInteraction(this._snap),e.removeInteraction(this._select),(t=e).getInteractions().getArray().filter((e=>e instanceof xt.Ay)).forEach((e=>t.removeInteraction(e))),this._helpTooltip.deactivate(),this._unreg(this._drawStateChangedListeners),this._unsubscribe(this._registeredObservers),this._keyActionMapper.deactivate(),(0,$r.td)([]),this._saveAndOptionallyConvertToPermanentLayer(),this._vectorLayer.getSource().getFeatures().forEach((e=>this._overlayService.remove(e,this._map))),this._draw=null,this._modify=!1,this._select=!1,this._snap=!1,this._vectorLayer=null,this._map=null}_unreg(e){(0,jt.e)(e),e=[]}_unsubscribe(e){e.forEach((e=>e())),e=[]}_setDrawState(e){e!==this._drawState&&(this._drawState=e,this._drawStateChangedListeners.forEach((t=>t(e))))}_onDrawStateChanged(e){this._drawStateChangedListeners.push(e)}_register(e){return[(0,O.lB)(e,(e=>e.draw.type),(e=>this._init(e))),(0,O.lB)(e,(e=>e.draw.style),(()=>this._updateStyle())),(0,O.lB)(e,(e=>e.draw.finish),(()=>this._finish())),(0,O.lB)(e,(e=>e.draw.reset),(()=>this._reset())),(0,O.lB)(e,(e=>e.draw.remove),(()=>this._remove())),(0,O.lB)(e,(e=>e.draw.selection),(e=>this._setSelection(e))),(0,O.lB)(e,(e=>e.draw.description),(e=>this._updateDescription(e)))]}_init(e){const t=this._getStyleOption();this._draw&&(this._draw.abortDrawing(),this._draw.setActive(!1),this._map.removeInteraction(this._draw)),this._select.getFeatures().clear(),this._draw=this._createDrawByType(e,t),this._modify.getActive()&&this._draw?this._modify.setActive(!1):null==this._draw&&this._modify.setActive(!0),this._draw&&(this._draw.on("drawstart",(t=>{this._sketchHandler.activate(t.feature,Wn.S.DRAW+"_"+e+"_");const n=this._storeService.getStore().getState().draw.description;n&&this._sketchHandler.active.set("description",n);const r=this._getStyleFunctionByDrawType(e,this._getStyleOption())(this._sketchHandler.active);this._sketchHandler.active.setStyle(r),this._drawingListeners.push(t.feature.on("change",(e=>{const t=e.target.getGeometry();(0,$r.Hy)((0,fe.TV)(t))})))})),this._draw.on("drawend",(e=>{this._activateModify(e.feature),this._sketchHandler.deactivate(),this._unreg(this._drawingListeners)})),this._map.addInteraction(this._draw),this._draw.setActive(!0),this._updateDrawState())}_remove(){this._draw&&this._draw.getActive()&&((()=>{if(this._sketchHandler.isActive){const e=this._sketchHandler.active.getGeometry();return(0,fe.TV)(e)}return!1})()?(this._draw.removeLastPoint(),this._updateDrawState()):this._startNew(),this._lastPointerMoveEvent&&this._draw.handleEvent(this._lastPointerMoveEvent)),this._modify&&this._modify.getActive()&&(Nn(this._select.getFeatures(),this._vectorLayer),this._setSelection([]),this._updateDrawState())}_finish(){this._sketchHandler.isActive?(this._draw.finishDrawing(),this._updateDrawState()):this._activateModify()}_startNew(){if(this._draw){this._draw.abortDrawing(),this._modify.setActive(!1),(0,$r.td)([]),this._helpTooltip.deactivate();const e=this._storeService.getStore().getState().draw.type;this._init(e),this._helpTooltip.activate(this._map)}this._updateDrawState()}_reset(){this._draw&&(this._draw.abortDrawing(),this._modify.setActive(!1),(0,$r.td)([]),this._helpTooltip.deactivate(),(0,$r.dv)(null)),this._updateDrawState()}_createDrawByType(e,t){if(null==e)return null;if(e===Cr.MARKER&&!t.symbolSrc)return null;if(null==this._vectorLayer)return null;const n=this._vectorLayer.getSource(),r=zn();switch(e){case Cr.POINT:case Cr.MARKER:case Cr.TEXT:return new xt.Ay({source:n,type:"Point",minPoints:1,snapTolerance:r,style:this._getStyleFunctionByDrawType(e,t)});case Cr.LINE:return new xt.Ay({source:n,type:"LineString",snapTolerance:r,style:_n(this._getStyleFunctionByDrawType("line",t))});case Cr.POLYGON:return new xt.Ay({source:n,type:"Polygon",minPoints:3,snapTolerance:r,style:_n(this._getStyleFunctionByDrawType("polygon",t))});default:console.warn("unknown Drawtype: "+e)}}_createSelect(){const e=new Ct.A(Ln(this._vectorLayer));return e.getFeatures().on("add",(e=>{const t=e.element,n=pn()(t);e.element.setStyle(n)})),e.getFeatures().on("remove",(e=>{const t=e.element,n=t.getStyle();n.pop(),t.setStyle(n)})),e}_createModify(){const e=new Nt.A(Dn(this._select.getFeatures()));return e.on("modifystart",(e=>{e.mapBrowserEvent.type!==bn.A.SINGLECLICK&&this._mapContainer.classList.add("grabbing")})),e.on("modifyend",(e=>{e.mapBrowserEvent.type!==bn.A.POINTERUP&&e.mapBrowserEvent.type!==bn.A.CLICK||this._mapContainer.classList.remove("grabbing")})),e}_activateModify(e){this._draw&&(this._draw.setActive(!1),(0,$r.dv)(null)),this._modify.setActive(!0),this._setSelected(e)}_getStyleOption(){const e=()=>(e=>this._translationService.translate("olMap_handler_draw_new_text"))(),t=t=>{switch(t){case Cr.TEXT:return e();case Cr.MARKER:return"";default:return null}},n=this._storeService.getStore().getState().draw.style,r=this._storeService.getStore().getState().draw.type;if((0,O.aI)(n,y.zR)){const e=this._iconService.getDefault().getUrl((0,Wt.E2)(Ri.color))||this._iconService.getDefault().base64;(0,$r.eC)({...Ri,symbolSrc:e,text:t(r),anchor:this._iconService.getDefault().anchor})}else r!==Cr.TEXT||(0,Ie.Kg)(n.text)?r!==Cr.MARKER||(0,Ie.Kg)(n.text)||(0,$r.eC)({...n,text:""}):(0,$r.eC)({...n,text:e()});return this._storeService.getStore().getState().draw.style}_getStyleFunctionFrom(e){const t=yn(e);return null!=t?this._getStyleFunctionByDrawType(t,this._getStyleOption()):null}_getStyleFunctionByDrawType(e,t){if([Cr.POINT,Cr.MARKER,Cr.TEXT,Cr.LINE,Cr.POLYGON].includes(e)){const n=this._styleService.getStyleFunction(e);return()=>n(t)}return this._styleService.getStyleFunction(Cr.DRAW)}_updateDrawState(e,t,n){const r={type:null,snap:null,coordinate:e,pointCount:this._sketchHandler.pointCount};t&&(r.snap=xn(this._map,this._vectorLayer,t)),this._draw&&(r.type=An.ACTIVE,this._sketchHandler.isActive&&(r.type=An.DRAW,r.geometryType=this._sketchHandler.active.getGeometry().getType(),this._sketchHandler.isFinishOnFirstPoint?r.snap=Tn.FIRSTPOINT:this._sketchHandler.isSnapOnLastPoint&&(r.snap=Tn.LASTPOINT))),this._modify.getActive()&&(r.type=0===this._select.getFeatures().getLength()?An.SELECT:An.MODIFY,r.geometryType=0===this._select.getFeatures().getLength()?null:this._select.getFeatures().item(0)?.getGeometry().getType()),r.dragging=n,null==e&&null==t&&this._drawState.type===An.MODIFY&&(r.type=An.SELECT),this._setDrawState(r)}_updateDrawMode(e){this._lastInteractionStateType!==e.type&&e.type!==An.OVERLAY&&(this._lastInteractionStateType=e.type,(0,$r.iY)(this._lastInteractionStateType))}_updateStyle(){if(this._drawState.type===An.ACTIVE||this._drawState.type===An.SELECT){const e=this._storeService.getStore().getState().draw.type;this._draw&&!this._draw.active&&this._init(e)}if(this._drawState.type===An.MODIFY&&this._select.getFeatures().getLength()>0){const e=this._select.getFeatures().item(0),t=this._getStyleFunctionFrom(e)(e);e.setStyle([t[0],...e.getStyle().slice(1)]),this._setSelected(e)}if(this._drawState.type===An.DRAW&&this._sketchHandler.isActive){const e=this._getStyleFunctionFrom(this._sketchHandler.active)(this._sketchHandler.active);this._sketchHandler.active.setStyle(e)}null==this._drawState.type&&this._startNew()}_updateDescription(e){const t=()=>{this._sketchHandler.isActive&&this._sketchHandler.active.setProperties({description:e||null})},n=()=>{const t=this._select.getFeatures().item(0);t&&t.setProperties({description:e||null})};switch(this._drawState.type){case An.DRAW:t();break;case An.MODIFY:n()}}_setSelectedStyle(e){const t=this._getStyleOption(),n=vn(e),r=(e=>{if(null==e)return null;const t=Sn(e);if(e.getStyle(),t){const e=t[0].getImage();if(e)return e.getSrc()}return null})(e),i=(e=>{if(null==e)return null;const t=Sn(e);if(e.getStyle(),t){const e=t[0].getText();if(e)return e.getText()}return null})(e),o=(e=>{if(null==e)return null;const t=Sn(e);if(e.getStyle(),t){const e=t[0],n=e?.getImage(),r=e?.getText();if(n)return rn(n.getScale());if(r)return(e=>{switch("number"==typeof e?e:nn(e)){case 2:return"large";case 1.5:return"medium";default:return"small"}})(r.getScale())}return null})(e),a=n||t.color,s=r||t.symbolSrc,c=i||"",l=o||t.scale,d={...t,color:a,symbolSrc:s,text:c,scale:l},u={type:yn(e),style:d};(0,$r.ZR)(u),(0,$r.eC)(d)}_setSelectedDescription(e){(0,$r.Xo)((e=>(e?e.get("description"):null)||null)(e))}_setSelection(e=[]){const t=!(0,O.aI)(e,(()=>this._select?this._select.getFeatures().getArray()?.map((e=>e.getId())):null)());this._select&&t&&((1<=this._select.getFeatures().getLength()||0===e.length)&&this._setSelected(null),e.forEach((e=>{const t=this._vectorLayer.getSource().getFeatureById(e);this._setSelected(t)})))}_setSelected(e){return e?(t=>{const n=this._select.getFeatures().getArray().includes(e);return this._setSelectedStyle(t),this._setSelectedDescription(t),n||this._select.getFeatures().push(t),!0})(e):(()=>{this._select.getFeatures().clear(),(0,$r.ZR)(null),(0,$r.Xo)(null)})()}async _save(){const e=await this._storageHandler.store(this._storedContent,rt.KML);(0,$r.Dv)(e?{fileSaveResult:e,content:this._storedContent}:null)}async _saveAndOptionallyConvertToPermanentLayer(){const e=(e=>this._translationService.translate("olMap_handler_draw_layer_label"))();if(this._storageHandler.isValid()||await this._save(),this._storeService.getStore().getState().draw.createPermanentLayer&&this._storedContent){const t=this._storageHandler.getStorageId(),n=(()=>this._geoResourceService.byId(t)||new nt.HA(t,e,nt.Vz.KML).setAttributionProvider(ot.Ve))();n.setSource(this._storedContent,4326),this._geoResourceService.addOrReplace(n),(0,lt.VE)(t,{constraints:{metaData:!1}})}}}const Oi="temp_session_id";class Gi{setStorageId(e){const{FileStorageService:t}=r.z.inject("FileStorageService");t.isAdminId(e)&&Ur({adminId:e,fileId:null}),t.isFileId(e)&&Ur({fileId:e,adminId:null})}getStorageId(){const e=this._getLastFileSaveResult();return this._isValidFileSaveResult(e)?e.fileId:(()=>{const{TranslationService:e}=r.z.inject("TranslationService");return console.warn("Could not store layer-data. The data will get lost after this session."),(0,Re.L)(("olMap_handler_storage_offline",e.translate("olMap_handler_storage_offline")),Re.A.WARN),Oi})()}isStorageId(e){const{FileStorageService:t}=r.z.inject("FileStorageService");return null!=e&&(t.isAdminId(e)||t.isFileId(e)||e===Oi)}isValid(){return this._isValidFileSaveResult(this._getLastFileSaveResult())&&this.isStorageId(this.getStorageId())}_getLastFileSaveResult(){const{StoreService:e}=r.z.inject("StoreService"),{shared:t}=e.getStore().getState();return t.fileSaveResult}_isValidFileSaveResult(e){return null!=e&&null!==e.adminId&&null!==e.fileId}async store(e,t){const{StoreService:n,FileStorageService:i}=r.z.inject("StoreService","FileStorageService"),o=e??'<?xml version="1.0" encoding="UTF-8"?><kml xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.opengis.net/kml/2.2"><Document></Document></kml>',{shared:a}=n.getStore().getState();if(a.fileSaveResult)try{const e=await i.save(a.fileSaveResult.adminId,o,t);return Ur(e),e}catch(e){console.warn("Could not store content:",e)}else try{const e=await i.save(null,o,t);return Ur(e),e}catch(e){console.warn("Could not store content initially:",e),Ur(null)}return null}}var Ui=n(78645),Fi=n(57114);class $i{constructor(e){if(this.constructor===$i)throw new TypeError("Can not construct abstract class.");if(!e)throw new TypeError("Id of this handler must be defined.");this._id=e}get id(){return this._id}register(e){throw new TypeError("Please implement abstract method #register or do not call super.activate from child.")}}const Yi=(e,t)=>{if(!(e.get("name")||e.get("description")||e.get("desc")||e.getGeometry()))return null;const{MapService:n,SecurityService:i,GeoResourceService:o}=r.z.inject("MapService","SecurityService","GeoResourceService"),a=(0,fe.GT)(e.getGeometry()),s=(0,fe.CR)((0,fe.qC)(e.getGeometry()),fe.Kr,fe.hd)?.getCoordinates()??[],c=(new Rn.Ay).writeFeatures([e],{featureProjection:"EPSG:"+n.getSrid()}),l=o.byId(t.geoResourceId);return{title:l?e.get("name")?`${i.sanitizeHtml(e.get("name"))} - ${l.label}`:`${l.label}`:`${i.sanitizeHtml(e.get("name")??"")}`,content:(()=>{const t=e.get("description")||e.get("desc"),n=Ne.qy`
		</div>
			<ba-geometry-info .statistics=${a}></ba-geometry-info>
			<div class='chips__container'>
				<ba-profile-chip .coordinates=${s}></ba-profile-chip>
				<ba-export-vector-data-chip .exportData=${c}></ba-export-vector-data-chip>
			</div>`;return t?Ne.qy`<div class="content">${(0,Fr._)(i.sanitizeHtml(t))}</div>
					${n}`:Ne.qy`${n}`})(),geometry:{data:(new ai.A).writeGeometry(e.getGeometry()),geometryType:Ui.wA.GEOJSON}}};class Bi extends $i{constructor(e=Yi){super("Feature_Info_Handler");const{StoreService:t,TranslationService:n}=r.z.inject("StoreService","TranslationService");this._featureInfoProvider=e,this._storeService=t,this._translationService=n}register(e){const t=(0,me.Ds)(),n=e=>this._translationService.translate(e),r=(e,t,n)=>e.forEachFeatureAtPixel(t,(e=>e.get("features")?1===e.get("features").length?e.get("features")[0]:null:e),{layerFilter:e=>e===n,hitTolerance:10})??null,i=e=>e.visible;(0,O.lB)(this._storeService.getStore(),(e=>e.featureInfo.coordinate),((o,a)=>{(0,Xn.kf)(Jr.xf),(0,Ui.Mr)(t);const s=[...a.layers.active].filter(i).map((t=>({olLayer:(0,Fi.SU)(e,t.id),layerProperties:t}))).map((t=>{const{layerProperties:n,olLayer:i}=t;return{olFeature:r(e,e.getPixelFromCoordinate(o.payload),i),layerProperties:n}})).filter((e=>!!e.olFeature)).filter((e=>{const{layerProperties:t,olFeature:n}=e;return t.constraints.hidden?!!n.get("name"):n})).map((e=>this._featureInfoProvider(e.olFeature,e.layerProperties))).map((e=>e||{title:n("global_featureInfo_not_available"),content:""})).reverse();(0,Ui.mj)(s);const c=s.filter((e=>e.geometry)).map((e=>({id:Jr.xf,type:Xn.pN.DEFAULT,data:{geometry:e.geometry.data,geometryType:Xn.v4.GEOJSON}}))),l=(0,O.lB)(this._storeService.getStore(),(e=>e.featureInfo.querying),(e=>{e||((0,Xn.lX)(c),l())}));setTimeout((()=>{(0,Ui.zN)(t)}),300)}))}}var Hi=n(56741),Zi=n(7771);const Wi=new $t.Ay({image:new Yt.A({fill:new Ft.A({color:[255,128,0,0]}),radius:1})}),Vi=()=>[new $t.Ay({})],Qi="mfp_layer";class Xi extends Hn.h{constructor(){super(),this._initialized=!1;const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e}async register(e){const{MfpService:t,EnvironmentService:n}=r.z.inject("MfpService","EnvironmentService"),i=async()=>{if(!this._initialized){try{const{layouts:e}=await t.init(),{id:n,scales:r,dpis:i}=e[0];return(0,Hi.iY)({id:n,dpi:i[0],scale:r[0]}),this._initialized=!0}catch(e){console.error("MfpCapabilities could not be fetched from backend",e),(0,Re.L)(`${this._translationService.translate("global_mfpService_init_exception")}`,Re.A.ERROR)}return!1}return!0};(0,O.lB)(e,(e=>e.tools.current),(async e=>{e!==Wn.S.EXPORT?(0,Hi.LU)():await i()&&setTimeout((()=>{(0,Hi.Yf)()}))})),(0,O.lB)(e,(e=>e.mfp.active),(e=>{e?(0,lt.VE)(Qi,{constraints:{hidden:!0,alwaysTop:!0}}):(0,lt.e5)(Qi)})),(0,O.lB)(e,(e=>e.mfp.jobSpec),(async({payload:e})=>{if(e)try{const r=await t.createJob(e);r&&(n.getWindow().location=r)}catch(e){console.error("PDF generation was not successful.",e),(0,Re.L)(`${this._translationService.translate("global_mfpService_createJob_exception")}`,Re.A.ERROR)}finally{(0,Hi.mh)()}else t.cancelJob()}))}}var Ki=n(62446),qi=n(2871),Ji=n(96702),eo=n(57916),to=n(70402);const no=Object.freeze({MISSING_GEORESOURCE:"missing_georesource",NOT_EXPORTABLE:"not_exportable"});class ro{constructor(){const{MapService:e,GeoResourceService:t,UrlService:n,ShareService:i,MfpService:o}=r.z.inject("MapService","GeoResourceService","UrlService","ShareService","MfpService");this._mapService=e,this._geoResourceService=t,this._urlService=n,this._shareService=i,this._mfpService=o,this._pageExtent=null,this._geometryEncodingFormat=new ai.A,this._mapProjection=`EPSG:${this._mapService.getSrid()}`,this._encodingStyleId=0}async encode(e,t){if(this._initStyleId(),this._mfpProperties=t,this._mfpProjection=this._mfpProperties.targetSRID?`EPSG:${this._mfpProperties.targetSRID}`:`EPSG:${this._mapService.getLocalProjectedSrid()}`,null==(n=this._mfpProperties).layoutId||null==n.scale||0===n.scale||null==n.dpi)throw Error("Invalid or missing EncodingProperties");var n;const r=this._mfpProperties.pageCenter&&this._mfpProperties.pageCenter instanceof ar.A?this._mfpProperties.pageCenter.clone().transform(this._mapProjection,this._mfpProjection):new ar.A(e.getView().getCenter()).clone().transform(this._mapProjection,this._mfpProjection);this._pageExtent=this._mfpProperties.pageExtent?this._mfpProperties.pageExtent:e.getView().calculateExtent(e.getSize());const i=e.getLayers().getArray().filter((e=>e.getExtent()?(0,be.HY)(e.getExtent(),this._pageExtent)&&e.getVisible():e.getVisible())),o=[],a=(e,t)=>{o.push({label:e,type:t})},s=i.flatMap((e=>this._encode(e,a))),c=this._getCopyrights(e,i),l=this._encodeOverlays(e.getOverlays().getArray()),d=this._mfpProperties.showGrid?this._encodeGridLayer(this._mfpProperties.scale):{},u=await this._generateShortUrl(),g=this._generateQrCode(u),h=[d,l,...s.reverse()].filter((e=>Object.hasOwn(e,"type")));return{specs:{layout:this._mfpProperties.layoutId,attributes:{map:{center:r.getCoordinates(),scale:this._mfpProperties.scale,projection:this._mfpProjection,dpi:this._mfpProperties.dpi,rotation:this._mfpProperties.rotation,layers:h},dataOwner:Array.from(new Set(c.map((e=>e.label)))).join(","),shortLink:u,qrcodeurl:g}},errors:o}}_initStyleId(){this._encodingStyleId=0}_getCopyrights(e,t){const n=e=>{if(!e)return e;const{grSubstitutions:t}=this._mfpService.getCapabilities();return Object.hasOwn(t,e.id)?this._geoResourceService.byId(t[e.id]):e},r=(i=t,i.flatMap((e=>e instanceof or.A?e.getLayers().getArray():e))).flatMap((e=>n(this._geoResourceService.byId(e.get("geoResourceId")))));var i;return(0,to.I)(r,(e=>{const t=this._mfpProperties.scale/39.37/72;return e.getView().getZoomForResolution(t)})(e))}_getSubstitutionLayerOptional(e){const{LayerService:t}=r.z.inject("LayerService"),{grSubstitutions:n}=this._mfpService.getCapabilities(),i=this._geoResourceService.byId(e.get("geoResourceId"));if(i){const r=Object.hasOwn(n,i.id)?this._geoResourceService.byId(n[i.id]):null;return r?((e,n)=>{const r=n.id??e.id,i=t.toOlLayer(`${r}_substitution`,e,null);return i?.setOpacity(n.getOpacity()),i})(r,e):e}return e}_encode(e,t,n=1){if(e instanceof or.A)return this._encodeGroup(e,t);const r=this._getSubstitutionLayerOptional(e),i=this._geoResourceService.byId(r.get("geoResourceId"));if(!i)return t(`[${e.get("id")}]`,no.MISSING_GEORESOURCE),!1;if(!i.exportable)return t(i.label,no.NOT_EXPORTABLE),!1;switch(i.getType()){case nt.Fl.VECTOR:return this._encodeVector(r,n);case nt.Fl.XYZ:return this._encodeWMTS(r,n);case nt.Fl.WMS:return this._encodeWMS(r,i,n);case nt.Fl.VT:return console.warn(`VectorTiles are currently not supported by MFP. Missing substitution for GeoResource '${i.id}'.`),[];default:return!1}}_encodeGroup(e,t){const n=e.getLayers().getArray(),r=e.getOpacity();return n.map((e=>this._encode(e,t,r)))}_encodeWMTS(e,t){return(e=>{const n=this._mfpProjection,r=e.getSource(),{tileGrid:i,layer:o,baseURL:a,requestEncoding:s}=r instanceof eo.A?{tileGrid:(c=r).getTileGrid(),layer:c.getLayer(),baseURL:c.getUrls()[0],requestEncoding:c.getRequestEncoding()}:((e,t)=>{return{tileGrid:e.getTileGrid(),layer:t.get("geoResourceId"),baseURL:(n=e.getUrls()[0],n.replace("{z}","{TileMatrix}").replace("{x}","{TileCol}").replace("{y}","{TileRow}")),requestEncoding:"REST"};var n})(r,e);var c;return{opacity:1!==t?t:e.getOpacity(),type:"wmts",baseURL:a,layer:o,requestEncoding:s,matrices:ro.buildMatrixSets(i),matrixSet:n}})(e)}_encodeWMS(e,t,n){const r=e.getSource(),i=r.getParams(),o=i.LAYERS?.split(",")||[],a=null!=i.STYLES?i.STYLES.split(","):new Array(o.length).join(",").split(",");return{type:"wms",baseURL:r.getUrl&&r.getUrl(),imageFormat:t.format,layers:o,name:t.id,opacity:1!==n?n:e.getOpacity(),styles:a,customParams:{transparent:!0}}}_encodeVector(e,t){const n={MultiPolygon:[],Polygon:[],Circle:[],GeometryCollection:[],LineString:[],MultiLineString:[],MultiPoint:[],Point:[],...(r=e.getSource().getFeatures(),i=e=>e.getGeometry().getType(),r.reduce(((e,t)=>{const n=i(t);return e[n]=e[n]??[],e[n].push(t),e}),{}))};var r,i;const o=[...n.MultiPolygon,...n.Polygon,...n.Circle,...n.GeometryCollection,...n.LineString,...n.MultiLineString,...n.MultiPoint,...n.Point],a=e=>{const t=e.clone();return t.getGeometry().transform(this._mapProjection,this._mfpProjection),t},s=new Map,c=(0,fe.Fl)(this._pageExtent).transform(this._mapProjection,this._mfpProjection).getExtent(),l=o.map((e=>a(e))).filter((e=>e.getGeometry().intersectsExtent(c))).reduce(((n,r)=>{const i=this._encodeFeature(r,e,s,t);return i?{features:[...n.features,...i.features]}:n}),{features:[]});return 0!==l.features.length&&{type:"geojson",geoJson:{features:l.features,type:"FeatureCollection"},name:e.get("id"),style:(e=>{const t={version:"2"};return(e=>(e.forEach((e=>{const{id:n,symbolizers:r}=e;t[`[_gx_style = ${n}]`]={symbolizers:r}})),t))(e)})(Array.from(s.values())),opacity:e.getOpacity()}}_encodeFeature(e,t,n,r,i=[]){const o={features:[]},a=this._mfpProperties.scale/39.37/72,s=()=>({id:this._encodingStyleId++}),c=i.length>0?i:((e,t,n)=>{const r=e.getStyle();if(null!=r&&"function"==typeof r){const t=e=>r(e,null);return null!=e.get("measurement")?t(e):r(e,n)}if(null!=r&&r.length>0)return r;const i=t.getStyleFunction();return i?i(e,n):[]})(e,t,a),l=Array.isArray(c)?((e,t)=>e&&e.length>0?t?e[0]:e.find((e=>!(e.getGeometry&&"function"==typeof e.getGeometry())))??null:null)(c,i.length>0):c;if(!(l&&l instanceof $t.Ay))return console.warn("cannot style feature",e),null;const d=(e=>(()=>{const t=e.getGeometry();return t instanceof Me.Ay||t instanceof qi.A||t instanceof we.A||t instanceof Ji.A||t instanceof ar.A||t instanceof Zt.A})()?e:(()=>{const t=e.getGeometry();if(t instanceof Ht.A){const e=t.getCenter(),n=t.getRadius(),r=40,i=Math.PI*(1/r-.5),o=[];for(let t=0;t<r;++t){const a=i+2*t*Math.PI/r,s=e[0]+n*Math.cos(a),c=e[1]+n*Math.sin(a);o.push([s,c])}return o.push(o[0]),new jn.A(new Me.Ay([o]))}})())(e);if(!d)return console.warn("feature not encodable",e),null;const u=1!==r?r:t.getOpacity(),g=(e=>n.has(e)?(()=>{const{id:t,symbolizers:r}=n.get(e),i=this._encodeGeometryType(d.getGeometry().getType());if(r.every((e=>e.type!==i))){const i={id:t,symbolizers:[...r,...this._encodeStyle(l,d.getGeometry(),this._mfpProperties.dpi)]};n.set(e,i)}return t})():(()=>{const t={...s(),symbolizers:this._encodeStyle(l,d.getGeometry(),this._mfpProperties.dpi)};return t.symbolizers.forEach((e=>{e.fillOpacity&&(e.fillOpacity*=u),e.strokeOpacity&&(e.strokeOpacity*=u),e.graphicOpacity&&(e.graphicOpacity*=u)})),n.set(e,t),t.id})())(l),h=Array.isArray(c)?c.reduce(((e,i)=>{if(i.getGeometry&&"function"==typeof i.getGeometry()){const a=i.getGeometry()(d);if(a){const s=this._encodeFeature(new jn.A(a),t,n,r,[i]);return s?{features:[...e.features,...s.features]}:o}}return e}),o):{features:[]},p=this._geometryEncodingFormat.writeFeatureObject(d);return p.properties={_gx_style:g},{features:[p,...h.features]}}_encodeGeometryType(e){const t={MultiPoint:()=>"point",LineString:()=>"line",MultiPolygon:()=>"polygon",MultiLineString:()=>"line"};return Object.hasOwn(t,e)?t[e]():e.toLowerCase()}_encodeStyle(e,t,n){const i=e.getFill(),o=e.getStroke(),a=e.getText(),s=e.getImage(),c=t.getType(),l={type:this._encodeGeometryType(c),zIndex:e.getZIndex()?e.getZIndex():0};if(s&&"point"===l.type){const e=s.getScale();l.rotation=180*(s.getRotation()??0)/Math.PI;const t=e=>{const t=e.getSrc(),{IconService:n}=r.z.inject("IconService"),i=n.getIconResult(t),o=n.decodeColor(t);return{size:e.getSize(),anchor:e.getAnchor(),imageSrc:i?i.getUrl(o):e.getSrc().replace(/\.svg/,".png")}},i=e=>{const t=e.getStroke(),r=e.getRadius(),i=t?ro.adjustDistance(2*r,n)+ro.adjustDistance(t.getWidth()+1,n):ro.adjustDistance(2*r,n);return{fill:e.getFill(),stroke:t,radius:r,size:[i,i]}},o=s instanceof Bt.A?t(s):i(s);if(o.size){l.graphicWidth=ro.adjustDistance(o.size[0]*e||.1,n),l.graphicHeight=ro.adjustDistance(o.size[1]*e||.1,n);const t=o.fill?.getColor();if(t){const e=(0,Ki._j)(t);l.fillColor=(0,Wt.Ob)(e.slice(0,3)),l.fillOpacity=e[3]??1}}o.anchor&&(l.graphicXOffset=(o.size[0]/2-o.anchor[0])*e,l.graphicYOffset=(o.size[1]/2-o.anchor[1])*e),o.imageSrc&&(l.externalGraphic=o.imageSrc,l.graphicOpacity=1),o.radius&&(l.pointRadius=o.radius)}if(i){const e=(0,Ki._j)(i.getColor());l.fillColor=(0,Wt.Ob)(e.slice(0,3)),l.fillOpacity=e[3]??1}if(o){const e=(0,Ki._j)(o.getColor());l.strokeWidth=ro.adjustDistance(o.getWidth(),n),l.strokeColor=(0,Wt.Ob)(e.slice(0,3)),l.strokeOpacity=e[3]??1,l.strokeLinecap=o.getLineCap()??"round",l.strokeLineJoin=o.getLineJoin()??"round",o.getLineDash()&&(l.strokeDashstyle="dash")}if(l.fillOpacity=l.fillOpacity??0,l.strokeOpacity=l.strokeOpacity??0,a&&a.getText()){l.label=a.getText(),l.type="text";const e=e=>{switch(e){case"left":case"right":return e[0];default:return"c"}},t=e=>{switch(e){case"bottom":case"top":return e[0];default:return"m"}};if(l.labelAlign=e(a.getTextAlign())+t(a.getTextBaseline()),a.getFill()){const e=(0,Ki._j)(a.getFill().getColor());l.fontColor=(0,Wt.Ob)(e)}if(a.getFont()){const e=a.getFont().split(" "),[t,r,...i]=e;l.fontFamily=i.join(" "),l.fontSize=ro.adjustDistance(parseInt(r),n),l.fontWeight=t}this._mfpProperties.rotation&&(l.labelRotation=(360-this._mfpProperties.rotation)%360)}return"text"===l.type&&l.externalGraphic?(e=>{const{label:t,labelXOffset:n,labelYOffset:r,labelAlign:i,fontFamily:o,fontSize:a,fontWeight:s,...c}=e;return[{...c,type:"point"},e]})(l):[l]}_encodeOverlays(e){const t=e=>{const t=e.getElement();if(t.tagName.toLowerCase()!==fn.O.tag)return console.warn("cannot encode overlay element: No rule defined",t),null;const n=e.getPosition(),r=new ar.A(n).transform(this._mapProjection,this._mfpProjection).getCoordinates(),i=Math.round(t.placement.offset[0]),o=-Math.round(t.placement.offset[1]),a=(e=>{const t={top:0,middle:.5,bottom:1,left:0,center:.5,right:1},n=e.split("-");return n&&2===n.length?{x:t[n[1]],y:t[n[0]]}:{x:.5,y:.5}})(t.placement.positioning);return{type:"Feature",properties:{type:t.type,label:t.innerText,labelXOffset:i,labelYOffset:o,labelAnchorPointX:a.x,labelAnchorPointY:a.y},geometry:{type:"Point",coordinates:[...r,0]}}},n=e.map((e=>t(e))).filter((e=>null!==e));return 0===n.length?[]:{type:"geojson",name:"overlay",opacity:1,geoJson:{type:"FeatureCollection",features:n},style:{version:2,conflictResolution:!1,"[type='distance']":{symbolizers:[{type:"point",fillColor:"#ff0000",fillOpacity:1,strokeOpacity:0,graphicName:"circle",graphicOpacity:.4,pointRadius:3},{type:"text",label:"[label]",labelXOffset:"[labelXOffset]",labelYOffset:"[labelYOffset]",labelAnchorPointX:"[labelAnchorPointX]",labelAnchorPointY:"[labelAnchorPointY]",fontColor:"#ffffff",fontSize:10,fontFamily:"sans-serif",fontWeight:"bold",haloColor:"#ff0000",haloOpacity:1,haloRadius:1,strokeColor:"#ff0000"}]},"[type='distance-partition']":{symbolizers:[{type:"point",fillColor:"#ff0000",fillOpacity:1,strokeOpacity:1,strokeWidth:1.5,strokeColor:"#ffffff",graphicName:"circle",graphicOpacity:.4,pointRadius:2},{type:"text",label:"[label]",labelXOffset:"[labelXOffset]",labelYOffset:"[labelYOffset]",labelAnchorPointX:"[labelAnchorPointX]",labelAnchorPointY:"[labelAnchorPointY]",fontColor:"#000000",fontSize:8,fontFamily:"sans-serif",fontWeight:"normal",haloColor:"#ffffff",haloOpacity:1,haloRadius:2,strokeColor:"#ff0000"}]},"[type='area']":{symbolizers:[{type:"text",label:"[label]",labelAlign:"cm",fontColor:"#ffffff",fontSize:10,fontFamily:"sans-serif",fontWeight:"bold",haloColor:"#ff0000",haloOpacity:1,haloRadius:1,strokeColor:"#ff0000"}]}}}}_encodeGridLayer(e){const t=new Map([[2e6,1e5],[1e6,1e5],[5e5,5e4],[2e5,1e4],[1e5,5e3],[5e4,1e3],[25e3,1e3],[1e4,1e3],[5e3,500],[2500,200],[1250,100],[1e3,100],[500,50]]),n=t.has(e)?t.get(e):1e3;return{type:"grid",gridType:"lines",origin:[6e5,48e5],spacing:[n,n],renderAsSvg:!0,haloColor:"#f5f5f5",labelColor:"black",valueFormat:"##,#####.#",formatGroupingSeparator:" ",indent:10,haloRadius:2,font:{name:["Liberation Sans","Helvetica","Nimbus Sans L","Liberation Sans","FreeSans","Sans-serif"],size:8,style:"BOLD"}}}static adjustDistance(e,t){return null!=e?70*e/t:null}async _generateShortUrl(){const e=this._shareService.encodeState();try{return await this._urlService.shorten(e)}catch(t){return console.warn("Could not shorten url: "+t),e}}_generateQrCode(e){try{return this._urlService.qrCode(e)}catch(e){console.warn("Could not generate qr-code url: "+e)}return null}static buildMatrixSets(e){const t=e.getResolutions(),n=e=>e/28e-5,r=(e,t)=>{const n=e.getTileCoordForCoordAndZ((0,be.Py)(e.getExtent()),t),r=e.getTileCoordForCoordAndZ((0,be.k_)(e.getExtent()),t);return[Math.abs(r[1]-n[1]),Math.abs(n[2]-r[2])]};return t.map(((t,i)=>{const o=e.getZForResolution(t),a=e.getTileSize(o);return{identifier:i.toString(),scaleDenominator:n(t),topLeftCorner:e.getOrigin(o),tileSize:[a,a],matrixSize:r(e,o)}}))}}class io extends Rt{constructor(){super(Qi);const{StoreService:e,TranslationService:t,MapService:n,MfpService:i,Mfp3Encoder:o}=r.z.inject("StoreService","TranslationService","MapService","MfpService","Mfp3Encoder");this._storeService=e,this._translationService=t,this._mapService=n,this._mfpService=i,this._encoder=o,this._mfpLayer=null,this._mapListener=null,this._mfpBoundaryFeature=new jn.A,this._forceRenderFeature=new jn.A,this._map=null,this._registeredObservers=[],this._pageSize=null,this._visibleViewport=null,this._mapProjection="EPSG:"+this._mapService.getSrid(),this._beingDragged=!1,this._previewDelayTime=1500,this._previewDelayTimeoutId=null,this._alreadyWarned=!1}onActivate(e){if(this._map=e,null===this._mfpLayer){const r=new zt.A({wrapX:!1,features:[this._mfpBoundaryFeature,this._forceRenderFeature]});this._mfpLayer=new kt.A({source:r}),(0,Hi.hF)(this._getOptimalScale(e));const i=this._storeService.getStore().getState().mfp.current;this._mfpLayer.on("prerender",(e=>e.context.save())),this._mfpLayer.on("postrender",(t=this._map,n=()=>this._getPixelCoordinates(),e=>{const r=n(),i=((e,t)=>{const n=e.getSize(),r=n[0]*Zi.cr,i=n[1]*Zi.cr;return[[[0,0],[r,0],[r,i],[0,i],[0,0]],t.map((e=>[e[0]*Zi.cr,e[1]*Zi.cr]))]})(t,r),o=e.context;((e,t)=>{const n=t[0],r=t[1];e.beginPath(),e.moveTo(n[0][0],n[0][1]),n.slice(1).forEach((t=>e.lineTo(t[0],t[1]))),e.closePath(),e.moveTo(r[0][0],r[0][1]),[...r].reverse().slice(1).forEach((t=>e.lineTo(t[0],t[1]))),e.closePath(),e.fillStyle="rgba(0, 5, 25, 0.75)",e.fill()})(o,i),o.restore()})),this._registeredObservers=this._register(this._storeService.getStore()),this._forceRenderFeature.setGeometry(new ar.A(this._map.getView().getCenter())),this._forceRenderFeature.setStyle(Wi),this._mapListener=this._map.on("precompose",(()=>this._updateForceRenderFeature())),this._updateMfpPage(i),this._delayedUpdateMfpPreview(this._getVisibleCenterPoint())}var t,n;return this._mfpLayer}onDeactivate(e){this._mfpBoundaryFeature.setStyle(Vi),this._mfpBoundaryFeature.setGeometry(null),this._unregister(this._registeredObservers),(0,jt.e)(this._mapListener),this._mapListener=null,this._mfpLayer=null,this._map=null,this._visibleViewport=null,this._alreadyWarned=!1}_register(e){return[(0,O.lB)(e,(e=>e.mfp.current),(e=>{this._updateMfpPage(e),this._updateMfpPreview(this._getVisibleCenterPoint())})),(0,O.lB)(e,(e=>e.mfp.jobRequest),(()=>this._encodeMap())),(0,O.lB)(e,(e=>e.position.center),(()=>this._updateMfpPreview(this._getVisibleCenterPoint()))),(0,O.lB)(e,(e=>e.position.liveZoom),(()=>this._beingDragged=!0)),(0,O.lB)(e,(e=>e.map.moveStart),(()=>{this._previewDelayTimeoutId||(this._beingDragged=!0)})),(0,O.lB)(e,(e=>e.map.moveEnd),(()=>{this._delayedUpdateMfpPreview(this._getVisibleCenterPoint())})),(0,O.lB)(e,(e=>e.pointer.beingDragged),(e=>{(e?()=>{this._beingDragged=e,this._previewDelayTimeoutId&&(clearTimeout(this._previewDelayTimeoutId),this._previewDelayTimeoutId=null)}:()=>{this._delayedUpdateMfpPreview(this._getVisibleCenterPoint())})()}))]}_unregister(e){e.forEach((e=>e())),e=[]}_updateMfpPage(e){const{id:t,scale:n}=e,r=this._mfpService.getLayoutById(t).mapSize;var i;this._mfpBoundaryFeature.setStyle((i=()=>this._getBeingDragged(),[new $t.Ay({renderer:(e,t)=>{if(!i()){const r=t.feature.get("inPrintableArea")??!0,i={strokeStyle:r?"rgba(9, 157, 220, 0.5)":"rgba(231, 79, 13, 0.8)",lineWidth:r?3:5},o=null!=(n=e)[0][0]&&null!=n[0][0][0]?e[0]:e;((e,t,n)=>{e.beginPath(),e.moveTo(t[0][0],t[0][1]),[...t].slice(1).forEach((t=>e.lineTo(t[0],t[1]))),e.closePath(),e.lineWidth=n.lineWidth,e.strokeStyle=n.strokeStyle,e.stroke()})(t.context,o,i)}var n}})])),this._pageSize=(e=>{const t=e=>e/72*25.4/1e3*n;return{width:t(e.width),height:t(e.height)}})(r)}_updateForceRenderFeature(){const e=this._map.getView().getCenter(),t=this._forceRenderFeature.getGeometry().getCoordinates();e[0]===t[0]&&e[1]===t[1]||this._forceRenderFeature.setGeometry(new ar.A(this._map.getView().getCenter()))}_updateMfpPreview(e){e&&(this._getMfpProjection()===this._mapProjection?()=>{this._mfpBoundaryFeature.set("inPrintableArea",!0),this._mfpBoundaryFeature.setGeometry(e)}:()=>{const{extent:t}=this._mfpService.getCapabilities(),n=this._storeService.getStore().getState().position.rotation,r=this._createPagePolygon(this._pageSize,e),i=this._toMfpBoundary(r,e,n),o=(0,be._N)(i.getExtent(),t);this._mfpBoundaryFeature.set("inPrintableArea",(0,be.aI)(o,i.getExtent())),this._mfpBoundaryFeature.setGeometry(i)})()}_delayedUpdateMfpPreview(e){const t=this._previewDelayTime,n=e=>this._translationService.translate(e);this._previewDelayTimeoutId&&(clearTimeout(this._previewDelayTimeoutId),this._previewDelayTimeoutId=null),this._previewDelayTimeoutId=setTimeout((()=>{this._beingDragged=!1,this._updateMfpPreview(e),this._mfpBoundaryFeature.get("inPrintableArea")||this._warnOnce(n("olMap_handler_mfp_distortion_warning")),this._previewDelayTimeoutId=null}),t)}_getPixelCoordinates(){const e=this._map.getView().getResolution(),t=this._getVisibleCenterPixel(),n=this._map.getCoordinateFromPixel(t),r=this._getAverageDeviationFromEquator(n),i=(t=>{const n=t=>t/e/r;return{width:n(t.width),height:n(t.height)}})(this._pageSize),o=(0,fe.Ql)(t,i);return(0,fe.Fl)(o).getCoordinates()[0].reverse()}_createPagePolygon(e,t){const n=t.clone().transform(this._mapProjection,this._getMfpProjection()),r=(0,fe.Ql)(n.getCoordinates(),e);return(0,fe.Fl)(r)}_toMfpBoundary(e,t,n){const r=e.clone().transform(this._getMfpProjection(),this._mapProjection);return null!==n?(e=>{const r=(0,fe.xQ)(e);return e.rotate(n-r,t.getCoordinates()),e})(r):r}_getBeingDragged(){return this._beingDragged}_getAverageDeviationFromEquator(e){const t=(0,q.WP)(e);return Math.abs(Math.cos(t[1]*Math.PI/180))}_getOptimalScale(e){const t=(n=e.getSize(),r=this._mapService.getVisibleViewport(e.getTarget()),{width:n[0]-(r.left+r.right),height:n[1]-(r.bottom+r.top)});var n,r;const i=this._getAverageDeviationFromEquator(e.getView().getCenter()),o=e.getView().getResolution(),a=o*i*(t.width-100),s=o*i*(t.height-100),{id:c}=this._storeService.getStore().getState().mfp.current,l=this._mfpService.getLayoutById(c).mapSize,d=39.37*a*72/l.width,u=39.37*s*72/l.height,g=Math.min(d,u),h=[...this._mfpService.getLayoutById(c).scales].reverse();return((e,t)=>{let n;return e.forEach((e=>{g>e&&(n=e)})),n})(h)||h[0]}_getVisibleCenterPixel(){const e=()=>(this._visibleViewport||(this._visibleViewport=this._mapService.getVisibleViewport(this._map.getTarget())),this._visibleViewport);return(()=>{const t=this._map.getSize(),n=e();return[t[0]/2+(n.left-n.right)/2,t[1]/2+(n.top-n.bottom)/2]})()}_getVisibleCenterPoint(){return new ar.A(this._map.getCoordinateFromPixel(this._getVisibleCenterPixel()))}_getMfpProjection(){return`EPSG:${this._mfpService.getCapabilities().srid}`}_warnOnce(e){this._alreadyWarned||((0,Re.L)(e,Re.A.WARN),this._alreadyWarned=!0)}async _encodeMap(){const{id:e,scale:t,dpi:n}=this._storeService.getStore().getState().mfp.current,r=180*(0,fe.xQ)(this._mfpBoundaryFeature.getGeometry())/Math.PI,i=this._storeService.getStore().getState().mfp.showGrid,o={layoutId:e,scale:t,rotation:r,dpi:n,pageCenter:this._getVisibleCenterPoint(),showGrid:i},a=await this._encoder.encode(this._map,o);(0,Hi._1)(a.specs);const s=a.errors.filter((e=>e.type===no.NOT_EXPORTABLE));(s.length>0?()=>this._notifyAboutEncodingErrors(s):()=>{})()}_notifyAboutEncodingErrors(e){const t=Ne.qy`<div>
			<p style="color: var(--text3);">${(e=>this._translationService.translate("olMap_handler_mfp_encoder_layer_not_exportable"))()}</p>
			<ul style="margin-left:2em;">
				${e.map((e=>Ne.qy`<li style="color: var(--text3);">${e.label}</li>`))}
			</ul>
		</div>`;(0,Re.L)(t,Re.A.WARN)}}var oo=n(38611);const ao=[];class so extends $i{#o=!1;constructor(){super("Elevation_Profile_Handler");const{StoreService:e,ElevationService:t}=r.z.inject("StoreService","ElevationService");this._storeService=e,this._elevationService=t,this._mapListeners={select:[],modify:[]},this._map=null}register(e){(0,O.lB)(this._storeService.getStore(),(e=>e.tools.current),(e=>{this.#o=so.SUPPORTED_TOOL_IDS.includes(e)}),!1),this._map=e;const t=e.getInteractions();t.on("add",(e=>{this.#o&&(e.element instanceof Ct.A&&this._updateListener(An.SELECT,e.element),e.element instanceof Nt.A&&this._updateListener(An.MODIFY,e.element))})),t.on("remove",(e=>{this.#o&&(e.element instanceof Ct.A&&this._updateListener(An.SELECT,null),e.element instanceof Nt.A&&this._updateListener(An.MODIFY,null))}))}_getCoordinates(e){if(1===e.getLength()){const t=e.getArray()[0];return(0,fe.qC)(t.getGeometry())?.getCoordinates()??ao}return ao}_updateSelectCoordinates(e){const t=e.target,n=this._getCoordinates(t);n.length>1?this._elevationService.requestProfile(n):(0,oo.KZ)(null)}_updateModifyCoordinates(e){const t=e.features,n=this._getCoordinates(t);n.length>1&&this._elevationService.requestProfile(n)}_updateListener(e,t){const n=this._mapListeners[e];if(n.length>0&&(n.forEach((e=>(0,jt.e)(e))),this._mapListeners[e]=[],(0,oo.KZ)(null)),t)switch(e){case An.SELECT:n.push(t.getFeatures().on("add",(e=>this._updateSelectCoordinates(e)))),n.push(t.getFeatures().on("remove",(e=>this._updateSelectCoordinates(e))));break;case An.MODIFY:n.push(t.on("modifyend",(e=>this._updateModifyCoordinates(e))))}}static get SUPPORTED_TOOL_IDS(){return[Wn.S.DRAW,Wn.S.MEASURE]}}var co=n(62434);class lo extends $i{#a=!1;constructor(){super("SelectableFeature_Handler");const{StoreService:e}=r.z.inject("StoreService");this._storeService=e}register(e){(0,O.lB)(this._storeService.getStore(),(e=>e.tools.current),(e=>{this.#a=null===e}),!1),e.on("pointermove",(t=>{if(t.dragging||!this.#a)return;const n=e.getEventPixel(t.originalEvent),r=e.forEachFeatureAtPixel(n,(e=>e));e.getTargetElement().style.cursor=r||(t=>!!e.getLayers().getArray().filter((e=>e instanceof mi.A||e instanceof co.A)).find((e=>{const n=e.getData(t);return n&&n[3]>0})))(t.pixel)?"pointer":""}))}}const uo=[80,443],go="websocket";class ho{_addPortToUrl(e,t){const n=e.split(".");return n[n.length-1]=((e,t)=>{const r=e[e.length-1];if(-1!==r.indexOf("/")){const e=r.split("/");return e[0]=e[0]+":"+t,e.join("/")}return n[n.length-1]+":"+t})(n,t),n.join(".")}_getFeatureReader(e){const{MapService:t}=r.z.inject("MapService"),n=t.getSrid(),i=gi(e.sourceType);return e.sourceType===nt.Vz.EWKT?e=>{const t=li(e);return i.readFeatures(t.wkt).filter((e=>!!e.getGeometry())).map((e=>(e.getGeometry().transform("EPSG:"+t.srid,"EPSG:"+n),e)))}:e=>i.readFeatures(e).filter((e=>!!e.getGeometry())).map((e=>(e.getGeometry().transform("EPSG:4326","EPSG:"+n),e)))}_processMessage(e,t,n){const r=t.getSource();r.clear();const i=n(e);r.addFeatures(i)}_centerViewOptionally(e,t,n){const r=e.getSource(),i=t.getView().calculateExtent(),o=r.getExtent(),a=n?gr.BY:e=>(0,gr.Uj)((0,be.q1)(e));(0,be.ms)(i,o)||a(o)}_startWebSocket(e,t,n,i){const{VectorLayerService:o}=r.z.inject("VectorLayerService"),a=this._getFeatureReader(e),s=new WebSocket(i?this._addPortToUrl(e.url,i):e.url);t.set(go,s);let c=!0;s.onmessage=r=>{const{data:i}=r;"keep-alive"!==i&&(this._processMessage(i,t,a),o.sanitizeStyles(t),e.isClustered()?o.applyClusterStyle(t):o.applyStyles(t,n),this._centerViewOptionally(t,n,c),c=!1)};const l=r=>{s.onmessage=void 0,t.unset(go),this._startWebSocket(e,t,n,r)};s.onclose=t=>{1006===t.code&&this._cascadingPorts(i,l,e.id)}}_closeWebSocket(e){const t=e.get(go);e.getSource().clear(),t.close(),e.unset(go)}_cascadingPorts(e,t,n){var r,i;(i=e??80,(r=uo)&&r.indexOf(i)<r.length-1?()=>{t(((e,t=80)=>{const n=e[e.indexOf(t)+1];return 80===n?void 0:n})(uo,e))}:()=>{throw new at.o("Realtime-data cannot be displayed for technical reasons.",n)})()}createLayer(e,t,n){const{StoreService:i}=r.z.inject("StoreService"),{minZoom:o,maxZoom:a,opacity:s}=t,c=new kt.A({id:e,geoResourceId:t.id,opacity:s,minZoom:o??void 0,maxZoom:a??void 0}),l=(e,t)=>e.find((e=>e.id===t)),d=(0,O.lB)(i.getStore(),(e=>e.layers.active),(r=>{const i=l(r,e),o=e=>e.visible&&!c.get(go)?()=>this._startWebSocket(t,c,n):!e.visible&&c.get(go)?()=>this._closeWebSocket(c):()=>{},a=()=>{this._closeWebSocket(c),d()},s=(e=>e?o(e):a)(i);s()})),u=new zt.A;c.setSource(u);const g=l(i.getStore().getState().layers.active,e);return g?.visible&&this._startWebSocket(t,c,n),c}}const po=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),i=n.getValueAsPath("BACKEND_URL")+"administration/info",o=await t.get(`${i}/${e[0]}/${e[1]}`);switch(o.status){case 200:{const{gemeinde:e,gemarkung:t}=await o.json();return{community:e,district:t}}case 404:return null;default:throw new Error(`Administration could not be retrieved: Http-Status ${o.status}`)}};class mo{constructor(e,t,n,r=null,i=null,o=[],a=[],s={hue:null,icon:null}){this._id=e,this._label=t,this._description=n,this._defaultBaseGeoR=i,this._baseGeoRs=r,this._activatedGeoRs=o,this._selectedGeoRs=a,this._style={hue:null,icon:null,...s}}get id(){return this._id}get label(){return this._label}get description(){return this._description}get defaultBaseGeoR(){return this._defaultBaseGeoR}get baseGeoRs(){return this._baseGeoRs?{...this._baseGeoRs}:null}get selectedGeoRs(){return[...this._selectedGeoRs]}get activatedGeoRs(){return[...this._activatedGeoRs]}get style(){return this._style}}const _o=async()=>{const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService"),n=t.getValueAsPath("BACKEND_URL")+"topics",i=await e.get(`${n}`);if(i.ok){const e=[];return(await i.json()).forEach((t=>{let n=null;n=new mo(t.id,t.label,t.description,t.baseGeoRs,t.defaultBaseGeoR,t.activatedGeoRs,t.selectedGeoRs,t.style),n.id&&n.label&&n.description?e.push(n):console.warn("Could not create topic")})),e}throw new Error("Topics could not be retrieved")},vo=["fallback0","fallback1"],yo=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),i=`${n.getValueAsPath("BACKEND_URL")}catalog/${e}`,o=await t.get(i);if(o.ok)return await o.json();throw new Error(`Catalog for '${e}' could not be loaded`)};class So{constructor(e=yo){this._provider=e,this._cache=new Map}async byId(e){try{if(!this._cache.has(e)){const t=await this._provider(e);this._cache.set(e,t)}return this._cache.get(e)}catch(t){if(vo.includes(e))return this._newFallbackCatalog();throw new Error("Could not load catalog from provider",{cause:t})}}_newFallbackCatalog(){return[{label:"Subtopic 1",children:[{geoResourceId:"tpo"},{geoResourceId:dt},{label:"Suptopic 2",children:[{geoResourceId:ut}]}]},{geoResourceId:gt}]}}class bo extends Hn.h{constructor(){super();const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e}_addLayersFromQueryParams(e){const{GeoResourceService:t}=r.z.inject("GeoResourceService"),n=((e,n,r)=>{const i=e.split(","),o=n?n.split(","):[],a=r?r.split(","):[],s=[];return i.map(((e,n)=>{if(e){const i=t.byId(e)??t.asyncById(e),c=`${e}_${r=e,s.push(r),s.filter((e=>e===r)).length-1}`;if(i){const e={id:c,geoResourceId:i.id};return"false"===o[n]&&(e.visible=!1),isFinite(a[n])&&a[n]>=0&&a[n]<=1&&(e.opacity=parseFloat(a[n])),e}}var r})).filter((e=>!!e))})(e.get(Le.h.LAYER),e.get(Le.h.LAYER_VISIBILITY),e.get(Le.h.LAYER_OPACITY)),i=parseInt(e.get(Le.h.ZOOM_TO_EXTENT)),o=(0,Ie.Et)(i)?i:-1;(0,lt.m6)(n,!0),n.forEach(((e,t)=>{t===o&&setTimeout((()=>{(0,gr.bx)(e.id)}))}))}_addLayersFromConfig(){const{GeoResourceService:e,TopicsService:t,StoreService:n}=r.z.inject("GeoResourceService","TopicsService","StoreService"),i=(()=>{const{topics:{current:e}}=n.getStore().getState(),{defaultBaseGeoR:r}=t.byId(e)||t.default();return this._replaceForRetinaDisplays(r)})(),o=e.all(),a=o.filter((e=>e.id===i));0===a.length&&a.push(o[0]),(0,lt.VE)(a[0].id)}async _init(e){const{GeoResourceService:t,EnvironmentService:n}=r.z.inject("GeoResourceService","EnvironmentService"),i=n.getQueryParams();await t.init(),(0,lt.ux)(),i.has(Le.h.LAYER)?this._addLayersFromQueryParams(i):this._addLayersFromConfig(),n.isEmbeddedAsWC()&&(0,O.lB)(e,(e=>e.wcAttribute.changed),(()=>{this._addLayersFromQueryParams(n.getQueryParams())}))}_replaceForRetinaDisplays(e){const{EnvironmentService:t,TopicsService:n,StoreService:i}=r.z.inject("EnvironmentService","TopicsService","StoreService");if(t.isRetinaDisplay()){const{topics:{current:t}}=i.getStore().getState(),r=n.byId(t)?.baseGeoRs??n.default()?.baseGeoRs,{raster:o,vector:a}=r;if(Array.isArray(o)&&Array.isArray(a)&&0===o.indexOf(e))return a[0]}return e}async register(e){return await this._init(e)}}class fo extends Hn.h{_setPositionFromQueryParams(e){const{CoordinateService:t,MapService:n}=r.z.inject("CoordinateService","MapService"),i=(e=>{if(e){const r=e.split(",");if(2===r.length&&isFinite(r[0])&&isFinite(r[1])){const e=r.map((e=>parseFloat(e)));return t.transform(e,(e=>Math.abs(e[0])<=180&&Math.abs(e[1])<=90?4326:n.getLocalProjectedSrid())(e),n.getSrid())}}return null})(e.get(Le.h.CENTER)),o=(a=e.get(Le.h.ZOOM))&&isFinite(a)?parseFloat(a):null;var a;const s=(c=e.get(Le.h.ROTATION))&&isFinite(c)?parseFloat(c):null;var c;(0,Ie.Xq)(i)&&(0,Ie.Et)(o)?(0,gr.uj)({zoom:o,center:i,rotation:(0,Ie.Et)(s)?s:0}):(0,Ie.Xq)(i)&&!(0,Ie.Et)(o)?(0,gr.dB)({center:i,rotation:(0,Ie.Et)(s)?s:0}):!(0,Ie.Xq)(i)&&(0,Ie.Et)(o)?(0,gr.F4)({zoom:o,rotation:(0,Ie.Et)(s)?s:0}):this._setPositionFromConfig()}_setPositionFromConfig(){const{MapService:e}=r.z.inject("MapService");setTimeout((()=>{(0,gr.BY)(e.getDefaultMapExtent(),{useVisibleViewport:!1})}))}_init(e){const{EnvironmentService:t}=r.z.inject("EnvironmentService"),n=t.getQueryParams();n.has(Le.h.CENTER)||n.has(Le.h.ZOOM)?this._setPositionFromQueryParams(n):this._setPositionFromConfig(),t.isEmbeddedAsWC()&&(0,O.lB)(e,(e=>e.wcAttribute.changed),(()=>{this._setPositionFromQueryParams(t.getQueryParams())}))}async register(e){this._init(e)}}var wo=n(74975);class Mo extends Hn.h{_addTopicFromQueryParams(e){const{TopicsService:t}=r.z.inject("TopicsService"),n=e.get(Le.h.TOPIC);t.byId(n)?(0,wo.i)(n):this._addTopicFromConfig()}_addTopicFromConfig(){const{TopicsService:e}=r.z.inject("TopicsService");(0,wo.i)(e.default().id)}async _init(){const{TopicsService:e,EnvironmentService:t}=r.z.inject("TopicsService","EnvironmentService"),n=t.getQueryParams();await e.init(),(0,wo.u)(),n.has(Le.h.TOPIC)?this._addTopicFromQueryParams(n):this._addTopicFromConfig()}async register(){return await this._init()}}class Io extends Hn.h{_updateStore(e,t,n){var i;i=[...new Set([...t,...n.topicsContentPanel.index?e.filter((e=>e.observer?.topics.includes(n.topics.current))):[],...(()=>{const t=n.layers.active.map((e=>e.geoResourceId));return[...e.filter((e=>{const n=e.observer?.geoResources.filter((e=>e.startsWith("!")))??[];return!(!t.length||!n.length)&&0===n.filter((e=>t.includes(e.split("!")[1]))).length})),...e.filter((e=>t.some((t=>e.observer?.geoResources.includes(t)))))]})()])],Array.isArray(i)&&(()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()})().dispatch({type:j,payload:i})}_findPermanentAndQueryParamChips(e){const{EnvironmentService:t}=r.z.inject("EnvironmentService");return[...e.filter((e=>e.permanent)),...(e=>{const n=t.getQueryParams().get(Le.h.CHIP_ID)??[];return e.filter((e=>n===e.id))})(e)]}async register(e){try{const{ChipsConfigurationService:t}=r.z.inject("ChipsConfigurationService"),n=await t.all(),i=this._findPermanentAndQueryParamChips(n);this._updateStore(n,i,e.getState()),(0,O.lB)(e,(e=>e.layers),((e,t)=>this._updateStore(n,i,t))),(0,O.lB)(e,(e=>e.topics),((e,t)=>this._updateStore(n,i,t)))}catch(e){console.error("Chips configuration is not available.",e)}}}const Ao=Object.freeze({LOCATION:Symbol.for("location"),GEORESOURCE:Symbol.for("georesource"),CADASTRAL_PARCEL:Symbol.for("cadastral_parcel")});class To{constructor(e,t=e){if(this.constructor===To)throw new TypeError("Can not construct abstract class.");this.checkDefined(e,"label"),this._label=e,this._labelFormatted=t}checkDefined(e,t){if(!e)throw new TypeError(t+" must not be undefined")}get label(){return this._label}get labelFormatted(){return this._labelFormatted}getType(){throw new TypeError("Please implement abstract method #getType or do not call super.getType from child.")}}class Eo extends To{constructor(e,t,n=null,r=null){super(e,t),this._center=n,this._extent=r}get center(){return this._center}get extent(){return this._extent}getType(){return Ao.LOCATION}}class Lo extends To{constructor(e,t,n=null,r=null){super(e,t),this._center=n,this._extent=r}get center(){return this._center}get extent(){return this._extent}getType(){return Ao.CADASTRAL_PARCEL}}class Do extends To{constructor(e,t,n){super(t,n),this._geoResourceId=e}get geoResourceId(){return this._geoResourceId}getType(){return Ao.GEORESOURCE}}const xo=e=>e.replace(/(<([^>]+)>)/gi,""),Co=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),i=n.getValueAsPath("BACKEND_URL")+"search/type/layers/searchText",o=await t.get(`${i}/${encodeURIComponent(e.replace(/\//g," "))}`);if(o.ok)return(await o.json()).map((e=>new Do(e.id,xo(e.attrs.label),e.attrs.label)));throw new Error("SearchResults for georesources could not be retrieved")},No=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),i=n.getValueAsPath("BACKEND_URL")+"search/type/locations/searchText",o=await t.get(`${i}/${encodeURIComponent(e.replace(/\//g," "))}`);if(o.ok)return(await o.json()).map((e=>new Eo(xo(e.attrs.label),e.attrs.label,e.attrs.coordinate,e.attrs.extent??null)));throw new Error("SearchResults for locations could not be retrieved")},zo=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),i=n.getValueAsPath("BACKEND_URL")+"search/type/cp/searchText",o=await t.get(`${i}/${encodeURIComponent(e.replace(/\//g," "))}`);if(o.ok)return(await o.json()).map((e=>new Lo(xo(e.attrs.label),e.attrs.label,e.attrs.coordinate,e.attrs.extent??null)));throw new Error("SearchResults for cadastrial parcels could not be retrieved")};var ko=n(96057);class jo extends Hn.h{async register(){const{EnvironmentService:e}=r.z.inject("EnvironmentService"),t=e.getWindow(),n=t.matchMedia(p.rf),i=e=>{(0,ko.sL)(e.matches)};n.addEventListener("change",i),i(n);const o=t.matchMedia(p.SO),a=e=>{(0,ko.ZD)(e.matches)};o.addEventListener("change",a),a(o),t.matchMedia(p.KC).addEventListener("change",(e=>{(0,ko.qi)(e.matches)})),a(o)}}class Ro extends Hn.h{async register(e){let t=!1;const n=`${(0,me.Ds)()}`,{EnvironmentService:i}=r.z.inject("EnvironmentService"),o=()=>{i.isTouch()?((0,Xn.kf)(n),t&&(0,Vn.D)()):(0,qn.Z_)()};(0,O.lB)(e,(e=>e.pointer.contextClick),(({payload:e})=>{const{coordinate:r,screenCoordinate:o}=e,a=Ne.qy`<ba-map-context-menu-content .coordinate=${r}></ba-map-context-menu-content>`;i.isTouch()?((0,Xn.kf)(n),(0,Xn.lX)({id:n,data:{coordinate:r},type:Xn.pN.QUERY_SUCCESS}),(0,Vn.j)(a),t=!0):(0,qn.jA)([o[0],o[1]],a)})),(0,O.lB)(e,(e=>e.pointer.click),o),(0,O.lB)(e,(e=>e.map.moveStart),o),(0,O.lB)(e,(e=>e.bottomSheet.active),(e=>{e||(t=!1)})),(0,O.lB)(e,(e=>e.tools.current),(()=>(0,Xn.kf)(n)))}}class Po extends Hn.h{constructor(){super();const{FeatureInfoService:e,MapService:t,TranslationService:n,GeoResourceService:i}=r.z.inject("FeatureInfoService","MapService","TranslationService","GeoResourceService");this._featureInfoService=e,this._mapService=t,this._translationService=n,this._geoResourceService=i}async register(e){(0,O.lB)(e,(e=>e.pointer.click),(async(e,t)=>{if(!t.featureInfo.querying){const{payload:{coordinate:n}}=e;(0,Ui.E7)(n);const r=this._mapService.calcResolution(t.position.zoom,n),i=e=>e.visible&&!e.constraints.hidden;[...t.layers.active].filter(i).forEach((async e=>{const t=this._geoResourceService.byId(e.geoResourceId),i=(0,me.Ds)();try{(0,Ui.Mr)(i);const o=await this._featureInfoService.get(e.geoResourceId,n,r);if(o){const e=o.title||t.label;(0,Ui.mj)({title:e,content:o.content})}}catch(e){console.error(e),(0,Re.L)(`${t.label}: ${this._translationService.translate("global_featureInfoService_exception")}`,Re.A.ERROR)}finally{(0,Ui.zN)(i)}}))}})),(0,O.lB)(e,(e=>e.tools.current),(e=>{e&&(0,Ui.pT)()}))}}class Oo extends Hn.h{constructor(){super(),this._previousTab=null,this._open=null}_init(){const{EnvironmentService:e}=r.z.inject("EnvironmentService"),t=e.getQueryParams(),n=er.K.valueOf(parseInt(t.get(Le.h.MENU_ID),10));n?(0,Jn.sI)(n):(0,Jn.sI)(er.K.MAPS)}async register(e){this._init(),this._open=e.getState().mainMenu.open,this._previousTab=e.getState().mainMenu.tab,(0,O.lB)(e,(e=>e.featureInfo.querying),(e=>{e||((0,Jn.sI)(er.K.FEATUREINFO),(0,Jn.ho)())})),(0,O.lB)(e,(e=>e.featureInfo.aborted),((e,t)=>{t.mainMenu.tab===er.K.FEATUREINFO&&(this._open||(0,Jn.VN)(),(0,Jn.sI)(this._previousTab))})),(0,O.lB)(e,(e=>e.search.query),(({payload:e})=>{e&&((0,Jn.sI)(er.K.SEARCH),(0,Jn.ho)())}),!1),(0,O.lB)(e,(e=>e.mainMenu.tab),((e,t)=>{e===er.K.FEATUREINFO||e===er.K.ROUTING?this._open=t.mainMenu.open:this._previousTab=e}),!1),(0,O.lB)(e,(e=>e.tools.current),((e,t)=>{e!==Wn.S.ROUTING&&t.mainMenu.tab===er.K.ROUTING&&((0,Jn.sI)(this._previousTab),t.media.portrait&&(0,Jn.VN)()),e===Wn.S.ROUTING&&((0,Jn.sI)(er.K.ROUTING),(0,Jn.ho)())}),!1),(0,O.lB)(e,(e=>e.media.portrait),((e,t)=>{e||t.mainMenu.tab!==er.K.ROUTING&&t.mainMenu.tab!==er.K.FEATUREINFO||(0,Jn.ho)()}),!1)}}var Go=n(78659);class Uo extends Hn.h{async register(e){(0,O.lB)(e,(e=>e.mainMenu.tab),(t=>{t!==er.K.FEATUREINFO&&t!==er.K.ROUTING||e.getState().media.portrait||((0,Go.sm)(t),(0,Go.ho)())}),!1)}}const Fo=async(e,t,n)=>{const{HttpService:i,ConfigService:o,GeoResourceService:a,BaaCredentialService:s}=r.z.inject("HttpService","ConfigService","GeoResourceService","BaaCredentialService"),c=a.byId(e),l=t=>{throw new Error(`FeatureInfoResult for '${e}' could not be loaded: ${t}`)};if(c){const r=e=>e.authenticationType===nt.Mg.BAA?s.get(e.url)??l("No credentials available"):{},d={urlOrId:c.id,easting:t[0],northing:t[1],srid:3857,resolution:n,...r(c)},u=o.getValueAsPath("BACKEND_URL")+`getFeature/${(0,Ie.q$)(e)?"url":e}`,g=await i.post(u,JSON.stringify(d),ze.z.JSON,{timeout:1e4},{response:c.authenticationType===nt.Mg.BAA||(0,Ie.q$)(e)?[]:[a.getAuthResponseInterceptorForGeoResource(e)]});switch(g.status){case 200:{const{title:e,content:t}=await g.json();return new $o(t,e)}case 204:return null}l(`Http-Status ${g.status}`)}l(`No GeoResource found with id "${e}"`)};class $o{constructor(e,t=null){this._content=e,this._title=t}get content(){return this._content}get title(){return this._title}}var Yo=n(60034);const Bo=(e,t,n)=>Ne.qy`<ba-auth-password-credential-panel
		.url=${e}
		.authenticate=${t}
		.onClose=${n}
	></ba-auth-password-credential-panel>`,Ho=async(e,t=Bo)=>{const{HttpService:n,ConfigService:i,BaaCredentialService:o,ProjectionService:a}=r.z.inject("HttpService","ConfigService","BaaCredentialService","ProjectionService"),s=i.getValueAsPath("BACKEND_URL")+"sourceType",c=async(e,t=null)=>{const r={url:e,username:t?.username,password:t?.password};return await n.post(s,JSON.stringify(r),ze.z.JSON,{timeout:3e3})},l=async(e,t)=>{switch(e.status){case 200:{const{name:n,version:r,srid:i}=await e.json(),o=e=>{switch(e){case"KML":return hr.bu.KML;case"GPX":return hr.bu.GPX;case"GeoJSON":return hr.bu.GEOJSON;case"WMS":return hr.bu.WMS;case"EWKT":return hr.bu.EWKT}},s=o(n);return s?i&&!a.getProjections().includes(i)?new hr.t8(hr.$I.UNSUPPORTED_SRID):new hr.t8(t?hr.$I.BAA_AUTHENTICATED:hr.$I.OK,new hr.Y1(s,r,i)):new hr.t8(hr.$I.UNSUPPORTED_TYPE)}case 204:return new hr.t8(hr.$I.UNSUPPORTED_TYPE);case 401:return new hr.t8(hr.$I.RESTRICTED)}return new hr.t8(hr.$I.OTHER)},d=o.get(e),u=await c(e,d);return 401===u.status?new Promise((n=>{const{StoreService:i,TranslationService:a}=r.z.inject("StoreService","TranslationService"),s=(0,O.lB)(i.getStore(),(e=>e.modal),(e=>(({active:e})=>{e||d(null)})(e))),d=async(t,r)=>{s(),(0,Ce.Oo)(),t&&r?(o.addOrReplace(e,t),n(await l(r,!0))):n(await l(u))};(0,Ce.qf)(("global_import_authenticationModal_title",a.translate("global_import_authenticationModal_title")),t(e,(async(e,t)=>{const n=await c(t,e);return 401!==n.status&&n}),d))})):await l(u,!!d)},Zo=e=>{const{ProjectionService:t}=r.z.inject("ProjectionService");if(new Blob([e]).size>=hr.FQ)return new hr.t8(hr.$I.MAX_SIZE_EXCEEDED);if(e.includes("<kml")&&e.includes("</kml>"))return new hr.t8(hr.$I.OK,new hr.Y1(hr.bu.KML,null,4326));if(e.includes("<gpx")&&e.includes("</gpx>"))return new hr.t8(hr.$I.OK,new hr.Y1(hr.bu.GPX,null,4326));const n=li(e);if(n)return t.getProjections().includes(n.srid)?new hr.t8(hr.$I.OK,new hr.Y1(hr.bu.EWKT,null,n.srid)):new hr.t8(hr.$I.UNSUPPORTED_SRID);try{const t=["FeatureCollection","Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],{type:n}=JSON.parse(e);if(t.includes(n))return new hr.t8(hr.$I.OK,new hr.Y1(hr.bu.GEOJSON,null,4326))}catch{}return new hr.t8(hr.$I.UNSUPPORTED_TYPE)},Wo=e=>{switch(e){case ze.z.KML:return new hr.t8(hr.$I.OK,new hr.Y1(hr.bu.KML));case ze.z.GPX:return new hr.t8(hr.$I.OK,new hr.Y1(hr.bu.GPX));case ze.z.GeoJSON:return new hr.t8(hr.$I.OK,new hr.Y1(hr.bu.GEOJSON))}return new hr.t8(hr.$I.UNSUPPORTED_TYPE)};class Vo extends Hn.h{constructor(){super();const{ImportVectorDataService:e,TranslationService:t}=r.z.inject("ImportVectorDataService","TranslationService");this._importVectorDataService=e,this._translationService=t}async register(e){(0,O.lB)(e,(e=>e.import.latest),(async e=>{const{payload:{url:t,data:n,sourceType:r}}=e,i=t?await this._importByUrl(t,r):this._importByData(n,r);if(i){const{id:e}=i;(0,Jn.sI)(er.K.MAPS),setTimeout((()=>{(0,lt.VE)(e),(0,gr.bx)(e)}),500)}}))}async _importByUrl(e,t){const n=((e,t)=>{if(t)switch(t.name){case hr.bu.KML:case hr.bu.GPX:case hr.bu.GEOJSON:return this._importVectorDataService.forUrl(e,{sourceType:t})}return(0,Re.L)(`${this._translationService.translate("global_import_unsupported_sourceType")}`,Re.A.WARN),null})(e,t);return n?(n.onReject((()=>{(0,Re.L)(this._translationService.translate("global_import_url_failed"),Re.A.ERROR)})),n):null}_importByData(e,t){return this._importVectorDataService.forData(e,{sourceType:t})||((0,Re.L)(this._translationService.translate("global_import_data_failed"),Re.A.ERROR),null)}}var Qo=n(42838),Xo=n.n(Qo);const Ko=["form","fieldset","input","datalist","button","select","option","optgroup","textarea","output","keygen","script","noscript","dialog"];Xo().addHook("afterSanitizeAttributes",(e=>{"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))}));const qo=e=>Xo().sanitize(e,{USE_PROFILES:{html:!0,svg:!0},FORBID_TAGS:Ko,FORBID_ATTR:["style"]}),Jo=["image/webp","image/png","image/gif","image/jpeg","image/svg+xml"],ea=async(e,t)=>{const{isAuthenticated:n}=t,{HttpService:i,ConfigService:o,MapService:a}=r.z.inject("HttpService","ConfigService","MapService"),s=o.getValueAsPath("BACKEND_URL")+"wms/getCapabilities",c=n?{url:e,...(e=>{const{BaaCredentialService:t}=r.z.inject("BaaCredentialService"),n=t.get(e);return n?{username:n.username,password:n.password}:(()=>{throw new Error(`Import of WMS failed. Credential for '${e}' not found.`)})()})(e)}:{url:e},l=await i.post(s,JSON.stringify(c),ze.z.JSON,{timeout:3e3});switch(l.status){case 200:return d=await l.json(),d.layers?.filter((e=>{return t=e,n=a.getSrid(),t.referenceSystems.some((e=>e.code===n));var t,n})).filter((e=>!t.layers.length||t.layers.includes(e.name))).map(((n,r)=>((n,r,i)=>{const o=(e=>{const t=[...Array.isArray(e)?e:[]].filter((e=>Jo.includes(e))).sort(((e,t)=>Jo.indexOf(e)-Jo.indexOf(t)));return t.length<1&&console.warn(`No supported media type found. Valid media types are: ${Jo}`),t})(r.formatsGetMap);return o.length>0?new nt.He(t.ids[i]??`${e}||${n.name}||${n.title}`,n.title,`${r.onlineResourceGetMap}`,`${n.name}`,o[0]).setAuthenticationType((s=t.isAuthenticated,s?nt.Mg.BAA:null)).setQueryable(n.queryable).setExtraParams((e=>e.maxHeight&&e.maxWidth?{maxHeight:e.maxHeight,maxWidth:e.maxWidth}:{})(r)).setExportable(n.referenceSystems.map((e=>e.code)).includes(a.getLocalProjectedSrid())):null;var s})(n,d,r))).filter((e=>!!e))??[];case 404:return[];default:throw new Error(`GeoResource for '${e}' could not be loaded: Http-Status ${l.status}`)}var d};var ta=n(20083);class na extends Hn.h{async register(){const{EnvironmentService:e,SecurityService:t}=r.z.inject("EnvironmentService","SecurityService"),n=e.getQueryParams().get(Le.h.QUERY);n&&(0,ta.N)(t.sanitizeHtml(n))}}class ra extends Hn.h{#n;#s;constructor(){super();const{EnvironmentService:e,ShareService:t}=r.z.inject("EnvironmentService","ShareService");this.#n=e,this.#s=t}async register(e){if(this.#n.isEmbedded()){if(this.#n.isEmbeddedAsWC()){const t=()=>{this._updateWcAttributes()};(0,O.lB)(e,(e=>e.stateForEncoding.changed),t)}}else{const t=()=>{this._updateHistory()};(0,O.lB)(e,(e=>e.stateForEncoding.changed),t)}}_updateHistory(){const e=this.#s.encodeState();this.#n.getWindow().history.replaceState(null,"",e)}_updateWcAttributes(){const e=this.#s.getParameters({includeHiddenGeoResources:!0}),t=[...e.keys()];this.#n.getWindow().document.querySelector(De.P.tag).getAttributeNames().filter((e=>Object.values(Le.h).includes(e))).forEach((e=>{t.includes(e)||this.#n.getWindow().document.querySelector(De.P.tag).removeAttribute(e)}));for(const[t,n]of e.entries())(0,O.aI)(this.#n.getWindow().document.querySelector(De.P.tag).getAttribute(t),n)||this.#n.getWindow().document.querySelector(De.P.tag).setAttribute(t,n)}}const ia=async()=>{const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService"),n=t.getValueAsPath("BACKEND_URL")+"print/info",i=await e.get(n);if(200===i.status)return await i.json();throw new Error(`MfpCapabilties could not be loaded: Http-Status ${i.status}`)},oa=async(e,t,n)=>{const{HttpService:i,ConfigService:o}=r.z.inject("HttpService","ConfigService"),a=`${o.getValueAsPath("BACKEND_URL")}print/create/${t}`;try{const t=await i.fetch(a,{method:"POST",mode:We.DEFAULT_REQUEST_MODE,body:JSON.stringify(e),headers:{"Content-Type":ze.z.JSON},timeout:4e4},n);if(200===t.status)return await t.json();throw new Error(`Mfp spec could not be posted: Http-Status ${t.status}`)}catch(e){if(e instanceof DOMException)return null;throw e}},aa=async()=>{const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService"),n=t.getValueAsPath("BACKEND_URL")+"chips",i=await e.get(n);if(200===i.status)return await i.json();throw new Error(`Chips configuration could not be fetched: Http-Status ${i.status}`)};var sa=n(28110),ca=n(84078);const la=()=>(sa.A.defs("EPSG:25832","+proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +axis=neu"),sa.A.defs("EPSG:25833","+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +axis=neu"),(0,ca.kz)(sa.A),[25832,25833]);class da extends Hn.h{constructor(){super(),this._bottomSheetUnsubscribeFn=null}async register(e){const t=e=>{e||(0,oo.Er)()};(0,O.lB)(e,(e=>e.elevationProfile.active),(n=>{if(this._bottomSheetUnsubscribeFn?.(),n){this._bottomSheetUnsubscribeFn=(0,O.lB)(e,(e=>e.bottomSheet.active),t);const n=Ne.qy`<ba-elevation-profile></ba-elevation-profile>`,r="elevation-profile";(0,Vn.j)(Ne.qy`<ba-lazy-load .chunkName=${r} .content=${n}></ba-lazy-load>`)}else(0,Vn.D)()}),!1),(0,O.lB)(e,(e=>e.draw.active),t),(0,O.lB)(e,(e=>e.measurement.active),t),(0,O.lB)(e,(e=>e.featureInfo.current),(()=>{(0,oo.KZ)(null)}))}}const ua=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),i=n.getValueAsPath("BACKEND_URL")+"dem/elevation",o=await t.get(`${i}/${e[0]}/${e[1]}`);if(200===o.status)return(await o.json()).z;throw new Error(`Elevation could not be retrieved: Http-Status ${o.status}`)},ga=async e=>{const{HttpService:t,ConfigService:n,CoordinateService:i,MapService:o}=r.z.inject("HttpService","ConfigService","CoordinateService","MapService"),a=i.toCoordinate(e),s=o.calcLength(a),c=i.simplify(a,Te.ELEVATION_PROFILE),l=n.getValueAsPath("BACKEND_URL")+"dem/profile",d={coords:c.map((e=>({e:e[0],n:e[1]})))},u=await t.post(l,JSON.stringify(d),ze.z.JSON,{timeout:5e3});if(200===u.status)return((e,t)=>{const{stats:n,...r}=e;return{...r,stats:{...n,linearDistance:t}}})(await u.json(),s);throw new Error(`Profile could not be fetched: Http-Status ${u.status}`)},ha=e=>JSON.parse(JSON.stringify(e));var pa=n(59834);class ma extends Hn.h{constructor(){super();const{EnvironmentService:e,ShareService:t}=r.z.inject("EnvironmentService","ShareService");this._environmentService=e,this._shareService=t}async register(e){if(this._environmentService.isEmbedded()&&this._hasParentSameOrigin()){const t=()=>{this._updateAttribute()};(0,O.lB)(e,(e=>e.stateForEncoding.changed),t)}}_updateAttribute(){const e=this._findIframe();if(e){const t=this._shareService.encodeState({},[pa.g.EMBED]);e.setAttribute(At.oO,t)}}_findIframe(){return(0,At.Ne)(this._getDocument(),`iframe[${At.oO}]`)[0]}_getDocument(){return this._environmentService.getWindow().parent.document}_hasParentSameOrigin(){try{this._getDocument()}catch{return!1}return!0}}class _a extends Hn.h{constructor(){super();const{ShareService:e}=r.z.inject("ShareService");this._shareService=e,this._currentEncodedState=null}async register(e){const t=()=>{this._updateStore()};(0,O.lB)(e,(e=>e.position.zoom),t),(0,O.lB)(e,(e=>e.position.center),t),(0,O.lB)(e,(e=>e.position.rotation),t),(0,O.lB)(e,(e=>e.layers.active),t),(0,O.lB)(e,(e=>e.routing.waypoints),t),(0,O.lB)(e,(e=>e.routing.categoryId),t),(0,O.lB)(e,(e=>e.tools.current),t),setTimeout(t,0)}_updateStore(){const e=this._shareService.encodeState();this._currentEncodedState!==e&&((()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()})().dispatch({type:G,payload:new O.MD(null)}),this._currentEncodedState=e)}}class va extends Hn.h{constructor(){super();const{TranslationService:e,GeoResourceService:t}=r.z.inject("TranslationService","GeoResourceService");this._translationService=e,this._geoResourceService=t}async register(e){const t=()=>{const t=e.getState(),{layers:{active:n}}=t,r=n.filter((e=>!e.constraints.hidden)).map((e=>this._geoResourceService.byId(e.geoResourceId))).filter((e=>e.hidden)).filter((e=>![rr,nr].includes(e.id))).map((e=>e.label));if(r.length){const e=Ne.qy`<div>
					<p style="color: var(--text3);">${this._translationService.translate("global_share_unsupported_geoResource_warning")}</p>
					<ul style="margin-left:2em;">
						${r.map((e=>Ne.qy`<li style="color: var(--text3);">${e}</li>`))}
					</ul>
				</div>`;(0,Re.L)(e,Re.A.WARN)}};(0,O.lB)(e,(e=>e.tools.current),(e=>{e===Wn.S.SHARE&&t()}),!1)}}var ya=n(14075);const Sa=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},ba=()=>{Sa().dispatch({type:$,payload:null})};class fa extends Hn.h{async register(e){(0,O.lB)(e,(e=>e.featureInfo.querying),((e,t)=>{const{featureInfo:{current:n}}=t;var r;e||(0===n.length?ba():(r=Ne.qy`<ba-feature-info-iframe-panel></ba-feature-info-iframe-panel>`,Sa().dispatch({type:$,payload:r})))})),(0,O.lB)(e,(e=>e.featureInfo.aborted),(()=>{ba()}))}}class wa extends Hn.h{async register(e){const{EnvironmentService:t}=r.z.inject("EnvironmentService"),n=t.getQueryParams().get(Le.h.TOOL_ID);(!t.isEmbedded()&&Object.values(Wn.S).includes(n)&&!t.getQueryParams().has(Le.h.ROUTE_WAYPOINTS)||t.isEmbedded()&&Wn.o.includes(n))&&(0,Kn.i)(n),t.isEmbeddedAsWC()&&(0,O.lB)(e,(e=>e.wcAttribute.changed),(()=>{const e=t.getQueryParams().get(Le.h.TOOL_ID)??null;e?Wn.o.includes(e)&&(0,Kn.i)(e):(0,Kn.i)(null)}))}}class Ma extends Hn.h{constructor(){super();const{EnvironmentService:e}=r.z.inject("EnvironmentService");this._environmentService=e}async register(e){if(this._environmentService.isEmbedded()){const t=e=>{const{payload:t}=e;this._updateAttribute(e.payload?(()=>{const{fileSaveResult:{fileId:e}}=t;return e})():null)};(0,O.lB)(e,(e=>e.draw.fileSaveResult),t)}}_updateAttribute(e){this._findIframe()?.setAttribute(At.W,e||"")}_findIframe(){return(0,At.Ne)(this._getDocument(),`iframe[${At.W}]`)[0]}_getDocument(){return this._environmentService.getWindow().parent.document}}class Ia extends Hn.h{async register(e){const{EnvironmentService:t}=r.z.inject("EnvironmentService");if(!t.isEmbedded()){const t=e=>{e.returnValue="string",e.preventDefault()},n=async e=>{this._getTools().includes(e)?window.addEventListener("beforeunload",t):window.removeEventListener("beforeunload",t)};(0,O.lB)(e,(e=>e.tools.current),n,!1)}}_getTools(){return[Wn.S.DRAW,Wn.S.MEASURE,Wn.S.ROUTING]}}const Aa={unknown:["other","track_other","path_other","footway_other"],path:["path_grade3","path_grade4","path_grade5"],track:["track_grade2","track_grade3","track_grade4","track_grade5"],footway:["footway_grade2","footway_grade3","pedestrian","cycleway","path_grade1","path_grade2"],street:["track_grade1","residential","unclassified","tertiary","service"],mainstreet:["secondary","primary","motorway"]},Ta=e=>{for(const t in Aa)if(Aa[t].indexOf(e)>-1)return t;return null},Ea=()=>{const{ConfigService:e}=r.z.inject("ConfigService"),t=e.getValue("DEFAULT_LANG"),n={unknown:{...xa,label:"de"===t?"Unbekannt":"Unknown"},path:{id:1,color:"rgb(139,71,38)",label:"de"===t?"Pfad":"Path"},track:{id:2,color:"rgb(238,213,183)",label:"de"===t?"Wald-, Feldweg":"Track"},footway:{id:3,color:"rgb(205,183,158)",label:"de"===t?"Rad-, Fußweg":"Cycle, footway"},street:{id:4,color:"rgb(190,190,190)",label:"de"===t?"Nebenstraße":"Street"},mainstreet:{id:5,color:"rgb(255,193,7)",label:"de"===t?"Hauptstraße":"Mainstreet"}};return{surface:{unknown:{...Ca,label:"de"===t?"Unbekannt":"Unknown"},ground:{id:100,color:"rgb(139,71,38)",label:"de"===t?"gewachsen, naturbelassen":"ground"},compacted:{id:200,color:"rgb(238,213,183)",label:"de"===t?"befestigt":"compacted"},other:{id:201,color:"rgb(238,213,183)",label:"de"===t?"befestigt":"compacted"},asphalt:{id:300,color:"rgb(190,190,190)",label:"de"===t?"asphaltiert":"asphalt"},paved:{id:400,color:"rgb(195,195,195)",label:"de"===t?"Straßenbelag":"paved"}},road:n}},La=async(e,t)=>{const{HttpService:n,ConfigService:i,CoordinateService:o}=r.z.inject("HttpService","ConfigService","CoordinateService"),a={vehicle:e,points:t.map((e=>o.toLonLat(e)))},s=await n.post(`${i.getValueAsPath("BACKEND_URL")}routing/route`,JSON.stringify(a),ze.z.JSON,{timeout:2e3});switch(s.status){case 200:return await s.json();case 400:throw new Error(`A route could not be retrieved: Http-Status ${s.status}`,{cause:Qn.kD.Improper_Waypoints});case 500:throw new Error(`A route could not be retrieved: Http-Status ${s.status}`,{cause:Qn.kD.Technical_Error});default:throw new Error(`A route could not be retrieved: Http-Status ${s.status}`)}},Da=async()=>{const{ConfigService:e}=r.z.inject("ConfigService"),t=e.getValue("DEFAULT_LANG");return[{id:"bvv-hike",label:"de"===t?"Wandern (Freizeitwege)":"Hiking (BVV Freizeitwege)",description:"de"===t?"möglichst auf offiziellen Wanderwegen":'use "BVV Freizeitwege" tracks where possible',style:{routeColor:"red",routeBorderColor:"white",color:"red",icon:'<path d="M8.182 0c-0.884 0-1.6 0.716-1.6 1.6v0c0 0.884 0.716 1.6 1.6 1.6v0c0.884 0 1.6-0.716 1.6-1.6v0c0-0.884-0.716-1.6-1.6-1.6v0zM6.501 3.514l0.001 0.007-1.36 4.72c-0.16 0.64 0.080 1.279 0.56 1.679l2.080 1.689c0.416 0.338 0.484 0.787 0.484 0.787l0.045 3.604h1.54v-2.936c0-0.683-0.048-1.040-0.173-1.584-0.124-0.543-0.635-1.087-0.635-1.087l-1.453-1.764 0.754-2.67c0.12 0.092 0.21 0.165 0.237 0.195 0.108 0.125 0.653 0.715 1.166 0.994 0.512 0.28 1.166 0.141 1.166 0.141l2.275-0.719c0.232-0.112 0.414-0.35 0.414-0.607 0-0 0-0 0-0 0-0.34-0.272-0.616-0.609-0.623l-0.001-0v-1.34h-0.663v1.457c-0.565 0.125-1.62 0.353-1.79 0.356-0.188 0.002-0.34-0.168-0.515-0.352-0.15-0.158-0.521-0.49-0.697-0.658-0.167-0.16-0.901-0.636-1.112-0.735-0.368-0.172-1.714-0.554-1.714-0.554zM5.563 3.534c-1.15-0.086-2.3 0.607-2.678 1.741l-0.431 1.44c-0.216 0.648 0.215 1.368 0.863 1.584 0.72 0.216 1.368-0.146 1.584-0.865l1.152-3.815c-0.143-0.042-0.31-0.072-0.481-0.085l-0.009-0.001zM12.993 7.174l-0.655 0.191-0.010 8.635h0.665v-8.826zM5.499 10.384l-2.038 5.616h1.68l1.615-4.531-1.257-1.084z"></path>'},subcategories:[{id:"hike",label:"de"===t?"Wandern (schnellste Route)":"Hiking (fastest route)",description:"de"===t?"schnellste Route":"fastest route",style:{routeColor:"red",routeBorderColor:"white"},subcategories:[]}]},{id:"bvv-bike",label:"de"===t?"Fahrrad (Freizeitwege)":"Bicycle (BVV Freizeitwege)",description:"de"===t?"möglichst auf offiziellen Freizeitwegen":'use "BVV Freizeitwege" tracks where possible',style:{routeColor:"green",routeBorderColor:"white",routeZindex:2,color:"green",icon:'<path d="M14.243 7.395a.783.783 0 00-.784-.783h-.002V6.61h-2.045s-.215.012-.473-.315C8.97 3.851 8.653 3.378 8.022 3.378h-.394c-.63 0-1.104.473-3.39 2.76-.867.867-.788 1.97.079 2.522l2.403 1.414-.012 3.41-.002.05v.093h.004a.836.836 0 00.831.742c.43 0 .784-.325.83-.742h.001v-.003a.888.888 0 00.005-.09.845.845 0 00-.005-.09v-3.6c0-.556-.448-.934-.513-1.012-.034-.042-.459-.47-.839-.852l1.71-1.527 1.183 1.261c.271.304.631.473 1.025.473h2.553a.792.792 0 00.75-.793zm-2.335-6.361a1.64 1.64 0 00-.244-.37 2.228 2.228 0 00-.52-.44c-.213-.12-.415-.215-.89-.223-.465-.008-.62.059-.82.112-.43.114-1.06.438-1.14.547-.082.109-.06.172.061.275.042.037.107.077.174.114a1.57 1.57 0 00-.19.752 1.577 1.577 0 103.082-.468c.15-.017.388-.051.454-.11.074-.066.076-.088.033-.189zm1.066 8.68l.14.877a2.31 2.31 0 11-1.165.044l.32 2.07a.342.342 0 00.345.335.341.341 0 00.337-.41l-.663-4.133h-.67l.201 1.299a3.166 3.166 0 00-2.358 3.05A3.163 3.163 0 0012.614 16a3.163 3.163 0 003.154-3.153 3.164 3.164 0 00-2.794-3.133zM10.189 8.31L8.632 9.55c.025.091.041.189.041.292v.55l2.348-1.894h-.148a1.323 1.323 0 01-.684-.19zm-5.273 1.926l.355-.687-.572-.336-1.857 3.544a.33.33 0 00-.03.066c-.06.176.039.369.22.43.18.06.373-.033.433-.208l1.062-2.055a2.31 2.31 0 11-1.056-.431l.409-.781a3.134 3.134 0 00-.727-.085A3.163 3.163 0 000 12.846 3.163 3.163 0 003.153 16a3.163 3.163 0 003.154-3.154 3.156 3.156 0 00-1.39-2.61z"/>'},subcategories:[{id:"bike",label:"de"===t?"Fahrrad (schnellste Route)":"Bicycle (fastest route)",description:"de"===t?"schnellste Route":"fastest route",style:{routeColor:"green",routeBorderColor:"white",routeZindex:1,color:"green"},subcategories:[]},{id:"bayernnetz-bike",label:"de"===t?"Fahrrad (Bayernnetz)":"Bicycle (Bayernnetz)",description:"de"===t?"möglichst auf Bayernnetz":'use "Bayernnetz" tracks where possible',style:{routeColor:"blue",routeBorderColor:"white",routeZindex:0,color:"blue"},subcategories:[]}]},{id:"bvv-mtb",label:"de"===t?"Mountainbike (Freizeitwege)":"Mountain bike (Freizeitwege)",description:"de"===t?"möglichst auf offiziellen Freizeitwegen":'use "BVV Freizeitwege" tracks where possible',style:{routeColor:"SpringGreen",routeBorderColor:"white",color:"SpringGreen",icon:'<path d="M8.687 0c-.254.006-.383.047-.538.08-.442.09-1.096.381-1.184.485-.088.104-.068.168.048.278.097.09.312.205.386.244-.127.225-.2.485-.2.76 0 .87.717 1.573 1.601 1.573s1.6-.704 1.6-1.572c0-.165-.025-.324-.073-.473.103-.014.2-.034.24-.066.077-.062.08-.083.043-.186a1.626 1.626 0 00-.229-.38 2.248 2.248 0 00-.503-.465c-.21-.131-.41-.236-.89-.269A3.572 3.572 0 008.686 0zM3.524 2.053a2.267 2.267 0 00-1.714.81L.764 4.117c-.402.549-.406 1.335.152 1.73.558.475 1.279.399 1.761-.15L5.09 2.72l-.159-.158a2.184 2.184 0 00-1.407-.51zm2.674.566a.917.917 0 00-.758.409c-.8.865-2 2.28-2.64 3.066-.72.865-.4 2.202.72 2.516l1.722.489 1.701.482 1.07 3.072a.67.67 0 00.664.52c.375 0 .678-.29.678-.647a.633.633 0 00-.02-.156l-.004-.01a.628.628 0 00-.024-.07L8 8.456 5.36 7.16l1.818-2.184 1.52 1.122 2.981.264a.677.646 0 00.01 0l.018.002a.677.646 0 00.045.002.677.646 0 00.677-.647.677.646 0 00-.585-.64v-.006l-2.268-.216L6.879 2.87a1.062 1.062 0 00-.681-.252zm3.441 3.938L8.396 8.335a.37.37 0 00-.035.046l.28.814 1.755-2.557zm.863.093l.583 1.196A3.138 3.138 0 009.6 10.497c0 1.73 1.44 3.144 3.2 3.144 1.76 0 3.2-1.415 3.2-3.144 0-1.73-1.44-3.146-3.2-3.146a3.232 3.232 0 00-.741.086l.575 1.18a1.878 1.878 0 01.166-.008c1.04 0 1.92.865 1.92 1.888 0 1.022-.88 1.886-1.92 1.886s-1.92-.864-1.92-1.886c0-.602.305-1.149.768-1.497l.806 1.652a.348.348 0 00.433.22.34.34 0 00.237-.42.328.329 0 00-.029-.068l-1.802-3.65zM4.758 9.337l-1.77 3.322a.323.323 0 00-.031.065.34.34 0 00.223.429.348.348 0 00.44-.207l.804-1.53c.422.35.696.87.696 1.44 0 1.021-.88 1.886-1.92 1.886s-1.92-.865-1.92-1.887.88-1.887 1.92-1.887c.09 0 .18.007.267.02l.613-1.156a3.227 3.227 0 00-.88-.122c-1.76 0-3.2 1.415-3.2 3.145S1.44 16 3.2 16c1.76 0 3.2-1.415 3.2-3.145 0-1.065-.546-2.01-1.376-2.58l.394-.75z"/>'},subcategories:[{id:"mtb",label:"de"===t?"Mountainbike":"Mountain bike",description:"de"===t?"schnellste Route":"fastest route",style:{routeColor:"SpringGreen",routeBorderColor:"white"},subcategories:[]}]},{id:"racingbike",label:"de"===t?"Rennrad":"Racing bike",description:"de"===t?"schnellste Route":"fastest route",style:{routeColor:"fuchsia",routeBorderColor:"white",color:"fuchsia",icon:'<path d="M11.938.712c-.262.005-.395.048-.554.08-.456.094-1.13.39-1.221.495-.09.106-.054.286.066.397.08.074.248.182.353.248a1.6 1.6 0 00-.102.557 1.6 1.6 0 001.6 1.6 1.6 1.6 0 001.599-1.6 1.6 1.6 0 00-.048-.379c.106-.014.204-.035.245-.066.08-.063.084-.085.045-.19a1.654 1.654 0 00-.236-.387 2.303 2.303 0 00-.52-.472c-.216-.134-.422-.24-.917-.274a3.705 3.705 0 00-.31-.009zM8.78 2.336c-.64 0-1.774.521-4.567 2.35-.88.88-.8 2 .08 2.56l.463.272.934.55 1.082.636v3.537h.002a.772.772 0 101.543.057.773.773 0 00-.003-.065v-3.7a1.427 1.427 0 00-.432-1.016l-.82-.797 2.2-1.19.588 1.213c.24.32.521.736 1.268.736l2.822-.144a.744.744 0 100-1.487l-2.325.021c-.503.057-.9-1.896-1.758-2.97-.096-.12-.199-.23-.308-.325 0 0-.295-.238-.769-.238zm.793 4.731l-.992.74c.058.145.1.32.105.525l.003.257 1.312-.996c-.163-.136-.28-.3-.388-.444zm2.468.76l-.697.036.204.676a3.21 3.21 0 00-2.038 2.979c0 1.76 1.44 3.199 3.199 3.199s3.198-1.44 3.198-3.2A3.208 3.208 0 0012.73 8.32l.175.568a2.639 2.639 0 11-1.194.189l.758 2.51a.346.346 0 00.394.288.346.346 0 00.3-.388.333.333 0 00-.019-.071zm-7.43.062L2.8 11.39a.33.33 0 00-.031.067c-.06.179.04.374.223.436a.346.346 0 00.44-.21l1.198-2.32a2.639 2.639 0 11-1.126-.454l.268-.52a3.179 3.179 0 00-.664-.07 3.208 3.208 0 00-3.199 3.2c0 1.758 1.44 3.198 3.2 3.198 1.758 0 3.198-1.44 3.198-3.199a3.202 3.202 0 00-1.42-2.654l.317-.613z"/>'},subcategories:[]}]},xa={id:0,color:"#eee",image:"repeating-linear-gradient(45deg,#eee 0px,#eee 7px, #999 8px, #999 10px, #eee 11px)",bordercolor:"#999",label:"Unknown"},Ca={id:0,color:"#eee",image:"repeating-linear-gradient(45deg,gray 25%, transparent 25%,transparent 50%, gray 50%, gray 55%, transparent 55%, transparent)",bordercolor:"#999",label:"Unknown"},Na=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},za=()=>{Na().dispatch({type:Z,payload:{signedIn:!0,byUser:!0}})},ka=e=>{Na().dispatch({type:Z,payload:{signedIn:!1,byUser:e}})};class ja extends Hn.h{#r;#c;#l;#d;#n;constructor(){super();const{TranslationService:e,GeoResourceService:t,EnvironmentService:n}=r.z.inject("TranslationService","GeoResourceService","EnvironmentService");this.#r=e,this.#c=t,this.#n=n}async register(){const e=(e,t=[])=>this.#r.translate(e,t),t=t=>{if(t instanceof at.o){const n=this.#c.byId(t.geoResourceId)?.label??t.geoResourceId;switch(t.httpStatus){case 401:(0,Re.L)(`${e("global_geoResource_not_available",[n,e("global_geoResource_unauthorized")])}`,Re.A.WARN);break;case 403:(0,Re.L)(`${e("global_geoResource_not_available",[n,e("global_geoResource_forbidden")])}`,Re.A.WARN);break;default:(0,Re.L)(`${e("global_geoResource_not_available",[n])}`,Re.A.WARN)}}else this.#n.isEmbeddedAsWC()||this._emitThrottledGenericNotification()};this.#l=e=>{t(e.error)},this.#d=e=>{t(e.reason)},window.addEventListener("error",this.#l),window.addEventListener("unhandledrejection",this.#d)}_emitThrottledGenericNotification(){const e=(e,t=[])=>this.#r.translate(e,t);Ra((()=>(0,Re.L)(`${e("global_generic_exception")}`,Re.A.ERROR)))}_unregisterListeners(){window.removeEventListener("error",this.#l),window.removeEventListener("unhandledrejection",this.#d)}static get THROTTLE_NOTIFICATION_DELAY_MS(){return 3e3}}const Ra=(0,On.v6)(ja.THROTTLE_NOTIFICATION_DELAY_MS,(e=>e()));class Pa extends Hn.h{#n;#e;#t;#c;constructor(){super();const{EnvironmentService:e,AuthService:t,ConfigService:n,GeoResourceService:i}=r.z.inject("EnvironmentService","AuthService","ConfigService","GeoResourceService");this.#n=e,this.#e=t,this.#t=n,this.#c=i}async register(e){if(!this.#n.isStandalone())try{await this.#e.init()}catch(e){throw new Error(`A requested endpoint of the backend is not available. Is the backend running and properly configured (current BACKEND_URL=${this.#t.getValue("BACKEND_URL")})?`,{cause:e})}(0,O.lB)(e,(e=>e.auth.signedIn),((e,t)=>{!e&&t.auth.byUser&&t.layers.active.forEach((e=>{this.#c.isAllowed(e.geoResourceId)||(0,lt.e5)(e.id)}))}))}}class Oa extends Hn.h{async register(){const{EnvironmentService:e}=r.z.inject("EnvironmentService");e.isEmbeddedAsWC()&&setTimeout((()=>{new MutationObserver((e=>this._updateWcStore(e))).observe(document.querySelector(De.P.tag),{attributes:!0,childList:!1,subtree:!1})}))}_updateWcStore(e){for(const n of e)"attributes"===n.type&&Object.values(Le.h).includes(n.attributeName)&&(t=n.attributeName,(()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()})().dispatch({type:Q,payload:new O.MD(t)}));var t}}const Ga=new class{#u={};isAdminId(e){return e.startsWith("a_")}isFileId(e){return e.startsWith("f_")}async getFileId(e){if(this.isFileId(e))return e;if(this.isAdminId(e))return e.replace("a_","f_");throw new Error("FileId could not be retrieved: "+e)}async get(e){const t=e?.split("f_")[1];if(this.#u[t])return this.#u[t];throw new Error("File could not be loaded: "+e)}async save(e,t,n){if(e&&this.isFileId(e))throw new Error("Saving a file by its FileId is currently not supported");if(n===rt.KML){if(e)return this.#u[e?.split("a_")[1]]=t,{adminId:e,fileId:e.replace("a_","f_")};const n=`tmp_${(0,me.Ds)()}`;return this.#u[n]=t,{adminId:`a_${n}`,fileId:`f_${n}`}}throw new Error("Content-Type "+n+" currently not supported")}};r.z.registerSingleton("ProjectionService",new class{constructor(e=la){this._supportedSrids=[4326,3857,...e()]}getProjections(){return this._supportedSrids}}).registerSingleton("AuthService",new class{constructor(e=Pe,t=Oe,n=Ge){this._singInProvider=e,this._singOutProvider=t,this._initialAuthStatusProvider=n,this._roles=[]}async init(){const e=await this._initialAuthStatusProvider();e.length>0&&(this._roles=[...e],za())}getRoles(){return[...this._roles]}isSignedIn(){return this._roles.length>0}async signIn(e=null){if(!this.isSignedIn()){const t=await this._singInProvider(e);return t.length>0&&(this._roles=[...t],za(),!0)}return!0}async signOut(){if(this.isSignedIn()){const e=await this._singOutProvider();return e&&(this._roles=[],ka(!0)),e}return!0}invalidate(){return!!this.isSignedIn()&&(this._roles=[],ka(!1),!0)}}).registerSingleton("ConfigService",new class{constructor(){this._properties=new Map,this._properties.set("RUNTIME_MODE",window?.ba_externalConfigProperties?.NODE_ENV??"production"),this._properties.set("SOFTWARE_INFO",window?.ba_externalConfigProperties?.SOFTWARE_INFO??"MISSING_ENV_VAR".SOFTWARE_INFO),this._properties.set("DEFAULT_LANG",window?.ba_externalConfigProperties?.DEFAULT_LANG??"MISSING_ENV_VAR".DEFAULT_LANG??"en"),this._properties.set("PROXY_URL",window?.ba_externalConfigProperties?.PROXY_URL??"MISSING_ENV_VAR".PROXY_URL),this._properties.set("BACKEND_URL",window?.ba_externalConfigProperties?.BACKEND_URL??"MISSING_ENV_VAR".BACKEND_URL),this._properties.set("FRONTEND_URL",window?.ba_externalConfigProperties?.FRONTEND_URL??"MISSING_ENV_VAR".FRONTEND_URL??`${location.protocol}//${location.host}${location.pathname}`),this._properties.set("SHORTENING_SERVICE_URL",window?.ba_externalConfigProperties?.SHORTENING_SERVICE_URL??"MISSING_ENV_VAR".SHORTENING_SERVICE_URL),this._properties.forEach(((e,t)=>{void 0===e&&console.warn("No config property found for "+t+". This is likely because the .env file is missing or you have to append this key to the .env file.")}))}_trailingSlash(e,t){if(e)return e=e.trim(),t?e.endsWith("/")?e:e+"/":e.replace(/\/$/,"")}getValue(e,t){return this._properties.get(e)??t??(()=>{throw new Error(`No value found for '${e}'`)})()}getValueAsPath(e,t){return this._trailingSlash(this.getValue(e,t),!0)}hasKey(e){return!!this._properties.get(e)}}).register("HttpService",class extends Qe{#t;#n;constructor(){super();const{ConfigService:e,EnvironmentService:t}=r.z.inject("ConfigService","EnvironmentService");this.#t=e,this.#n=t}async fetch(e,t={},n=new AbortController,r=Ze){if(this.#n.isStandalone())return super.fetch(e,t,n,r);const i=e.trim().startsWith(this.#t.getValueAsPath("BACKEND_URL"))?{credentials:"include",...t}:{...t};return super.fetch(e,i,n,r)}}).register("EnvironmentService",class{constructor(e=window){this._window=e;const{ConfigService:t}=r.z.inject("ConfigService");this._configService=t}getQueryParams(){if(this.isEmbeddedAsWC()){const e=this._window.document.querySelector(De.P.tag),t=e.getAttributeNames(),n=new URLSearchParams;return t.filter((e=>Object.values(Le.h).includes(e))).forEach((t=>{n.set(t,e.getAttribute(t))})),n}return new URLSearchParams(this._window.location.search)}getWindow(){return this._window}isTouch(){return this._window.matchMedia("(pointer:coarse)").matches}isMouse(){return this._window.matchMedia("(pointer:fine)").matches&&this._window.matchMedia("(hover:hover)").matches}isMouseWithTouchSupport(){return this._window.matchMedia("(any-pointer:coarse)").matches&&this._window.matchMedia("(pointer:fine)").matches}isRetinaDisplay(){const e=this._window,t=e.matchMedia&&e.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min--moz-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 1.5dppx)");return(t&&t.matches)??e.devicePixelRatio>1}isEmbedded(){return this.isEmbeddedAsIframe()||this.isEmbeddedAsWC()}isEmbeddedAsIframe(){return/(\/embed[/]?(index.html)?|embed.html)$/.test(this._window.location.pathname)}isEmbeddedAsWC(){return!!this._window.customElements.get(De.P.tag)}isStandalone(){return!this._configService.getValue("BACKEND_URL",!1)}}).registerSingleton("TranslationService",new class{constructor(){const{ConfigService:e,EnvironmentService:t}=r.z.inject("ConfigService","EnvironmentService");this._environmentService=t,this._language=e.getValue("DEFAULT_LANG"),this._providers=new Map,this._translations=new Map}register(e,t){if(this._providers.has(e))throw new Error("Provider "+e+" already registered");this._providers.set(e,t),this._load(t)}_load(e){Object.entries(e(this._language)).forEach((([e,t])=>{if(this._translations.has(e))throw new Error("Key "+e+" already registered");this._translations.set(e,t)}))}reload(e){this._language=e,this._translations.clear(),this._providers.forEach((e=>{this._load(e)}))}translate(e,t=[]){return this._translations.has(e)?this._filter((0,Ie.Tn)(this._translations.get(e))?this._translations.get(e)(t):this._translations.get(e)):(console.warn("No value found for "+this._language+"."+e),e)}getMap(){return new Map(this._translations)}_filter(e){return this._environmentService.isStandalone()?e.replace("BayernAtlas","bav4"):e}}).register("CoordinateService",Ee).register("MapService",class{constructor(e=Et){const{CoordinateService:t}=r.z.inject("CoordinateService");this._coordinateService=t,this._definitions=e()}getSrid(){return this._definitions.srid}getCoordinateRepresentations(e=[]){const t=this._coordinateService.toCoordinate((0,Ie._2)(e)?[e]:[...e]);return this.getLocalProjectedSridExtent()&&0!==t.length?t.find((e=>!this._coordinateService.containsCoordinate(this.getLocalProjectedSridExtent(),e)))?this._definitions.globalCoordinateRepresentations:this._definitions.localProjectedCoordinateRepresentations(t):this._definitions.globalCoordinateRepresentations}getLocalProjectedSrid(){return this._definitions.localProjectedSrid}getLocalProjectedSridExtent(e=this.getSrid()){switch(e){case 3857:return this._coordinateService.fromLonLatExtent(this._definitions.localProjectedSridExtent);case 4326:return this._definitions.localProjectedSridExtent}throw new Error("Unsupported SRID "+e)}getDefaultMapExtent(e=this.getSrid()){switch(e){case 3857:return this._definitions.defaultExtent;case 4326:return this._coordinateService.toLonLatExtent(this._definitions.defaultExtent)}throw new Error("Unsupported SRID "+e)}getMinZoomLevel(){return this._definitions.minZoomLevel}getMaxZoomLevel(){return this._definitions.maxZoomLevel}getMinimalRotation(){return.3}calcResolution(e,t=null,n=this.getSrid(),r=256){if(3857===n){if(!t)throw new Error(`Parameter 'coordinateInMapProjection' must not be Null when using SRID ${n}`);return(0,It.b3)(this._coordinateService.toLonLat(t)[1],e,r)}throw new Error(`Unsupported SRID ${n}`)}getScaleLineContainer(){const e=document.querySelector("ba-footer")?.shadowRoot.querySelector(".scale");return e??null}getVisibleViewport(e){const t=(0,At.Ne)(document,`[${At.Sm}]`),n=Tt(e,t),r=e.getBoundingClientRect();return{top:n.top-r.top,right:r.right-n.right,bottom:r.bottom-n.bottom,left:n.left-r.left}}calcLength(e){if(!this.getLocalProjectedSridExtent()||e.find((e=>!this._coordinateService.containsCoordinate(this.getLocalProjectedSridExtent(),e)))){const t=e.map((e=>this._coordinateService.toLonLat(e)));return this._coordinateService.getLength(t,!0)}const t=e.map((e=>this._coordinateService.transform(e,this.getSrid(),this.getLocalProjectedSrid())));return this._coordinateService.getLength(t,!1)}calcArea(e){if(!this.getLocalProjectedSridExtent()||e[0].find((e=>!this._coordinateService.containsCoordinate(this.getLocalProjectedSridExtent(),e)))){const t=e.map((e=>e.map((e=>this._coordinateService.toLonLat(e)))));return this._coordinateService.getArea(t,!0)}const t=e.map((e=>e.map((e=>this._coordinateService.transform(e,this.getSrid(),this.getLocalProjectedSrid())))));return this._coordinateService.getArea(t,!1)}}).registerSingleton("StoreService",new class{constructor(){const e=(0,i.HY)({map:I.J5,pointer:T.yp,position:o.aJ,mainMenu:(0,L.po)(),navigationRail:(0,D.bP)(),tools:v.Q9,modal:_.iT,layers:a.vH,mapContextMenu:E.Jm,measurement:A.Vy,draw:y.BE,shared:w,geolocation:M.rS,topics:s.Fn,network:d,search:u.JT,topicsContentPanel:m.ak,highlight:g.hs,notifications:h.qn,featureInfo:x.Vj,media:(0,p.TN)(),import:C.iu,mfp:N.uR,bottomSheet:z.j2,elevationProfile:k.Tk,chips:P,stateForEncoding:F,iframeContainer:B,routing:H.Rb,auth:V,wcAttribute:K});this._store=(0,i.y$)(e),r.z.onReady((async()=>{const{GlobalErrorPlugin:e,AuthPlugin:t,LayersPlugin:n,TopicsPlugin:i,ChipsPlugin:o,GeolocationPlugin:a,MeasurementPlugin:s,DrawPlugin:c,RoutingPlugin:l,PositionPlugin:d,ContextClickPlugin:u,HighlightPlugin:g,MediaPlugin:h,FeatureInfoPlugin:p,MainMenuPlugin:m,NavigationRailPlugin:_,ImportPlugin:v,SearchPlugin:y,ExportMfpPlugin:S,ElevationProfilePlugin:b,IframeStatePlugin:f,IframeContainerPlugin:w,SharePlugin:M,ToolsPlugin:I,BeforeUnloadPlugin:A,IframeGeometryIdPlugin:T,ObserveWcAttributesPlugin:E,EncodeStatePlugin:L,ObserveStateForEncodingPlugin:D}=r.z.inject("GlobalErrorPlugin","AuthPlugin","TopicsPlugin","ChipsPlugin","LayersPlugin","GeolocationPlugin","MeasurementPlugin","DrawPlugin","RoutingPlugin","PositionPlugin","ContextClickPlugin","HighlightPlugin","MediaPlugin","FeatureInfoPlugin","MainMenuPlugin","NavigationRailPlugin","ImportPlugin","SearchPlugin","ExportMfpPlugin","ElevationProfilePlugin","IframeStatePlugin","IframeContainerPlugin","SharePlugin","ToolsPlugin","BeforeUnloadPlugin","IframeGeometryIdPlugin","ObserveWcAttributesPlugin","EncodeStatePlugin","ObserveStateForEncodingPlugin");setTimeout((async()=>{await e.register(this._store),await t.register(this._store),await h.register(this._store),await i.register(this._store),await o.register(this._store),await n.register(this._store),await d.register(this._store),await s.register(this._store),await c.register(this._store),await l.register(this._store),await a.register(this._store),await u.register(this._store),await g.register(this._store),await p.register(this._store),await m.register(this._store),await _.register(this._store),await v.register(this._store),await y.register(this._store),await S.register(this._store),await b.register(this._store),await f.register(this._store),await w.register(this._store),await M.register(this._store),await I.register(this._store),await A.register(this._store),await T.register(this._store),await E.register(this._store),await L.register(this._store),await D.register(this._store)}))}))}getStore(){return this._store}}).registerSingleton("GeoResourceService",new ht).registerSingleton("TopicsService",new class{constructor(e=_o){this._provider=e;const{ConfigService:t,EnvironmentService:n}=r.z.inject("ConfigService","EnvironmentService");this._configService=t,this._environmentService=n,this._topics=null}async init(){if(!this._topics)try{this._topics=await this._provider()}catch(e){if(this._topics=[],!this._environmentService.isStandalone())throw new Error("No topics available",{cause:e});this._topics.push(...this._newFallbackTopics()),console.warn("Topics could not be fetched from backend. Using fallback topics ...")}return this._topics}all(){return this._topics?this._topics:(console.warn("TopicsService not yet initialized"),[])}byId(e){return this._topics?this._topics.find((t=>t.id===e))||null:(console.warn("TopicsService not yet initialized"),null)}default(){return this.byId(this._configService.getValue("DEFAULT_TOPIC_ID","ba"))||this.all()[0]||null}_newFallbackTopics(){const[e,t]=vo;return[new mo(e,"Topic 1","This is a fallback topic...",{raster:["tpo","tpo_mono"],vector:["bmde_vector","bmde_vector_relief"]},"tpo",[],[],{hue:300,icon:"<path d='M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z'/>"}),new mo(t,"Topic 2","This is another fallback topic...",{raster:["tpo","tpo_mono"]},"tpo",[],[],{hue:250,icon:"<path d='M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z'/>"})]}}).registerSingleton("ElevationService",new class{#g={};#n;constructor(e=ua,t=ga){this._elevationProvider=e,this._profileProvider=t;const{EnvironmentService:n}=r.z.inject("EnvironmentService");this.#n=n}async getElevation(e){if(!(0,Ie._2)(e))throw new TypeError("Parameter 'coordinate3857' must be a CoordinateLike type");try{return await this._elevationProvider(e)}catch(e){if(this.#n.isStandalone())return console.warn("Could not fetch an elevation from backend. Returning a mocked value ..."),this._createMockElevation();throw new Error("Could not load an elevation from provider",{cause:e})}}async _prepareProfile(e,t){if(this.#g[e])return ha(this.#g[e]);Object.keys(this.#g).forEach((e=>delete this.#g[e]));try{const n=await this._profileProvider(t);return this.#g[e]=n,ha(n)}catch(e){if(this.#n.isStandalone())return console.warn("Could not fetch an elevation profile from backend. Returning a mocked profile ..."),this._createMockElevationProfile(t);throw new Error("Could not load an elevation profile from provider",{cause:e})}}fetchProfile(e){return this.#g[e]?ha(this.#g[e]):null}async requestProfile(e){if(!Array.isArray(e)||e.length<2)throw new TypeError("Parameter 'coordinates3857' must be an array containing at least two coordinates");e.forEach((e=>{if(!(0,Ie._2)(e))throw new TypeError("Parameter 'coordinates3857' contains invalid coordinates")}));const t=`${(e=>{const t=(e=>{const t=e=>`[${e.join(";")}]`;return void 0===e?`undef:${e}`:null===e?`null:${e}`:(0,Ie.Kg)(e)?e:(0,Ie.Gv)(e)?t(Object.values(e)):Array.isArray(e)?t(e):`num:${e}`})(e);let n=0;for(let e=0;e<t.length;e++)n=Math.imul(31,n)+t.charCodeAt(e)|0;return n})(e)}`,n=await this._prepareProfile(t,e);return(0,oo.KZ)(`${t}`),n}_createMockElevation(){return Math.round(500+100*Math.random())}_createMockElevationProfile(e){return{elevations:e.map(((e,t)=>({dist:100*t,z:500+100*Math.random(),e:e[0],n:e[1]}))),stats:{sumUp:0,sumDown:0,verticalHeight:0,highestPoint:0,lowestPoint:0,linearDistance:0},attrs:[],refSystem:"refSystem"}}}).register("SearchResultService",class{constructor(e=No,t=Co,n=zo){this._locationResultProvider=e,this._georesourceResultProvider=t,this._cadastralParcelResultProvider=n;const{EnvironmentService:i,SourceTypeService:o,ImportVectorDataService:a,ImportWmsService:s}=r.z.inject("EnvironmentService","SourceTypeService","ImportVectorDataService","ImportWmsService");this._environmentService=i,this._sourceTypeService=o,this._importVectorDataService=a,this._importWmsService=s}_mapSourceTypeToLabel(e){if(e)switch(e.name){case hr.bu.GEOJSON:return"GeoJSON Import";case hr.bu.GPX:return"GPX Import";case hr.bu.KML:return"KML Import";case hr.bu.EWKT:return"EWKT Import"}return null}async _getGeoResourcesForUrl(e){const{status:t,sourceType:n}=await this._sourceTypeService.forUrl(e);if(t===hr.$I.OK||t===hr.$I.BAA_AUTHENTICATED)switch(n.name){case hr.bu.GEOJSON:case hr.bu.GPX:case hr.bu.KML:case hr.bu.EWKT:{const t=this._importVectorDataService.forUrl(e,{sourceType:n});return t?[new Do(t.id,this._mapSourceTypeToLabel(n))]:[]}case hr.bu.WMS:{const r=await this._importWmsService.forUrl(e,{sourceType:n,isAuthenticated:t===hr.$I.BAA_AUTHENTICATED});return r.length?r.map((e=>new Do(e.id,e.label))):[]}}return[]}async geoResourcesByTerm(e){if(this._environmentService.isStandalone())return this._newFallbackGeoResourceSearchResults();if((0,Ie.q$)(e))return this._getGeoResourcesForUrl(e);{const{status:t,sourceType:n}=this._sourceTypeService.forData(e);if(t===hr.$I.OK){const t=this._importVectorDataService.forData(e,{sourceType:n});if(t)return[new Do(t.id,this._mapSourceTypeToLabel(n))]}else if(e.length<140)return this._georesourceResultProvider(e)}return[]}async locationsByTerm(e){return this._environmentService.isStandalone()?this._newFallbackLocationSearchResults():!(0,Ie.q$)(e)&&e.length<140?this._locationResultProvider(e):[]}async cadastralParcelsByTerm(e){return this._environmentService.isStandalone()?this._newFallbackCadastralParcelSearchResults():!(0,Ie.q$)(e)&&e.length<140?this._cadastralParcelResultProvider(e):[]}_newFallbackGeoResourceSearchResults(){return[new Do("atkis","Base Map 1"),new Do("atkis_sw","Base Map 2")]}_newFallbackLocationSearchResults(){return[new Eo("Landeshauptstadt München","Landeshauptstadt <b>München</b>",[1284841.153957037,6132811.135477452],[1265550.466246523,6117691.209423095,1304131.841667551,6147931.061531809]),new Eo("Alexandrastraße 4 80538 München, Altstadt-Lehel","<b>Alexandrastraße</b> <b>4</b> 80538 München , Altstadt-Lehel",[1290240.0895689954,6130449.47786758])]}_newFallbackCadastralParcelSearchResults(){return[]}}).register("ShareService",Ke).register("UnitsService",class{constructor(e=et,t=tt){this._distanceUnitsProvider=e,this._areaUnitsProvider=t}formatDistance(e,t=2){return this._distanceUnitsProvider(e,t)}formatArea(e,t=2){return this._areaUnitsProvider(e,t)}}).register("FileSaveService",class{saveAs(e,t,n=null){if(!e||!t)throw Error("content and mimeType must be specified");const r=new Blob([e],{type:t}),i=this._getFileName(n,t),o=window.URL.createObjectURL(r);try{const e=document.createElement("a");e.href=o,e.download=i,e.click()}finally{window.URL.revokeObjectURL(o)}}_getFileName(e,t){const n=(new Date).toISOString().slice(0,19).replace(/[-T:]/g,""),r=e??`bayernatlas_${n}`,i=this._getFileExtensionFrom(t);return i?`${r}.${i}`:r}_getFileExtensionFrom(e){switch(e){case ze.z.GPX:return"gpx";case ze.z.GeoJSON:return"geojson";case ze.z.JSON:return"json";case ze.z.KML:return"kml";case ze.z.TEXT_PLAIN:return"txt";case ze.z.TEXT_HTML:return"html"}return null}}).registerFactory("FileStorageService",(()=>{const{EnvironmentService:e}=r.z.inject("EnvironmentService");return e.isEmbeddedAsWC()?Ga:new it})).register("UrlService",class{constructor(e=_t,t=pt,n=mt){const{HttpService:i}=r.z.inject("HttpService");this._httpService=i,this._proxifyUrlProvider=t,this._urlShorteningProvider=e,this._qrCodeUrlProvider=n}proxifyInstant(e,t=!0){if(!(0,Ie.q$)(e)){if(t)throw new TypeError("Parameter 'url' must represent an URL");return e}return this._proxifyUrlProvider(e)}async proxify(e,t=!0){if(!(0,Ie.q$)(e)){if(t)throw new TypeError("Parameter 'url' must represent an URL");return e}return await this.isCorsEnabled(e)?e:this._proxifyUrlProvider(e)}async isCorsEnabled(e){if(!(0,Ie.q$)(e))throw new TypeError("Parameter 'url' must represent an URL");return(await this._httpService.head(e,{timeout:1500})).ok}async shorten(e){if(!(0,Ie.q$)(e))throw new TypeError("Parameter 'url' must represent an URL");return this._urlShorteningProvider(e)}qrCode(e){if(!(0,Ie.q$)(e))throw new TypeError("Parameter 'url' must represent an URL");return this._qrCodeUrlProvider(e)}}).registerSingleton("IconService",new class{constructor(e=vt,t=yt,n=St){this._iconProvider=e,this._iconColorProvider=t,this._iconUrlFactoryProvider=n,this._default=this._createDefault(),this._icons=null,this._load()}_createDefault(){const e=this._iconUrlFactoryProvider(ft);return new Mt(ft,wt,(e=>e===ft||!!e?.endsWith(`/${ft}`)),e)}async _load(){try{const e=e=>e.id===ft,t=await this._iconProvider(),n=t.findIndex(e);this._icons=n<0?[this._default,...t]:[t[n],...t.filter((t=>!e(t)))]}catch(e){this._icons=[this._default,new Mt("triangle-stroked",'<svg id="triangle-stroked" xmlns="http://www.w3.org/2000/svg" width="34.0" height="34.0" viewBox="0.0 0.0 48.0 48.0" fill="rgb(255,255,255)">\x3c!-- SIL OFL 1.1 --\x3e<path d="M25.59375,10.578125Q25.0625,9.65625,24.0,9.65625Q22.9375,9.65625,22.40625,10.578125L7.203125,35.625Q7.0,36.015625,7.0,36.546875Q7.0,38.34375,8.796875,38.34375L39.203125,38.34375Q41.0,38.34375,41.0,36.546875Q41.0,36.015625,40.796875,35.625L25.59375,10.578125ZM24.0,15.03125L36.15625,34.75L11.84375,34.75L24.0,15.03125Z" /></svg>'),new Mt("triangle",'<svg id="triangle" xmlns="http://www.w3.org/2000/svg" width="34.0" height="34.0" viewBox="0.0 0.0 48.0 48.0" fill="rgb(255,255,255)">\x3c!-- SIL OFL 1.1 --\x3e<path d="M25.59375,10.578125Q25.0625,9.65625,24.0,9.65625Q22.9375,9.65625,22.40625,10.578125L7.203125,35.625Q7.0,36.015625,7.0,36.546875Q7.0,38.34375,8.796875,38.34375L39.203125,38.34375Q41.0,38.34375,41.0,36.546875Q41.0,36.015625,40.796875,35.625L25.59375,10.578125Z" /></svg>'),new Mt("square-stroked",'<svg id="square-stroked" xmlns="http://www.w3.org/2000/svg" width="34.0" height="34.0" viewBox="0.0 0.0 48.0 48.0" fill="rgb(255,255,255)">\x3c!-- SIL OFL 1.1 --\x3e<path d="M9.0,7.0Q8.125,7.0,7.5625,7.5625Q7.0,8.125,7.0,8.984375L7.0,39.0Q7.0,39.875,7.5625,40.4375Q8.125,41.0,9.0,41.0L39.015625,41.0Q39.875,41.0,40.4375,40.4375Q41.0,39.875,41.0,39.0L41.0,8.984375Q41.0,8.125,40.4375,7.5625Q39.875,7.0,39.015625,7.0L9.0,7.0ZM10.984375,10.984375L37.015625,10.984375L37.015625,37.015625L10.984375,37.015625L10.984375,10.984375Z" /></svg>'),new Mt("square",'<svg id="square" xmlns="http://www.w3.org/2000/svg" width="34.0" height="34.0" viewBox="0.0 0.0 48.0 48.0" fill="rgb(255,255,255)">\x3c!-- SIL OFL 1.1 --\x3e<path d="M9.0,7.0L39.015625,7.0Q39.875,7.0,40.4375,7.5625Q41.0,8.125,41.0,8.984375L41.0,39.0Q41.0,39.875,40.4375,40.4375Q39.875,41.0,39.015625,41.0L9.0,41.0Q8.125,41.0,7.5625,40.4375Q7.0,39.875,7.0,39.0L7.0,8.984375Q7.0,8.125,7.5625,7.5625Q8.125,7.0,9.0,7.0Z" /></svg>'),new Mt("rt_start",wt,(e=>"rt_start"===e),null,!1),new Mt("rt_destination",wt,(e=>"rt_destination"===e),null,!1),new Mt("rt_intermediate",wt,(e=>"rt_intermediate"===e),null,!1)],console.warn("Icons could not be fetched from backend. Using fallback icons ...")}return this._icons}async all(){return null===this._icons?await this._load():this._icons}getIconResult(e){return e===this._default.base64?this._icons.find((e=>e.matches(ft))):this.isLocal(e)?(e=>this._icons.find((t=>t.base64===e))??null)(e):(e=>this._icons.find((t=>t.matches(e)))??null)(e)}decodeColor(e){return this._iconColorProvider(e)}isLocal(e){return!!e?.startsWith(bt)}getDefault(){return this._default}}).register("AdministrationService",class{constructor(e=po){this._administrationProvider=e}async getAdministration(e){if(!(0,Ie.Xq)(e))throw new TypeError("Parameter 'coordinate3857' must be a coordinate");try{return await this._administrationProvider(e)}catch(e){throw new Error("Could not load administration from provider",{cause:e})}}}).register("FeatureInfoService",class{constructor(e=Fo){this._featureInfoProvider=e;const{GeoResourceService:t}=r.z.inject("GeoResourceService");this._geoResourceService=t}async get(e,t,n){if(this.isQueryable(e))try{return await this._featureInfoProvider(e,t,n)}catch(e){throw new Error(`Could not load a FeatureInfoResult from provider: ${e}`)}return null}isQueryable(e){const t=this._geoResourceService.byId(e);return t.queryable&&t instanceof nt.He}}).registerSingleton("GeoResourceInfoService",new Yo.N).register("ImportVectorDataService",class{constructor(){const{HttpService:e,GeoResourceService:t,UrlService:n,SourceTypeService:i}=r.z.inject("HttpService","GeoResourceService","UrlService","SourceTypeService");this._httpService=e,this._geoResourceService=t,this._urlService=n,this._sourceTypeService=i}_newDefaultImportVectorDataOptions(){return{id:(0,me.Ds)().toString(),label:null,sourceType:null}}forUrl(e,t={}){const{id:n,label:r,sourceType:i}={...this._newDefaultImportVectorDataOptions(),...t,id:e};if(i&&!this._mapSourceTypeToVectorSourceType(i))return console.warn(`SourceType '${i}' for '${n}' is not supported`),null;const o=new nt.fX(n,(async t=>{const n=this._urlService.proxifyInstant(e),i=await this._httpService.get(n,{timeout:5e3});if(i.ok){const n=await i.text(),o=this._sourceTypeService.forData(n).sourceType,a=this._mapSourceTypeToVectorSourceType(o);if(o)return new nt.HA(t,r,a).setSource(n,o.srid??4326).setAttributionProvider((0,ot.hM)(e));throw new at.o(`GeoResource for '${e}' could not be loaded: SourceType could not be detected`,t)}throw new at.o(`GeoResource for '${e}' could not be loaded`,t,i.status)}));return this._geoResourceService.addOrReplace(o)}forData(e,t){const{id:n,label:r,sourceType:i}={...this._newDefaultImportVectorDataOptions(),...t},o=i??this._sourceTypeService.forData(e).sourceType,a=this._mapSourceTypeToVectorSourceType(o);if(o){const t=new nt.HA(n,r,a).setSource(e,o.srid??4326).setAttributionProvider(ot.Ve).setHidden(!0);return this._geoResourceService.addOrReplace(t)}return console.warn(`SourceType for '${n}' could not be detected`),null}_mapSourceTypeToVectorSourceType(e){if(e)if(e instanceof hr.Y1)switch(e.name){case hr.bu.KML:return nt.Vz.KML;case hr.bu.GPX:return nt.Vz.GPX;case hr.bu.GEOJSON:return nt.Vz.GEOJSON;case hr.bu.EWKT:return nt.Vz.EWKT}else if(Object.entries(nt.Vz).map((e=>e[1])).includes(e))return e;return null}}).register("ExportVectorDataService",class{constructor(){const{SourceTypeService:e,ProjectionService:t}=r.z.inject("SourceTypeService","ProjectionService");this._sourceTypeService=e,this._projectionService=t}forGeoResource(e,t){const n=e.data;if(n)return this._forData(n,e.sourceType,t);throw Error(`GeoResource '${e.id}' is empty`)}forData(e,t){const n=this._sourceTypeService.forData(e),r=n.sourceType;if(n.status===hr.$I.OK)return this._forData(e,r,t);throw new Error(`Unexpected SourceTypeResultStatus: ${n.status}`)}_forData(e,t,n){const r=t.name!==n.name,i=t.srid!==n.srid;if(!r&&!i)return e;const o=this._getReader(t)(e),a=i?this._transform(o,t.srid,n.srid):o;return this._getWriter(n)(a)}_getReader(e){return e.name===hr.bu.EWKT?this._getEwktReader():t=>this._getFormat(e.name).readFeatures(t)}_getWriter(e){const t=t=>this._getFormat(e.name).writeFeatures(t);switch(e.name){case hr.bu.EWKT:return this._getEwktWriter(e.srid??4326);case hr.bu.GPX:return this._getGpxWriter();default:return t}}_getFormat(e){switch(e){case hr.bu.KML:return new Rn.Ay;case hr.bu.GEOJSON:return new ai.A;case hr.bu.GPX:return new ci.A;default:throw Error(`Format-provider for ${e} is missing.`)}}_transform(e,t,n){if(this._projectionService.getProjections().includes(n))return e.map((e=>{const r=e.clone();return r.setId(e.getId()),r.getGeometry().setProperties(e.getGeometry().getProperties()),r.getGeometry().transform(`EPSG:${t}`,`EPSG:${n}`),r}));throw new Error("Unsupported SRID: "+n)}_getEwktReader(){return e=>{const t=li(e),n=new oi.A;if(t)return n.readFeatures(t.wkt);throw Error("Cannot parse data as EWKT")}}_getEwktWriter(e){return t=>{const n=new oi.A;return`SRID=${e};${n.writeFeatures(t)}`}}_getGpxWriter(){return e=>(new ci.A).writeFeatures(e.map((e=>(e=>{const t=e.getGeometry();if(t instanceof qi.A){const e=t.getPolygons().map((e=>e.getLinearRings().map((e=>e.getCoordinates()))));return new jn.A(new Ji.A(e))}if(t instanceof Me.Ay){const e=t.getLinearRings().map((e=>e.getCoordinates()));return new jn.A(new Ji.A(e))}if(t instanceof we.A){const e=t.getCoordinates();return new jn.A(new Ji.A([e]))}return e})(e))))}}).register("ImportWmsService",class{constructor(e=ea){const{GeoResourceService:t}=r.z.inject("GeoResourceService");this._geoResourceService=t,this._geoResourceService=t,this._wmsCapabilitiesProvider=e}_newDefaultImportWmsOptions(){return{isAuthenticated:!1,sourceType:new hr.Y1(hr.bu.WMS,"1.1.1"),layers:[],ids:[]}}async forUrl(e,t={}){const n={...this._newDefaultImportWmsOptions(),...t};return(await this._wmsCapabilitiesProvider((0,Xe.w0)(e),n)).map((t=>t.setAttributionProvider((0,ot.hM)(e)))).map((e=>this._geoResourceService.addOrReplace(e)))}}).registerSingleton("SourceTypeService",new class{constructor(e=Ho,t=Zo,n=Wo){this._urlSourceTypeProvider=e,this._dataSourceTypeProvider=t,this._mediaSourceTypeProvider=n,this._promiseQueue=new ke}async forUrl(e){if(!(0,Ie.q$)(e))throw new TypeError("Parameter <url> must represent an Http URL");return await this._promiseQueue.add((()=>this._urlSourceTypeProvider(e)))}forData(e){if(!(0,Ie.Kg)(e))throw new TypeError("Parameter <data> must be a String");return this._dataSourceTypeProvider(e)}async forBlob(e){if(!(e instanceof Blob))throw new TypeError("Parameter <blob> must be an instance of Blob");const t=await e.text();return this._dataSourceTypeProvider(t)}}).register("Mfp3Encoder",ro).registerSingleton("SecurityService",new class{constructor(e=qo){this._sanitizeHtmlProvider=e}sanitizeHtml(e){return this._sanitizeHtmlProvider(e)}}).registerSingleton("BaaCredentialService",new class{constructor(){this._credentials=new Map}get(e){if((0,Ie.q$)(e)){const t=this._credentials.get((0,Xe.w0)(e));return t?JSON.parse(atob(t)):null}return null}addOrReplace(e,t){return!!((0,Ie.q$)(e)&&t?.username&&t?.password)&&(this._credentials.set((0,Xe.w0)(e),btoa(JSON.stringify({...t}))),!0)}}).registerSingleton("MfpService",new class{constructor(e=ia,t=oa){const{EnvironmentService:n}=r.z.inject("EnvironmentService");this._environmentService=n,this._abortController=null,this._mfpCapabilities=null,this._mfpCapabilitiesProvider=e,this._createMfpSpecProvider=t,this._urlId="0"}async init(){if(!this._mfpCapabilities)try{const{urlId:e,layouts:t,grSubstitutions:n,srid:r,extent:i}=await this._mfpCapabilitiesProvider();this._mfpCapabilities={layouts:t,grSubstitutions:n,srid:r,extent:i},this._urlId=e}catch(e){if(!this._environmentService.isStandalone())throw e;this._mfpCapabilities=this._newFallbackCapabilities(),console.warn("MfpCapabilities could not be fetched from backend. Using fallback capabilities ...")}return this._mfpCapabilities}getCapabilities(){return this._mfpCapabilities?this._mfpCapabilities:null}getLayoutById(e){return this._mfpCapabilities?.layouts?.find((t=>t.id===e))??null}async createJob(e){this._abortController=new AbortController;try{const t=await this._createMfpSpecProvider(e,this._urlId,this._abortController);if(t){const{downloadURL:e}=t;return e}return null}catch(e){if(this._environmentService.isStandalone())return console.warn("No backend available, simulating Pdf request..."),await(0,On.yy)(2500),"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf";throw new Error("Pdf request was not successful",{cause:e})}finally{this._abortController=null}}cancelJob(){this._abortController?.abort()}_newFallbackCapabilities(){return{srid:3857,extent:[667916.9447596414,4865942.279503176,1558472.8711058302,7558415.656081782],grSubstitutions:{},layouts:[{id:"a4_landscape",urlId:0,mapSize:{width:785,height:475},dpis:[72,120,200],scales:[2e6,1e6,5e5,2e5,1e5,5e4,25e3,1e4,5e3,2500,1250,1e3,500]},{id:"a4_portrait",urlId:0,mapSize:{width:539,height:722},dpis:[72,120,200],scales:[2e6,1e6,5e5,2e5,1e5,5e4,25e3,1e4,5e3,2500,1250,1e3,500]}]}}}).registerSingleton("ChipsConfigurationService",new class{constructor(e=aa){this._provider=e,this._configurations=null;const{EnvironmentService:t}=r.z.inject("EnvironmentService");this._environmentService=t}async all(){if(!this._configurations)try{this._configurations=await this._provider()}catch(e){if(this._configurations=[],!this._environmentService.isStandalone())throw e;this._configurations.push(...this._newFallbackConfiguration()),console.warn("Chips configuration could not be fetched from backend. Using fallback configuration ...")}return this._configurations}_newFallbackConfiguration(){return[{id:"gh",title:"Fork me",href:"https://github.com/ldbv-by/bav4/",permanent:!0,target:"external",observer:{geoResources:[],topics:[]},style:{colorLight:"var(--primary-color)",backgroundColorLight:"var(--primary-bg-color)",colorDark:"var(--primary-color)",backgroundColorDark:"var(--primary-bg-color)",icon:'<path d="m 8.06415,0.2995526 c -4.260197,0 -7.70415223,3.4693444 -7.70415223,7.7613964 0,3.430867 2.20666073,6.335023 5.26788413,7.362895 0.3827318,0.07727 0.5229249,-0.167002 0.5229249,-0.372481 0,-0.179933 -0.012616,-0.796688 -0.012616,-1.439305 -2.1431086,0.462685 -2.5893925,-0.925211 -2.5893925,-0.925211 -0.3444112,-0.899506 -0.8547202,-1.13069 -0.8547202,-1.13069 -0.7014384,-0.475459 0.051094,-0.475459 0.051094,-0.475459 0.7780792,0.05141 1.186358,0.796688 1.186358,0.796688 0.6886649,1.1821 1.7983821,0.848097 2.2448237,0.64246 0.06371,-0.501163 0.2679279,-0.848097 0.4847619,-1.040804 -1.7092829,-0.179933 -3.5076649,-0.848097 -3.5076649,-3.8293681 0,-0.8480967 0.3059331,-1.5419653 0.7906951,-2.0816063 -0.076484,-0.1927064 -0.3444113,-0.9895518 0.076641,-2.0560597 0,0 0.6505021,-0.2056375 2.1172463,0.7966877 A 7.4070501,7.4070501 0 0 1 8.0641496,4.0516488 c 0.6505021,0 1.3136194,0.090045 1.9259593,0.2570468 1.4669011,-1.0023252 2.1174031,-0.7966877 2.1174031,-0.7966877 0.421052,1.0665079 0.152967,1.8633533 0.07648,2.0560597 0.497535,0.539641 0.790853,1.2335096 0.790853,2.0816063 0,2.9812711 -1.798381,3.6365041 -3.5204379,3.8293681 0.2807011,0.244116 0.5229254,0.706642 0.5229254,1.439147 0,1.040804 -0.012621,1.876127 -0.012621,2.133016 0,0.205637 0.1403505,0.449911 0.5229245,0.372798 3.061224,-1.028189 5.267885,-3.932187 5.267885,-7.363054 0.01262,-4.292052 -3.443952,-7.7613964 -7.6913753,-7.7613964 z" />'}},{id:"smart_mapping",title:"Smart Mapping",href:"https://dev.adv-smart.de/index_en.html",permanent:!1,target:"external",observer:{geoResources:[ut,gt],topics:[]},style:{colorLight:"var(--primary-color)",backgroundColorLight:"var(--primary-bg-color)",colorDark:"var(--primary-color)",backgroundColorDark:"var(--primary-bg-color)",icon:'<path d="M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z"/><path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>'}},{id:"brradl22",title:"Topic 2",href:"https://www.geodaten.bayern.de/bayernatlas-info/brradl22/index.html",permanent:!1,target:"modal",observer:{geoResources:[],topics:[vo[1]]},style:{colorLight:"var(--primary-color)",backgroundColorLight:"var(--primary-bg-color)",colorDark:"var(--primary-color)",backgroundColorDark:"var(--primary-bg-color)",icon:"<path d='M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z'/>"}}]}}).registerSingleton("FeedbackService",new ya.n1).registerSingleton("RoutingService",new class{constructor(e=Da,t=La,n=Ea,i=Ta){this._categoriesProvider=e,this._chartItemsStylesProvider=n,this._osmRoadTypeMapper=i,this._routeProvider=t;const{ElevationService:o}=r.z.inject("ElevationService");this._elevationService=o,this._categories=null}async init(){return this._categories||(this._categories=await this._categoriesProvider()),this._categories}getCategories(){return this._categories??[]}getCategoryById(e){return this._categories.map((e=>[e,e.subcategories])).flat(2).find((t=>t.id===e))??null}getRoadTypeStyles(){return this._chartItemsStylesProvider().road?{unknown:xa,...this._chartItemsStylesProvider().road}:{unknown:xa}}getSurfaceTypeStyles(){return this._chartItemsStylesProvider().surface?{unknown:Ca,...this._chartItemsStylesProvider().surface}:{unknown:Ca}}mapRoadTypesToCatalogId(e){const t=e=>({absolute:e.absolute,relative:e.relative,segments:e.segments}),n={};return Object.keys(e).forEach((r=>{const i=this._osmRoadTypeMapper(r);var o,a;i?n[i]=n[i]?(o=n[i],a=e[r],{...o,absolute:o.absolute+a.absolute,relative:o.relative+a.relative,segments:o.segments.concat(a.segments)}):t(e[r]):n[r]=t(e[r])})),n}getParent(e){return this.getCategoryById(e)?this.getAlternativeCategoryIds(e).map((e=>this.getCategoryById(e))).find((e=>e.subcategories.length>0))?.id??e:null}getAlternativeCategoryIds(e){const t=this.getCategories().filter((t=>t.id===e))[0]??this.getCategories().filter((t=>t.subcategories.filter((t=>t.id===e)).length>0))[0];if(t){const n=t.subcategories.map((e=>e.id)),r=[t.id].concat(n);return r.splice(r.indexOf(e),1),r}return[]}async calculateRoute(e,t){if(!Array.isArray(t)||t.length<2)throw new TypeError("Parameter 'coordinates3857' must be an array containing at least two coordinates");if(t.forEach((e=>{if(!(0,Ie.Xq)(e))throw new TypeError("Parameter 'coordinates3857' contains invalid coordinates")})),!Array.isArray(e)||e.length<1)throw new TypeError("Parameter 'categories' must be an array containing at least one category");return this._routeProvider(e,t)}}).registerSingleton("GlobalErrorPlugin",new ja).registerSingleton("AuthPlugin",new Pa).registerSingleton("DrawPlugin",new zi).registerSingleton("RoutingPlugin",new ir).registerSingleton("TopicsPlugin",new Mo).registerSingleton("ChipsPlugin",new Io).registerSingleton("LayersPlugin",new bo).registerSingleton("PositionPlugin",new fo).registerSingleton("HighlightPlugin",new Jr.k3).registerSingleton("MediaPlugin",new jo).registerSingleton("MeasurementPlugin",new Pr).registerSingleton("GeolocationPlugin",new Kr).registerSingleton("ContextClickPlugin",new Ro).registerSingleton("FeatureInfoPlugin",new Po).registerSingleton("MainMenuPlugin",new Oo).registerSingleton("NavigationRailPlugin",new Uo).registerSingleton("ImportPlugin",new Vo).registerSingleton("SearchPlugin",new na).registerSingleton("ExportMfpPlugin",new Xi).registerSingleton("ElevationProfilePlugin",new da).registerSingleton("IframeStatePlugin",new ma).registerSingleton("IframeContainerPlugin",new fa).registerSingleton("SharePlugin",new va).registerSingleton("ToolsPlugin",new wa).registerSingleton("BeforeUnloadPlugin",new Ia).registerSingleton("IframeGeometryIdPlugin",new Ma).registerSingleton("ObserveWcAttributesPlugin",new Oa).registerSingleton("EncodeStatePlugin",new ra).registerSingleton("ObserveStateForEncodingPlugin",new _a).registerModule((e=>{e.registerSingleton("StyleService",new kr).register("OlMeasurementHandler",Hr).register("OlDrawHandler",Pi).register("OlGeolocationHandler",qr).register("OlHighlightLayerHandler",si).register("VectorLayerService",hi).register("RtVectorLayerService",ho).register("LayerService",xi).register("InteractionStorageService",Gi).register("OverlayService",Ci).register("OlFeatureInfoHandler",Bi).register("OlElevationProfileHandler",so).register("OlMfpHandler",io).register("OlRoutingHandler",Er).register("OlSelectableFeatureHandler",lo)})).registerModule((e=>{e.registerSingleton("CatalogService",new So)})).ready()},34919:(e,t,n)=>{"use strict";n.d(t,{$:()=>S,o:()=>b});var r=n(36752),i=n(6683),o=n(12378),a=n(18410),s=n(99990),c=n(90996),l=n.n(c),d=n(51863),u=n.n(d),g=n(34844),h=n(72145);const p="update_is_collapsed",m="update_menu_type",_="update_menu_items",v="update_last_anchor_position",y={label:null,icon:null,action:null,disabled:!1,isDivider:!1},S=Object.freeze({MEATBALL:"meatball",KEBAB:"kebab"});class b extends s.T{constructor(){super({type:S.MEATBALL,menuItems:[],isCollapsed:!0,anchorPosition:null}),this._documentListener={pointerdown:null,pointerup:null}}onInitialize(){this.setAttribute(g.QE,"")}update(e,t,n){switch(e){case p:return{...n,isCollapsed:t};case m:return{...n,type:t};case _:return{...n,menuItems:t.map((e=>({...y,...e})))};case v:return{...n,anchorPosition:t}}}createView(e){const{isCollapsed:t,type:n}=e,i=this._getMenuOrFixedNotification(e);return r.qy`
		 <style>${l()}</style> 
         <button class='anchor'>
            <span id="menu-icon" data-test-id class='menu__button ${n} ' @click=${e=>{t?(this._registerDocumentListener("pointerdown"),this._registerDocumentListener("pointerup")):(this._deregisterDocumentListener("pointerdown"),this._deregisterDocumentListener("pointerup"));const n=this.getBoundingClientRect(),r=[e.x-e.offsetX,e.y-e.offsetY];this.signal(v,{absolute:[n.x,n.y],relative:[n.x-r[0],n.y-r[1]]}),this.signal(p,!t)}} >
            </span>
			${i}
			</button>				      
     </div>`}_getMenuOrFixedNotification(e){const{isCollapsed:t,menuItems:n,anchorPosition:s}=e,{EnvironmentService:c}=a.z.inject("EnvironmentService");if(c.isTouch())return t?(0,h.D)():(0,h.j)(this._getItems(n)),r.s6;const l=s?this._calculateSector(s.absolute):0,d=s?(()=>{const e=l<2?0:-1;return{"--anchor-x":(1===l||2===l?1:0)*(s.relative[0]+35)+"px","--anchor-y":e*(s.relative[1]+35)+"px"}})():{},u={collapsed:t,sector0:0===l,sector1:1===l,sector2:2===l,sector3:3===l};return r.qy`<div class='menu__container ${(0,i.H)(u)}' style=${(0,o.W)(d)}'>
             ${t?"":this._getItems(n)} 
             </div>`}_registerDocumentListener(e){const t=e=>{e.composedPath().includes(this)||this._closeMenu()};this._documentListener[e]=t,document.addEventListener(e,t)}_deregisterDocumentListener(e){document.removeEventListener(e,this._documentListener[e]),this._documentListener[e]=null}_closeMenu(){this._deregisterDocumentListener("pointerdown"),this._deregisterDocumentListener("pointerup");const{EnvironmentService:e}=a.z.inject("EnvironmentService");(e.isTouch()?()=>{(0,h.D)(),this.signal(p,!0)}:()=>this.signal(p,!0))()}_calculateSector(e){const t=.66*window.innerWidth,n=.66*window.innerHeight;return e[0]<=t&&e[1]<=n?0:e[0]>t&&e[1]<=n?1:e[0]>t&&e[1]>n?2:3}_getItems(e){const t=(e,t)=>{const{id:n,label:o,icon:s,action:c,disabled:l}=e,d=n?`menuitem_${n}`:`menuitem_${t}`,{EnvironmentService:u}=a.z.inject("EnvironmentService"),g={touch:u.isTouch()};return r.qy` <button
				id=${d}
				data-test-id
				class="menuitem ${(0,i.H)(g)}"
				?disabled=${l}
				@pointerdown=${()=>{this._deregisterDocumentListener("pointerdown")}}
				@click=${e=>{this._deregisterDocumentListener("pointerdown"),this._deregisterDocumentListener("pointerup"),e.stopPropagation(),this._closeMenu(),c()}}
				@pointerup=${e=>{e.preventDefault(),e.stopPropagation()}}
			>
				${(e=>s?(()=>{const t=`menuitem__icon_${e}`,n=`.${t} { mask : url(${s});-webkit-mask-image : url(${s});mask-size:cover;-webkit-mask-size:cover;}`;return r.qy` <style>
							${n}
						</style>
						<div class="menuitem__icon ${t}"></div>`})():r.qy`<div></div>`)(n||t)}
				<div class="menuitem__text">${o}</div>
			</button>`};return r.qy`<style>
				${u()}</style
			>${e.map(((e,n)=>t(e,n)))}`}set items(e){this.signal(_,e)}set type(e){this.signal(m,e)}static get tag(){return"ba-overflow-menu"}}},69283:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("spinnerProvider",(e=>{switch(e){case"en":return{spinner_text:"Loading"};case"de":return{spinner_text:"Wird geladen"};default:return{}}}));var o=n(36752),a=n(2718),s=n.n(a),c=n(6683),l=n(99990),d=n(34844);const u="update_disabled",g="update_label",h="update_type",p="update_icon";class m extends l.T{constructor(){super({disabled:!1,label:"label",icon:null,type:"secondary"}),this._onClick=()=>{}}onInitialize(){this.setAttribute(d.QE,"")}update(e,t,n){switch(e){case u:return{...n,disabled:t};case g:return{...n,label:t};case h:return{...n,type:t};case p:return{...n,icon:t}}}createView(e){const{disabled:t,label:n,icon:r,type:i}=e,a={primary:"primary"===i,loading:"loading"===i,secondary:"secondary"===i,disabled:t,iconbutton:r},l=`.icon {\n\t\t\tmask : url("${r}");\n\t\t\t-webkit-mask-image : url("${r}");\n\t\t\tmask-size: cover;\n\t\t\t-webkit-mask-size: cover;\n\t\t}`;return o.qy`
			<style>
				${s()}
			</style>
			${r?o.qy`<style>
						${l}
					</style>`:o.s6}
			<button class="button ${(0,c.H)(a)}" ?disabled=${t} @click=${()=>{this._onClick()}}>${r?o.qy`<span class="icon"></span>`:o.s6} ${n}</button>
		`}static get tag(){return"ba-button"}set disabled(e){this.signal(u,e)}get disabled(){return this.getModel().disabled}set type(e){this.signal(h,e)}get type(){return this.getModel().type}set label(e){this.signal(g,e)}get label(){return this.getModel().label}set icon(e){this.signal(p,e)}get icon(){return this.getModel().icon}set onClick(e){this._onClick=e}get onClick(){return this._onClick}}window.customElements.get(m.tag)||window.customElements.define(m.tag,m);var _=n(83076),v=n.n(_);const y="update_label",S="update_title",b="update_icon",f="update_size",w="update_color",M="update_background";class I extends l.T{constructor(){super({label:"",title:"",icon:null,size:.8,color:"var(--text1)",background:"var(--secondary-bg-color)"})}update(e,t,n){switch(e){case y:return{...n,label:t};case S:return{...n,title:t};case b:return{...n,icon:t};case f:return{...n,size:t};case w:return{...n,color:t};case M:return{...n,background:t}}}createView(e){const{color:t,background:n,icon:r,label:i,size:a,title:s}=e,c=`.badge {\n\t\t\t--size: ${a}rem; \n\t\t\tbackground: ${n}; \n\t\t\tcolor: ${t}; \n\t\t\tfont-size: var(--size);\n\t\t}`,l=r?`.icon {\n\t\t\tmask : url("${r}");\n\t\t\t-webkit-mask-image : url("${r}");\n\t\t\tbackground: ${t}; \n\t\t\theight:var(--size);\n\t\t\twidth:var(--size);\n\t\t\tmask-size: cover;\n\t\t}`:"";return o.qy`
			<style>
				${v()}
				${c}
				${l}
			</style>
			<span class="badge" title=${s}>
				${r?o.qy`<span class="icon"></span>`:o.s6}
				<span class="text">${i}</span>
			</span>
		`}static get tag(){return"ba-badge"}set label(e){this.signal(y,e)}get label(){return this.getModel().label}set title(e){this.signal(S,e)}get title(){return this.getModel().title}set icon(e){this.signal(b,e)}get icon(){return this.getModel().icon}set color(e){this.signal(w,e)}get color(){return this.getModel().color}set background(e){this.signal(M,e)}get background(){return this.getModel().background}set size(e){this.signal(f,e)}get size(){return this.getModel().size}}window.customElements.get(I.tag)||window.customElements.define(I.tag,I);var A=n(44430),T=n.n(A),E=n(28353);const L="update_disabled",D="update_checked",x="update_checked_propagate",C="update_indeterminate",N="update_title",z=(e,t,n=null)=>parseInt(window.getComputedStyle(e,n).getPropertyValue(t)),k=e=>{};class j extends l.T{#h={};#p=k;#m=!1;#_=!1;#v=null;constructor(){super({checked:!1,indeterminate:!1,disabled:!1,title:""})}onInitialize(){this.setAttribute(d.QE,"")}update(e,t,n){const r=e=>(e!==n.checked&&(this.dispatchEvent(new CustomEvent("toggle",{detail:{checked:e}})),this.#p(e)),e);switch(e){case x:return{...n,checked:r(t),indeterminate:!1};case D:return{...n,checked:t,indeterminate:!1};case C:return{...n,indeterminate:t};case L:return{...n,disabled:t};case N:return{...n,title:t}}}onAfterRender(e){if(e){const e=this.shadowRoot.querySelector("input"),t=z(e,"width","::before"),n=z(e,"padding-left")+z(e,"padding-right"),r=z(e,"width");this.#h={thumbSize:t,padding:n,bounds:{lower:0,middle:(r-n)/4,upper:r-t/2-n}}}}createView(e){const{checked:t,indeterminate:n,disabled:r,title:i}=e,a=()=>{this._finishPointerAction()},s=e=>{e.target.style.setProperty("--thumb-position",this._calculateThumbPosition(e)),this.#_=!0};return o.qy`
			<style>
				${T()}
			</style>

			<label title="${i}" for="baSwitch" @click=${e=>{const t=e.target,n=t.querySelector("input");this.#m||!t.classList.contains("ba-switch")||n.disabled||(this.signal(x,!n.checked),e.preventDefault())}} class="ba-switch  ${r?"cursor-disabled":""}">
				<slot name="before"></slot>
				<input
					@change=${e=>{const t=e.target.checked;this.signal(x,t)}}
					@pointerdown=${e=>{e.target.disabled||(this.#v=new AbortController,e.target.addEventListener("pointermove",s,{signal:this.#v.signal}),window.addEventListener("pointerup",a,{once:!0}),e.target.style.setProperty("--thumb-transition-duration","0s"),e.target.style.setProperty("--thumb-position",this._calculateThumbPosition(e)))}}
					@pointerup=${a}
					@pointercancel=${()=>{this._finishPointerAction()}}
					@click=${e=>{this.#m&&(e.preventDefault(),e.stopPropagation())}}
					@keydown=${e=>{const t=e.target;t.disabled||" "===e.key&&(this.signal(x,!t.checked),e.preventDefault(),e.stopPropagation())}}
					id="baSwitch"
					type="checkbox"
					role="switch"
					.checked=${t}
					.indeterminate=${n}
					.disabled=${r}
					tabindex="0"
				/>
				<slot name="after"></slot>
				<slot></slot>
			</label>
		`}_finishPointerAction(){if(!this.#v)return;const e=this.shadowRoot.querySelector("input");e.checked=this.#_?this._determineChecked(e):!e.checked,e.style.removeProperty("--thumb-transition-duration"),e.style.removeProperty("--thumb-position"),this.#v.abort(),this.#v=null,this.#_=!1,this.signal(x,e.checked),this._padRelease()}_calculateThumbPosition(e){const{thumbSize:t,bounds:n,padding:r}=this.#h,i=-1===z(e.target,"--isLTR")?-1*e.target.clientWidth+t+r:0,o=((e,t,n)=>{const r=Math.round(e-t/2);return r<n.lower?0:r>n.upper?n.upper:r})(e.offsetX,t,n);return`${i+o}px`}_padRelease(){this.#m=!0,setTimeout((()=>{this.#m=!1}),300)}_determineChecked(e){const{bounds:t}=this.#h;return parseInt(e.style.getPropertyValue("--thumb-position"))>=t.middle}set indeterminate(e){this.signal(C,e)}get indeterminate(){return this.getModel().indeterminate}set title(e){this.signal(N,e)}get title(){return this.getModel().title}set disabled(e){this.signal(L,e)}get disabled(){return this.getModel().disabled}set checked(e){this.signal(D,e)}get checked(){return this.getModel().checked}set onToggle(e){this.#p=e&&(0,E.Tn)(e)?e:k}get onToggle(){return this.#p}static get tag(){return"ba-switch"}click(){this._root.querySelector(".ba-switch").click()}}window.customElements.get(j.tag)||window.customElements.define(j.tag,j);var R=n(42508),P=n.n(R);const O="update_disabled",G="update_checked",U="update_title";class F extends l.T{constructor(){super({checked:!1,disabled:!1,title:""})}onInitialize(){this._onToggle=()=>{},this.addEventListener("click",(e=>{this._click(),e.stopPropagation()})),this.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(this._click(),e.preventDefault(),e.stopPropagation())})),this.setAttribute(d.QE,"")}update(e,t,n){switch(e){case G:return{...n,checked:t};case O:return{...n,disabled:t};case U:return{...n,title:t}}}createView(e){const{title:t,disabled:n,checked:r}=e;return o.qy`
			<style>
				${P()}
			</style>
			<input @change=${e=>{const t=e.target.checked;this.signal(G,t),this.dispatchEvent(new CustomEvent("toggle",{detail:{checked:t}})),this._onToggle(e)}} class="input" id="cbx" type="checkbox" style="display: none;" ?disabled=${n} .checked=${r} />
			<label title="${t}" class="ba-checkbox">
				<span>
					<svg width="100%" height="100%" viewbox="0 0 12 9">
						<polyline points="1 5 4 8 11 1"></polyline>
					</svg>
				</span>
				<span>
					<slot></slot>
				</span>
			</label>
		`}static get tag(){return"ba-checkbox"}_click(){this._root.querySelector("#cbx").click()}set title(e){this.signal(U,e)}get title(){return this.getModel().title}set disabled(e){this.signal(O,e)}get disabled(){return this.getModel().disabled}set checked(e){this.signal(G,e)}get checked(){return this.getModel().checked}set onToggle(e){this._onToggle=e}get onToggle(){return this._onToggle}}window.customElements.get(F.tag)||window.customElements.define(F.tag,F);var $=n(85356),Y=n.n($);const B="update_disabled",H="update_icon",Z="update_size",W="update_color",V="update_hover",Q="update_title";class X extends l.T{constructor(){super({disabled:!1,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctdXAtY2lyY2xlLWZpbGwiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PCEtLU1JVCBMaWNlbnNlLS0+CiAgPHBhdGggZD0iTTE2IDhBOCA4IDAgMSAwIDAgOGE4IDggMCAwIDAgMTYgMHptLTcuNSAzLjVhLjUuNSAwIDAgMS0xIDBWNS43MDdMNS4zNTQgNy44NTRhLjUuNSAwIDEgMS0uNzA4LS43MDhsMy0zYS41LjUgMCAwIDEgLjcwOCAwbDMgM2EuNS41IDAgMCAxLS43MDguNzA4TDguNSA1LjcwN1YxMS41eiIvPgo8L3N2Zz4=",title:"",size:2,color:"var(--primary-color)",color_hover:"var(--primary-color)"}),this._onClick=()=>{}}update(e,t,n){switch(e){case B:return{...n,disabled:t};case H:return{...n,icon:t};case Q:return{...n,title:t};case Z:return{...n,size:t};case W:return{...n,color:t};case V:return{...n,color_hover:t}}}onInitialize(){this.getRenderTarget().addEventListener("click",(e=>{this.getModel().disabled?e.stopPropagation():this._onClick()})),this.setAttribute(d.QE,"")}createView(e){const{size:t,color:n,color_hover:r,icon:i,disabled:a,title:s}=e,l=`.icon {\n\t\t\t--size: ${t}em; \n\t\t\tbackground: ${n}; \n\t\t}`,d=r?`.anchor:hover .icon{\n\t\t\ttransform: scale(1.1);\n\t\t\tbackground: ${r}; \n\t\t}`:"",u=i?`.icon-custom {\n\t\t\tmask : url("${i}");\n\t\t\t-webkit-mask-image : url("${i}");\n\t\t}`:"",g=`.anchor {\n\t\t\t--radius: ${t/2}em;\n\t\t\t--size: ${t}em;\n\t\t}`,h=r!==n?`.anchor:focus-visible  .icon{\n\t\t\ttransform: scale(1.1);\n\t\t\tbackground: ${r};\n\t\t}\n\t\t.anchor:focus-visible {\n\t\t\tbackground: ${n};\t\t\t\n\t\t\tbox-shadow: 0 0 0 .2em var(--primary-color-lighter);\n\t\t}\n\t\t`:"",p={disabled:a};return o.qy`
			<style>
				${l}
				${d}
				${u}
				${Y()}
				${g}
				${h}
			</style>
			<button class="anchor" title=${s}>
				<span class="icon icon-custom ${(0,c.H)(p)}"></span>
			</button>
		`}static get tag(){return"ba-icon"}set onClick(e){this._onClick=e}get onClick(){return this._onClick}set disabled(e){this.signal(B,e)}get disabled(){return this.getModel().disabled}set icon(e){this.signal(H,e)}get icon(){return this.getModel().icon}set size(e){this.signal(Z,e)}get size(){return this.getModel().size}set color(e){this.signal(W,e)}get color(){return this.getModel().color}set color_hover(e){this.signal(V,e)}get color_hover(){return this.getModel().color_hover}set title(e){this.signal(Q,e)}get title(){return this.getModel().title}}window.customElements.get(X.tag)||window.customElements.define(X.tag,X);var K=n(47644),q=n.n(K);const J="update_label";class ee extends l.T{constructor(){super({label:null});const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e}onInitialize(){this.setAttribute(d.QE,"")}update(e,t,n){if(e===J)return{...n,label:t}}createView(e){const{label:t}=e,n=t||(e=>this._translationService.translate("spinner_text"))();return o.qy`
			<style>
				${q()}
			</style>
			<span class="loading">${n}</span>
		`}static get tag(){return"ba-spinner"}set label(e){this.signal(J,e)}get label(){return this.getModel().label}}window.customElements.get(ee.tag)||window.customElements.define(ee.tag,ee);var te=n(34919);window.customElements.get(te.o.tag)||window.customElements.define(te.o.tag,te.o);const ne="update_loaded";class re extends l.T{#y;#S;constructor(){super({loaded:!1})}onInitialize(){this.#S&&n(92662)(`./${this.#S}`).then((()=>{this.signal(ne,!0)}))}update(e,t,n){if(e===ne)return{...n,loaded:t}}createView(e){const{loaded:t}=e;return t?o.qy`${this.#y}`:o.qy`<ba-spinner></ba-spinner>`}set content(e){this.#y=e}set chunkName(e){this.#S=e}static get tag(){return"ba-lazy-load"}}window.customElements.get(re.tag)||window.customElements.define(re.tag,re)},66625:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("dndImportProvider",(e=>{switch(e){case"en":return{dndImport_import_textcontent:"Drop Text-Data or URL here",dndImport_import_filecontent:"Drop KML/GPX/GeoJSON/EWKT file here",dndImport_import_unknown:"Cannot read import-data",dndImport_import_unsupported:"The file-type is not supported",dndImport_import_file_error:"File is not readable",dndImport_import_no_file_found:"File not found",dndImport_import_max_size_exceeded:"Filesize is too large"};case"de":return{dndImport_import_textcontent:"Text oder URL hierhin ziehen",dndImport_import_filecontent:"KML/GPX/GeoJSON/EWKT Datei hierhin ziehen",dndImport_import_unknown:"Die Import-Daten sind unbekannt",dndImport_import_unsupported:"Der Dateityp wird nicht unterstützt",dndImport_import_file_error:"Die Datei kann nicht gelesen werden",dndImport_import_no_file_found:"Die Datei ist leer",dndImport_import_max_size_exceeded:"Die Datei überschreitet die erlaubte Größe"};default:return{}}}));var o=n(36752),a=n(99990),s=n(2277),c=n(97823),l=n.n(c),d=n(6683),u=n(44668),g=n(80009),h=n(20083),p=n(39400),m=n(28353);const _="update_dropzone_content",v="update_modal_changed",y=e=>{e.stopPropagation(),e.preventDefault()};class S extends a.T{#r;#b;constructor(){super({dropzoneContent:null,active:!1,modalActive:!1});const{TranslationService:e,SourceTypeService:t}=r.z.inject("TranslationService","SourceTypeService");this.#r=e,this.#b=t}onInitialize(){document.addEventListener("dragenter",(e=>this._onDragEnter(e))),this.observe((e=>e.modal.active),(e=>this.signal(v,e)))}update(e,t,n){switch(e){case _:return{...n,dropzoneContent:t,active:null!==t};case v:return{...n,modalActive:t}}}createView(e){const t={is_active:e.active};return o.qy`<style>
				${l()}
			</style>
			<div id="dropzone" class="dropzone ${(0,d.H)(t)}" @dragover=${e=>{y(e)}} @dragleave=${e=>{y(e),this.signal(_,null)}} @drop=${e=>{y(e),(e.dataTransfer.types||[]).forEach((t=>{switch(t){case"Files":this._importFile(e.dataTransfer);break;case u.z.TEXT_PLAIN:this._importText(e.dataTransfer)}})),this.signal(_,null)}}>
				${e.dropzoneContent?e.dropzoneContent:o.s6}
			</div> `}_onDragEnter(e){const t=e=>this.#r.translate(e);if(this.getModel().modalActive)return;y(e);const n=e.dataTransfer.types||[],r=n.find((e=>/(files|text\/plain)/i.test(e))),i=r?e=>{const n=e===u.z.TEXT_PLAIN?t("dndImport_import_textcontent"):t("dndImport_import_filecontent");this.signal(_,n)}:()=>{const e=0!==n?.length?t("dndImport_import_unknown"):null;this.signal(_,e)};i(r)}_importOrNotify(e,t){const n=e=>this.#r.translate(e);switch(e.status){case p.$I.OK:t();break;case p.$I.MAX_SIZE_EXCEEDED:(0,s.L)(n("dndImport_import_max_size_exceeded"),s.A.WARN);break;case p.$I.UNSUPPORTED_TYPE:(0,s.L)(n("dndImport_import_unsupported"),s.A.WARN);break;case p.$I.OTHER:(0,s.L)(n("dndImport_import_unknown"),s.A.ERROR)}}_importFile(e){const t=e=>this.#r.translate(e),n=e.files,r=n&&0<n.length?e=>{Array.from(e).forEach((async e=>{try{const t=await this.#b.forBlob(e);this._importOrNotify(t,(()=>(async(e,t)=>{const n=await e.text();(0,g.X)(n,t)})(e,t.sourceType)))}catch(e){(0,s.L)(t("dndImport_import_file_error"),s.A.ERROR)}}))}:()=>{(0,s.L)(t("dndImport_import_no_file_found"),s.A.WARN)};r(n)}_importText(e){const t=e.getData(u.z.TEXT_PLAIN);((0,m.q$)(t)?async e=>{const t=await this.#b.forUrl(e);this._importOrNotify(t,t.sourceType?.name===p.bu.WMS?()=>(0,h.N)(e):()=>(0,g.c)(e,t.sourceType))}:e=>{const t=this.#b.forData(e);this._importOrNotify(t,(()=>(0,g.X)(e,t.sourceType)))})(t)}static get tag(){return"ba-dnd-import-panel"}}window.customElements.get(S.tag)||window.customElements.define(S.tag,S)},19478:(e,t,n)=>{"use strict";n.d(t,{X:()=>y});var r=n(36752),i=n(40068),o=n(18410),a=n(78645),s=n(85919),c=n(10314),l=n.n(c),d=n(48187),u=n(56729),g=n(42376),h=n(28353);const p="update_featureInfo_data",m="update_isPortrait_hasMinWidth",_="update_querying",v=`highlightedFeatureInfoGeometry_${(0,g.Ds)()}`;class y extends s.S{constructor(){super({featureInfoData:[],isPortrait:!1,isQuerying:!1});const{TranslationService:e}=o.z.inject("TranslationService");this._translationService=e,this.observe((e=>e.featureInfo.current),(e=>this.signal(p,[...e]))),this.observe((e=>e.media),(e=>this.signal(m,e.portrait))),this.observe((e=>e.featureInfo.querying),(e=>this.signal(_,e)))}update(e,t,n){switch(e){case p:return{...n,featureInfoData:[...t]};case m:return{...n,isPortrait:t};case _:return{...n,isQuerying:t}}}createView(e){const{featureInfoData:t,isPortrait:n,isQuerying:o}=e,s=e=>this._translationService.translate(e);return r.qy`
			<style>
				${l()}
			</style>
			<div>
				<div class="container  ${n?"is-portrait":"is-landscape"}">
					<ul class="ba-list">
						<li class="ba-list-item  ba-list-inline ba-list-item__header featureinfo-header">
							<span class="ba-list-item__pre" style="position:relative;left:-1em;">
								<ba-icon .icon="${d}" .size=${4} .title=${s("featureInfo_close_button")} @click=${a.pT}></ba-icon>
							</span>
							<span class="ba-list-item__text vertical-center">
								<span class="ba-list-item__main-text" style="position:relative;left:-1em;"> ${s("featureInfo_header")} </span>
							</span>
							<span class="share ba-icon-button ba-list-item__after vertical-center separator" style="padding-right: 1.5em;">
								<ba-icon .icon="${"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktc2hhcmUtZmlsbCI+PHBhdGggZD0iTTExIDIuNWEyLjUgMi41IDAgMSAxIC42MDMgMS42MjhsLTYuNzE4IDMuMTJhMi41IDIuNSAwIDAgMSAwIDEuNTA0bDYuNzE4IDMuMTJhMi41IDIuNSAwIDEgMS0uNDg4Ljg3NmwtNi43MTgtMy4xMmEyLjUgMi41IDAgMSAxIDAtMy4yNTZsNi43MTgtMy4xMkEyLjUgMi41IDAgMCAxIDExIDIuNSIvPjwvc3ZnPjwhLS1NSVQgTGljZW5zZS0tPgo="}" .size=${1.3}></ba-icon>
							</span>
							<span class="print ba-icon-button ba-list-item__after vertical-center separator">
								<ba-icon .icon="${"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcHJpbnRlciI+PHBhdGggZD0iTTIuNSA4YS41LjUgMCAxIDAgMC0xIC41LjUgMCAwIDAgMCAxIi8+PHBhdGggZD0iTTUgMWEyIDIgMCAwIDAtMiAydjJIMmEyIDIgMCAwIDAtMiAydjNhMiAyIDAgMCAwIDIgMmgxdjFhMiAyIDAgMCAwIDIgMmg2YTIgMiAwIDAgMCAyLTJ2LTFoMWEyIDIgMCAwIDAgMi0yVjdhMiAyIDAgMCAwLTItMmgtMVYzYTIgMiAwIDAgMC0yLTJ6TTQgM2ExIDEgMCAwIDEgMS0xaDZhMSAxIDAgMCAxIDEgMXYySDR6bTEgNWEyIDIgMCAwIDAtMiAydjFIMmExIDEgMCAwIDEtMS0xVjdhMSAxIDAgMCAxIDEtMWgxMmExIDEgMCAwIDEgMSAxdjNhMSAxIDAgMCAxLTEgMWgtMXYtMWEyIDIgMCAwIDAtMi0yem03IDJ2M2ExIDEgMCAwIDEtMSAxSDVhMSAxIDAgMCAxLTEtMXYtM2ExIDEgMCAwIDEgMS0xaDZhMSAxIDAgMCAxIDEgMSIvPjwvc3ZnPjwhLS1NSVQgTGljZW5zZS0tPgo="}" .size=${1.5}></ba-icon>
							</span>
						</li>
						${(e=>o?r.qy`<ba-spinner></ba-spinner>`:0===e.length?r.qy`<div class="info-container">
							<div class="info-icon"></div>
							<span class="info-text">${(0,i._)(s("geometryInfo_info"))} </span>
						</div>`:r.s6)(t)}
						${t.map((e=>{return r.qy`
								<li class="ba-section selectable">
									<button
										class="ba-list-item ba-list-item__header ${n=e.geometry,n?"is-geometry":""}"
										@mouseenter=${()=>(e=>{e&&(0,u.lX)({id:v,type:u.pN.MARKER_TMP,data:{geometry:e.data,geometryType:u.v4.GEOJSON}})})(e.geometry)}
										@mouseleave=${()=>(e.geometry,void(0,u.kf)(v))}
									>
										<span class="ba-list-item__text  ba-list-item__primary-text">${e.title}</span>
										<span class="ba-list-item__after">
											<i class="icon icon-rotate-90 chevron iconexpand"></i>
										</span>
									</button>
									<div class="collapse-content divider">${t=e.content,(0,h.qb)(t)?t:r.qy`${(0,i._)(t)}`}</div>
								</li>
							`;var t,n}))}
					</ul>
					<div></div>
				</div>
			</div>
		`}static get tag(){return"ba-feature-info-panel"}}},73971:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("featureInfoProvider",(e=>{switch(e){case"en":return{featureInfo_close_button:"Close",featureInfo_header:"Object Information",geometryInfo_title_coordinate:"Coordinate",geometryInfo_title_azimuth:"Azimuth-angle",geometryInfo_title_line_length:"Distance",geometryInfo_title_polygon_length:"Perimeter",geometryInfo_title_polygon_area:"Area",geometryInfo_info:"No information available.<br>Please click into the <b>map</b>."};case"de":return{featureInfo_close_button:"Schließen",featureInfo_header:"Objekt-Info",geometryInfo_title_coordinate:"Koordinate",geometryInfo_title_azimuth:"Azimuth-Winkel",geometryInfo_title_line_length:"Länge",geometryInfo_title_polygon_length:"Umfang",geometryInfo_title_polygon_area:"Fläche",geometryInfo_info:"Keine Informationen verfügbar.<br>Bitte in die <b>Karte</b> klicken."};default:return{}}}));var o=n(19478),a=n(36752),s=n(40068),c=n(69422),l=n.n(c),d=n(99990);const u="update_statistics",g={coordinate:null,azimuth:null,length:null,area:null};class h extends d.T{constructor(){super({statistics:g});const{CoordinateService:e,UnitsService:t,TranslationService:n}=r.z.inject("CoordinateService","UnitsService","TranslationService");this._translationService=n,this._coordinateService=e,this._unitsService=t}update(e,t,n){if(e===u)return{...n,statistics:t}}createView(e){const t=e=>this._translationService.translate(e),n=(e=>{if(null!=e.coordinate){const e=t("geometryInfo_title_coordinate");return a.qy`<div class="stats-point stats-content" title=${e}></div>`}if(null!=e.length&&null!=e.azimuth){const n=t("geometryInfo_title_azimuth"),r=t("geometryInfo_title_line_length");return a.qy`<div class="stats-line-azimuth stats-content" title=${n}>
						<span>${n}:</span>${e.azimuth.toFixed(2)}°
					</div>
					<div class="stats-line-length stats-content" title=${r}>
						<span>${r}:</span>${this._unitsService.formatDistance(e.length,2)}
					</div>`}if(null!=e.length&&null!=e.area){const n=t("geometryInfo_title_polygon_area"),r=t("geometryInfo_title_line_length");return a.qy`<div class="stats-polygon-length stats-content" title=${r}>
						<span>${r}:</span>${this._unitsService.formatDistance(e.length,2)}
					</div>
					<div class="stats-polygon-area stats-content" title=${n}>
						<span>${n}:</span>${(0,s._)(this._unitsService.formatArea(e.area,2))}
					</div>`}if(null!=e.length){const n=t("geometryInfo_title_line_length");return a.qy`<div class="stats-line-length stats-content" title=${n}>
					<span>${n}:</span>${this._unitsService.formatDistance(e.length,2)}
				</div>`}return null})(e.statistics);return n?a.qy` <style>
						${l()}
					</style>
					<div>
						<div class="stats-container">
							${n}
							<div></div>
						</div>
					</div>`:a.s6}static get tag(){return"ba-geometry-info"}set statistics(e){this.signal(u,e)}}var p=n(78645),m=n(90374),_=n.n(m),v=n(48187),y=n(56729),S=n(42376),b=n(28353);const f="update_featureInfo_data",w=`highlightedFeatureInfoGeometry_${(0,S.Ds)()}`;class M extends d.T{constructor(){super({featureInfoData:[]});const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e,this.observe((e=>e.featureInfo.current),(e=>this.signal(f,[...e])))}update(e,t,n){if(e===f)return{...n,featureInfoData:[...t]}}createView(e){const{featureInfoData:t}=e,n=e=>this._translationService.translate(e);return a.qy`
			<style>
				${_()}
			</style>
			<div>
				<div class="container">
					<ul class="ba-list">
						<li class="ba-list-item  ba-list-inline ba-list-item__header featureinfo-header">
							<span class="ba-list-item__pre" style="position:relative;left:-1em;">
								<ba-icon .icon="${v}" .size=${4} .title=${n("featureInfo_close_button")} @click=${p.pT}></ba-icon>
							</span>
							<span class="ba-list-item__text vertical-center">
								<span class="ba-list-item__main-text" style="position:relative;left:-1em;"> ${n("featureInfo_header")} </span>
							</span>
						</li>
						${t.map((e=>{return a.qy`
								<li class="ba-section">
									<button
										class="ba-list-item ba-list-item__header ${n=e.geometry,n?"is-geometry":""}"
										@mouseenter=${()=>(e=>{e&&(0,y.lX)({id:w,type:y.pN.MARKER_TMP,data:{geometry:e.data,geometryType:y.v4.GEOJSON}})})(e.geometry)}
										@mouseleave=${()=>(e.geometry,void(0,y.kf)(w))}
									>
										<span class="ba-list-item__text  ba-list-item__primary-text">${e.title}</span>
										<span class="ba-list-item__after">
											<i class="icon icon-rotate-90 chevron iconexpand"></i>
										</span>
									</button>
									<div class="collapse-content divider">${t=e.content,(0,b.qb)(t)?t:a.qy`${(0,s._)(t)}`}</div>
								</li>
							`;var t,n}))}
					</ul>
					<div></div>
				</div>
			</div>
		`}static get tag(){return"ba-feature-info-iframe-panel"}}window.customElements.get(o.X.tag)||window.customElements.define(o.X.tag,o.X),window.customElements.get(M.tag)||window.customElements.define(M.tag,M),window.customElements.get(h.tag)||window.customElements.define(h.tag,h)},82494:(e,t,n)=>{"use strict";n.d(t,{w:()=>g});var r=n(36752),i=n(18410),o=n(9923),a=n.n(o),s=n(99990),c=n(6683);const l="update_isOpen_tabIndex",d="update_isPortrait_hasMinWidth",u="update_isOpen_NavigationRail";class g extends s.T{constructor(){super({isOpen:!1,isPortrait:!1,hasMinWidth:!1,isOpenNavigationRail:!1});const{EnvironmentService:e}=i.z.inject("EnvironmentService");this._environmentService=e}onInitialize(){this.observe((e=>e.mainMenu),(e=>this.signal(l,{isOpen:e.open}))),this.observe((e=>e.media),(e=>this.signal(d,{isPortrait:e.portrait,hasMinWidth:e.minWidth}))),this.observe((e=>e.navigationRail),(e=>this.signal(u,{isOpenNavigationRail:e.open})))}update(e,t,n){switch(e){case l:case d:case u:return{...n,...t}}}onWindowLoad(){this._root.querySelector(".preload")?.classList.remove("preload")}createView(e){const{isOpen:t,isOpenNavigationRail:n,isPortrait:i,hasMinWidth:o}=e,s={"is-open":t&&!i&&!this._environmentService.isEmbedded(),"is-open-navigationRail":n&&!i&&!this._environmentService.isEmbedded(),"is-desktop":o,"is-tablet":!o,"is-portrait":i,"is-landscape":!i,"is-embedded":this._environmentService.isEmbedded()};return r.qy`
			<style>
				${a()}
			</style>
			<div class="preload">
				<div class="${(0,c.H)(s)}">
					<div class="footer">
						<div class="scale"></div>
						<ba-attribution-info></ba-attribution-info>
						<div class="content">${r.qy`
				<ba-privacy-policy></ba-privacy-policy>
				<ba-map-info></ba-map-info>
			`}</div>
					</div>
				</div>
			</div>
		`}static get tag(){return"ba-footer"}}},3630:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("coordinateSelectProvider",(e=>{switch(e){case"en":return{footer_coordinate_select:"Choose coordinate system"};case"de":return{footer_coordinate_select:"Koordinatensystem auswählen"};default:return{}}})),i.register("baseLayerInfoProvider",(e=>{switch(e){case"en":return{map_baseLayerInfo_label:"Basemap",map_baseLayerInfo_fallback:"No information available"};case"de":return{map_baseLayerInfo_label:"Basiskarte",map_baseLayerInfo_fallback:"Keine Informationen verfügbar"};default:return{}}})),i.register("privacyPolicyProvider",(e=>{switch(e){case"en":return{footer_privacy_policy_link:"Privacy Policy"};case"de":return{footer_privacy_policy_link:"Datenschutzerklärung"};default:return{}}}));var o=n(36752),a=n(71275),s=n.n(a),c=n(99990);const l="update_pointer_coordinate",d="selected_cr_changed";class u extends c.T{constructor(){super({selectedCr:null,pointerPosition:[]});const{CoordinateService:e,EnvironmentService:t,MapService:n,TranslationService:i}=r.z.inject("CoordinateService","EnvironmentService","MapService","TranslationService");this._coordinateService=e,this._environmentService=t,this._mapService=n,this._translationService=i}update(e,t,n){switch(e){case l:return{...n,pointerPosition:[...t]};case d:return{...n,selectedCr:t}}}onInitialize(){this._items=this._mapService.getCoordinateRepresentations(),this.signal(d,this._items[0]),this.observe((e=>e.pointer.move),(e=>this.signal(l,e.payload.coordinate)),!1)}isRenderingSkipped(){return this._environmentService.isTouch()}createView(e){const{pointerPosition:t,selectedCr:n}=e;return o.qy`
			<style>
				${s()}
			</style>
			<div class="coordinate-container">
				<select class="select-coordinate" @change="${e=>{this.signal(d,this._items.find((t=>t.label===e.target.value)))}}" title="${(e=>this._translationService.translate("footer_coordinate_select"))()}">
					${this._items.map((e=>o.qy`<option class="select-coordinate-option" value="${e.label}">${e.label}</option>`))}
				</select>
				${t.length?o.qy`<div class="coordinate-label">${(()=>{const e=this._mapService.getCoordinateRepresentations(t).filter((e=>e.group===n.group))[0];return e?this._coordinateService.stringify(t,e):" - "})()}</div>`:o.s6}
			</div>
		`}static get tag(){return"ba-coordinate-select"}}window.customElements.get(u.tag)||window.customElements.define(u.tag,u);var g=n(25837),h=n.n(g);class p extends c.T{createView(){return o.qy`
			<style>
				${h()}
			</style>
			<div class="content selectable">
				<div class="base-layer-info">
					<ba-base-layer-info></ba-base-layer-info>
				</div>
				<div class="coordinates">
					<ba-coordinate-select></ba-coordinate-select>
				</div>
			</div>
		`}static get tag(){return"ba-map-info"}}window.customElements.get(p.tag)||window.customElements.define(p.tag,p);const m="update_layers",_="update_zoomLevel";class v extends c.T{constructor(){super({activeLayers:null,zoomLevel:null});const{TranslationService:e,GeoResourceService:t}=r.z.inject("TranslationService","GeoResourceService");this._translationService=e,this._georesourceService=t,this.observe((e=>e.layers.active),(e=>this.signal(m,[...e]))),this.observe((e=>e.position.zoom),(e=>this.signal(_,e)))}update(e,t,n){switch(e){case m:return{...n,activeLayers:[...t]};case _:return{...n,zoomLevel:t}}}createView(e){const t=e=>this._translationService.translate(e),{activeLayers:n,zoomLevel:r}=e,i=(()=>{const e=n[0]?this._georesourceService.byId(n[0].geoResourceId):null;if(e){return e.getAttribution(r).map((e=>e.description)).filter((e=>!!e)).join(", ")||e.label}return null})()??t("map_baseLayerInfo_fallback");return n.length>0?o.qy` <div>${t("map_baseLayerInfo_label")}: ${i}</div> `:o.s6}static get tag(){return"ba-base-layer-info"}}window.customElements.get(v.tag)||window.customElements.define(v.tag,v);var y=n(30785),S=n.n(y);class b extends c.T{constructor(){super();const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e}createView(){const e=e=>this._translationService.translate(e);return o.qy`
			<style>
				${S()}
			</style>
			<div class="privacy_policy-container">
				<a
					class="privacy-policy-link"
					title="${e("footer_privacy_policy_link")}"
					href="${e("global_privacy_policy_url")}"
					target="_blank"
					>${e("footer_privacy_policy_link")}</a
				>
			</div>
		`}static get tag(){return"ba-privacy-policy"}}window.customElements.get(b.tag)||window.customElements.define(b.tag,b);var f=n(82494);window.customElements.get(f.w.tag)||window.customElements.define(f.w.tag,f.w)},60034:(e,t,n)=>{"use strict";n.d(t,{p:()=>c,N:()=>s});var r=n(18410),i=n(44668),o=n(94447);const a=async e=>{const{HttpService:t,ConfigService:n,GeoResourceService:a,BaaCredentialService:s}=r.z.inject("HttpService","ConfigService","GeoResourceService","BaaCredentialService"),l=t=>{throw new Error(`GeoResourceInfoResult for '${e}' could not be loaded: ${t}`)},d=a.byId(e);if(d.isExternal()&&!(d instanceof o.He))return null;const u=d.isExternal()?async r=>{const c=`${n.getValueAsPath("BACKEND_URL")}georesource/info/external/wms`;return t.post(c,(e=>{const t={url:e.url,layers:[...e.layers.split(",")]},n=e.authenticationType===o.Mg.BAA?(t=>{const n=s.get(e.url);return n||l("No credential available"),{...t,...n}})(t):t;return JSON.stringify(n)})(r),i.z.JSON,{timeout:5e3},{response:r.authenticationType===o.Mg.BAA?[]:[a.getAuthResponseInterceptorForGeoResource(e)]})}:async e=>{const r=`${n.getValueAsPath("BACKEND_URL")}georesource/info/${e.id}`;return t.get(r,{timeout:5e3})},g=await u(d);switch(g.status){case 200:{const e=await g.text();return new c(e)}case 204:return null}l(`Http-Status ${g.status}`)};class s{constructor(e=[a]){this._providers=e,this._geoResourceInfoResults=new Map;const{EnvironmentService:t}=r.z.inject("EnvironmentService");this._environmentService=t}async byId(e){if(this._environmentService.isStandalone())return console.warn("GeoResourceInfo could not be fetched from backend. Using a fallback GeoResourceInfo."),this._newFallbackGeoResourceInfo(e);if(!this._geoResourceInfoResults.get(e))try{for(const t of this._providers){const n=await t(e);if(n)return this._geoResourceInfoResults.set(e,n),n}}catch(e){throw new Error("Could not load a GeoResourceInfoResult from provider",{cause:e})}return this._geoResourceInfoResults.get(e)??null}_newFallbackGeoResourceInfo(e){return new c(`This is a fallback GeoResourceInfoResult for '${e}'`,e)}}class c{constructor(e,t=null){this._content=e,this._title=t}get content(){return this._content}get title(){return this._title}}},95515:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("iframeProvider",(e=>{switch(e){case"en":return{iframe_non_embedded_hint:"The BayernAtlas Iframe API must be used in an iframe.",iframe_generator_width:"Width",iframe_generator_height:"Height",iframe_generator_clipboard_success:"The HTML code was copied to the clipboard",iframe_generator_clipboard_error:'"Copy to clipboard" is not available',iframe_generator_toggle_label:"Responsive width",iframe_generator_toggle_text:"The map adjusts to the width of your container.",iframe_generator_toggle_title:"Embedded map will expand to fit the width of its container.",iframe_generator_copy_icon:"Copy to clipboard",iframe_activate_map_button:"Activate map",iframe_view_larger_map_chip:"View in BayernAtlas",iframe_drawTool_label:"Drawing",iframe_drawTool_enable:"Enable the drawing tool",iframe_drawTool_disable:"Disable the drawing tool",iframe_drawTool_symbol:"Point",iframe_drawTool_line:"Line",iframe_drawTool_polygon:"Polygon",iframe_drawTool_cancel:"Cancel",iframe_drawTool_finish:"Finish",iframe_drawTool_delete_point:"Remove point",iframe_drawTool_delete_drawing:"Remove drawing"};case"de":return{iframe_non_embedded_hint:"Die BayernAtlas Iframe API muss über ein Inlineframe-Element eingebunden werden.",iframe_generator_width:"Breite",iframe_generator_height:"Höhe",iframe_generator_clipboard_success:"Der HTML Code wurde in die Zwischenablage kopiert",iframe_generator_clipboard_error:'"In die Zwischenablage kopieren" steht nicht zur Verfügung',iframe_generator_toggle_label:"Responsive Breite",iframe_generator_toggle_text:"Die Karte passt sich der Breite Ihres Containers an.",iframe_generator_toggle_title:"Eingebettete Karte wird sich erweitern, um sich der Breite Ihres Containers anzupassen.",iframe_generator_copy_icon:"In die Zwischenablage kopieren",iframe_activate_map_button:"Karte aktivieren",iframe_view_larger_map_chip:"Im BayernAtlas ansehen",iframe_drawTool_label:"Zeichnen",iframe_drawTool_enable:"Zeichnen aktivieren",iframe_drawTool_disable:"Zeichnen deaktivieren",iframe_drawTool_symbol:"Punkt",iframe_drawTool_line:"Linie",iframe_drawTool_polygon:"Polygon",iframe_drawTool_cancel:"Abbrechen",iframe_drawTool_finish:"Fertig",iframe_drawTool_delete_point:"letzten Punk löschen",iframe_drawTool_delete_drawing:"Zeichnung löschen"};default:return{}}}));var o=n(36752),a=n(2277),s=n(99990),c=n(59834),l=n(96462),d=n.n(l),u=n(34844),g=n(40781),h=n(19366);const p="update_size_width",m="update_size_height",_="update_auto_width",v="update_preview_url",y="100",S=250,b=2e3;class f extends s.T{#r;#s;#f;constructor(){super({size:[800,600],autoWidth:!1,previewUrl:null});const{TranslationService:e,ShareService:t}=r.z.inject("TranslationService","ShareService");this.#r=e,this.#s=t,this.#f=null}update(e,t,n){switch(e){case p:return{...n,size:[t,n.size[1]]};case m:return{...n,size:[n.size[0],t]};case _:return{...n,autoWidth:t};case v:return{...n,previewUrl:t}}}onAfterRender(e){if(e){const e=this.shadowRoot.querySelector("iframe"),t={attributes:!0,childList:!1,subtree:!1};this.#f=new MutationObserver((e=>this.#w(e))),this.#f.observe(e,t)}}onDisconnect(){this.#f?.disconnect(),this.#f=null}createView(e){const t=e=>this.#r.translate(e),{size:n,autoWidth:r,previewUrl:i}=e,[a,s]=n,c=e=>S<=e&&e<=b,l=r?y:a;return o.qy`
		<style>${d()}</style>		
        <div class='container'>
			<div class='iframe__controls'>
				<div class='iframe__controls-section'>					
					<div class="iframe__container">							
						<label for="iframe_height" class="control-label">${t("iframe_generator_height")}</label>			
						<input type="range" id="iframe_slider_height" step=10 min=${S} max=${b} .value=${s} @input=${e=>{this.signal(m,parseInt(e.target.value))}}>
						<div class='iframe__input ba-form-element '>
							<input type="number" id="iframe_height" min=${S} max=${b} .value=${s} @input=${e=>{const t=parseInt(e.target.value);c(t)&&this.signal(m,t)}}></input>
							<i class="bar"></i>
							<span>
								 px		
							</span>
							</div>
					</div>
					${r?o.qy` <div class="iframe__container iframe__container-width">
						<label for="iframe_width" class="control-label">${t("iframe_generator_width")}</label>
						<div class="iframe__input ">
							<div class="iframe__input width_placeholder">${y}</div>
							<span class="width_placeholder-sub"> % </span>
						</div>
					</div>`:o.qy`
					<div class="iframe__container iframe__container-width">		
						<label for="iframe_width" class="control-label">${t("iframe_generator_width")}</label>							
						<input type="range" id="iframe_slider_width" step=10 min=${S} max=${b} .value=${a} @input=${e=>{this.signal(p,parseInt(e.target.value))}}>
						<div class='iframe__input ba-form-element'>
							<input type="number" id="iframe_width" max=${b} .value=${a} min=${S} @input=${e=>{const t=parseInt(e.target.value);c(t)&&this.signal(p,t)}}></input>
							<i class="bar"></i>
							<span>
								px		
							</span>
						</div>
					</div>`}
					<div  class="iframe__container">
						<div class='iframe__toggle'>
							<div class='iframe__toggle_text'>${t("iframe_generator_toggle_label")}
							</div>
						</div>
						<ba-switch 
							id='toggleAutoWidth'  
							class='iframe__toggle_sub-text' 
							.title=${t("iframe_generator_toggle_title")}  
							@toggle=${e=>{this.signal(_,e.detail.checked)}}>
							<span slot="before">${t("iframe_generator_toggle_text")}</span>
						</ba-switch>
					</div>					
					<div class='iframe__controls-section'>
						<div class='iframe__code'>${this.#M(l,s,i)}
						</div>
					</div>
				</div>
			</div>
			<div class='iframe__preview'>${this.#I(l,s)}
			</div>
		</div>
        `}#w(e){for(const t of e)"attributes"===t.type&&t.attributeName===u.oO&&this.signal(v,(0,h.dR)(t.target.getAttribute(u.oO),this.#A()))}#A(){const e={};return e[g.h.EC_MAP_ACTIVATION]=!0,e[g.h.EC_LINK_TO_APP]=!0,e}#I(e,t){const n=this.#s.encodeState(this.#A(),[c.g.EMBED]);return o.qy` <div class="iframe__content">
			<iframe
				data-iframe-encoded-state
				src=${n}
				width=${e===y?y+"%":e+"px"}
				height=${t+"px"}
				loading="lazy"
				referrerpolicy="no-referrer-when-downgrade"
			></iframe>
		</div>`}#M(e,t,n){const r=()=>`<iframe src=${n||this.#s.encodeState(this.#A(),[c.g.EMBED])} width='${e===y?y+"%":e+"px"}' height='${t+"px"}' loading='lazy' frameborder='0' style='border:0'></iframe>`;return o.qy`<textarea class="iframe__code_string" id="iframe_code" name="iframe_code" .value=${r()} readonly></textarea>
			<ba-icon
				class="iframe__copy_icon"
				id="iframe_code_copy"
				.icon="${"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktY2xpcGJvYXJkIj48IS0tTUlUIExpY2Vuc2UtLT48cGF0aCBkPSJNNCAxLjVIM2EyIDIgMCAwIDAtMiAyVjE0YTIgMiAwIDAgMCAyIDJoMTBhMiAyIDAgMCAwIDItMlYzLjVhMiAyIDAgMCAwLTItMmgtMXYxaDFhMSAxIDAgMCAxIDEgMVYxNGExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVYzLjVhMSAxIDAgMCAxIDEtMWgxeiIvPjxwYXRoIGQ9Ik05LjUgMWEuNS41IDAgMCAxIC41LjV2MWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXYtMWEuNS41IDAgMCAxIC41LS41em0tMy0xQTEuNSAxLjUgMCAwIDAgNSAxLjV2MUExLjUgMS41IDAgMCAwIDYuNSA0aDNBMS41IDEuNSAwIDAgMCAxMSAyLjV2LTFBMS41IDEuNSAwIDAgMCA5LjUgMHoiLz48L3N2Zz4K"}"
				.title=${(e=>this.#r.translate("iframe_generator_copy_icon"))()}
				.size=${2}
				@click=${async()=>this.#T(r())}
			>
			</ba-icon>`}async#T(e){try{await this.#s.copyToClipboard(e),(0,a.L)(`${this.#r.translate("iframe_generator_clipboard_success")}`,a.A.INFO)}catch(e){console.warn("Clipboard API not available"),(0,a.L)(`${this.#r.translate("iframe_generator_clipboard_error")}`,a.A.WARN)}}static get tag(){return"ba-iframe-generator"}}class w extends s.T{constructor(){super();const{EnvironmentService:e,TranslationService:t}=r.z.inject("EnvironmentService","TranslationService");this._environmentService=e,this._translationService=t}onWindowLoad(){this._environmentService.isEmbeddedAsIframe()&&this._environmentService.getWindow().location===this._environmentService.getWindow().parent.location&&(document.body.innerHTML=`<div style="text-align: center; color:#099dda; padding: 20px">${(e=>this._translationService.translate(e))("iframe_non_embedded_hint")}</div>`)}isRenderingSkipped(){return!0}static get tag(){return"ba-nonembedded-hint"}}var M=n(69716),I=n(82494),A=n(16438),T=n.n(A);class E extends s.T{constructor(){super();const{EnvironmentService:e,TranslationService:t}=r.z.inject("EnvironmentService","TranslationService");this._environmentService=e,this._translationService=t}onInitialize(){if(this._isVisible()){const e=()=>`\n\t\t\t\tbody *:not(\n\t\t\t\t${E.tag},\n\t\t\t\t${M._.tag},\n\t\t\t\t${I.w.tag}\n\n\t\t\t\t) {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\t\t\t\t\t\n\t\t\t\tba-footer{\n\t\t\t\t\t--text3: transparent;\n\t\t\t\t\t--secondary-color: transparent;\t\t\n\t\t\t\t\t--z-mapbuttons: calc(var(--z-disableall) + 1);\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t`;if(!document.getElementById(E.STYLE_ID)){const t=document.createElement("style");t.innerHTML=e(),t.id=E.STYLE_ID,document.head.appendChild(t)}}}createView(){return o.qy`
			<style>
				${T()}
			</style>
			<div id="background" class="active-map__background">
				<div class="active-map__button">
					<ba-button .type=${"primary"} .label=${(e=>this._translationService.translate("iframe_activate_map_button"))()} @click=${()=>{document.getElementById(E.STYLE_ID).remove(),this.shadowRoot.getElementById("background").classList.add("hide")}}></ba-button>
				</div>
			</div>
		`}isRenderingSkipped(){return!this._isVisible()}_isVisible(){return!!this._environmentService.getQueryParams().get(g.h.EC_MAP_ACTIVATION)&&"false"!==this._environmentService.getQueryParams().get(g.h.EC_MAP_ACTIVATION)}static get tag(){return"ba-activate-map-button"}static get STYLE_ID(){return"activate_map_commons_kkfjrutmfjhwwww"}}const L="data:image/svg+xml;base64,PCEtLUdlbmVyYXRlZCBieSBJY29Nb29uLmlvLS0+PCEtLU1JVCBMaWNlbnNlLS0+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTQuMzQzLS4wMSAyLjMwNSAyLjM2NS43NSAyLjM4NmwuNDIgMi4xNjUuNzc4LS43OTkgMi4yMDcgMS4wOTMuMTg5IDEuODQ5Ljk2Ny45NDYuMTA1IDEuNTc2LTEuNzAyIDEuMzQ1LjM3OCAyLjkyMS0xLjQ1LjcxNSAxLjgyNyAxLjU0NC43NTgtMS41ODYgMS44MDcuODYyIDMuNzYyLTEuNTEzIDIuNDUxIDEuMTgyLTEuMDU1LTMuMDI0IDIuMjQtMS4zNDIuMDIxLS44MDkgMS4xMTQtLjAyMVY4LjMxM2wtMi43MzItMi4wNDktMS4zNDUtMi4wNy4xNjgtMS4xOTgtMS41NTUtMS44MDdIOC45ODlMOC4zNjkuMzkgNy43NyAxLjM5OWwtLjk2Ny0uMjk0LS44MTkuNzE1eiIvPjwvc3ZnPgo=";var D=n(25373),x=n.n(D);const C="update_state_for_encoding";class N extends s.T{#E;constructor(){super({href:""});const{EnvironmentService:e,TranslationService:t,ShareService:n}=r.z.inject("EnvironmentService","TranslationService","ShareService");this._translationService=t,this._environmentService=e,this._shareService=n}onInitialize(){this.#E=this._environmentService.getQueryParams().get(g.h.EC_LINK_TO_APP)&&"false"!==this._environmentService.getQueryParams().get(g.h.EC_LINK_TO_APP),this.observe((e=>e.stateForEncoding.changed),(()=>{const e=this._shareService.encodeState();this.signal(C,e)}))}update(e,t,n){if(e===C)return{...n,href:t}}createView(e){if(this.#E&&this._environmentService.isEmbedded()){const{href:t}=e,n=e=>this._translationService.translate(e),r=`.chips__icon {\t\n\t\t\t\tmask-size:cover;\n\t\t\t\tmask : url("${L}");\t\t\t\n\t\t\t\t-webkit-mask-image : url("${L}");\t\t\t\n\t\t\t\t-webkit-mask-size:cover;\t\t\t\n\t\t\t}`;return o.qy` <style>
					${r}
						${x()}
				</style>
				<a class="chips__button" href=${t} target="_blank">
					<span class="chips__icon"></span>
					<span class="chips__button-text">${n("iframe_view_larger_map_chip")}</span>
				</a>`}return o.s6}static get tag(){return"ba-view-larger-map-chip"}}var z=n(6683),k=n(64935),j=n(39447);const R="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmkteC1sZyI+PHBhdGggZD0iTTEuMjkzIDEuMjkzYTEgMSAwIDAgMSAxLjQxNCAwTDggNi41ODZsNS4yOTMtNS4yOTNhMSAxIDAgMSAxIDEuNDE0IDEuNDE0TDkuNDE0IDhsNS4yOTMgNS4yOTNhMSAxIDAgMCAxLTEuNDE0IDEuNDE0TDggOS40MTRsLTUuMjkzIDUuMjkzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNEw2LjU4NiA4IDEuMjkzIDIuNzA3YTEgMSAwIDAgMSAwLTEuNDE0Ii8+PC9zdmc+Cg==";var P=n(47963),O=n.n(P),G=n(79545),U=n(65394);const F="update",$="update_tools",Y="update_visible_tools";class B extends s.T{#L=!0;constructor(){super({active:!1,type:null,mode:null,validGeometry:null,tools:null});const{TranslationService:e,EnvironmentService:t}=r.z.inject("TranslationService","EnvironmentService");this._translationService=e,this._environmentService=t,this.signal($,this._buildTools())}onInitialize(){const e=this._environmentService.getQueryParams().get(g.h.EC_DRAW_TOOL);this.#L=!e,this.signal(Y,e?e.split(",").map((e=>e.toLowerCase())):[]),this.observe((e=>e.draw),(e=>this.signal(F,e)))}update(e,t,n){const r=(e,t)=>e.map((e=>({...e,active:e.name===t})));switch(e){case F:return{...n,active:!!t.active&&t.active,type:t.type?t.type:null,mode:t.mode?t.mode:null,validGeometry:t.validGeometry?t.validGeometry:null,tools:r(n.tools,t.type)};case $:return{...n,tools:t};case Y:return{...n,tools:(i=n.tools,o=t,a=o,i.some((e=>a.includes(e.name)))?i.map((e=>({...e,visible:o.includes(e.name)}))):i)}}var i,o,a}isRenderingSkipped(){return this.#L}createView(e){const{active:t,tools:n}=e;this._showActive(n);const r=e=>this._translationService.translate(e),i=this._getIcons(e);return this._environmentService.isEmbedded()?o.qy`
			<style>
				${O()}
			</style>
			<div class="draw-tool">
				<div class="draw-tool__content ${t?"draw-tool__enable":"draw-tool__disable"}">
					<div class="draw-tool__toggle">
						<ba-button
							class="draw-tool__enable-button"
							.type=${"primary"}
							.icon=${"data:image/svg+xml;base64,PCEtLUdlbmVyYXRlZCBieSBJY29Nb29uLmlvLS0+PCEtLU1JVCBMaWNlbnNlLS0+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiMwOTlkZGMiIGQ9Im00Mi41MjggOTcwLjAzMyAxMjEuNTQ1LTMwNi40MjlMODAzLjk0MSA1OC4yNjdsMTkzLjgwMSAxNzIuNzY1LTYzNi43OSA2MTIuODU0eiIgb3BhY2l0eT0iLjIiLz48cGF0aCBmaWxsPSIjMDk5ZGRhIiBkPSJNNzkwLjg4OCAzMS42NDRjLTYuNDA2IDAtMTIuMjE5IDIuNDc4LTE2LjM4IDYuNTc5bC02MTkuNTIgNjEwLjU2MmMtMi4yMTMgMi4yMjgtNC4wMiA0LjY5OS01LjE4MSA3LjU2TDI2LjA0MiA5NjEuNDE0Yy0xLjA5NiAyLjYxLTEuNjggNS42MjUtMS42OCA4LjU0MSAwIDEyLjM4NCAxMC4xNjQgMjIuNDAxIDIyLjk2MiAyMi40MDEgMy4wNjggMCA1Ljk2OC0uNTM3IDguNC0xLjUzOWwuMTQxLS4xNDUgMzA4LjI5MS0xMjEuMzhhNy44IDcuOCAwIDAgMSAxLjYyNC0uODIxbC4wNTYtLjAxOWEyMy4zIDIzLjMgMCAwIDAgNy41Ni00Ljg5OXYuMTQ1bDYxOS42NjEtNjEwLjU2M2M0LjE5OS00LjEzNyA2LjU3OS05LjYwOCA2LjU3OS0xNS44MjJzLTIuNDMxLTExLjg2OS02LjU3OS0xNS45Nkw4MDcuMTI5IDM4LjIyN2MtNC4yMTItNC4xNS05LjgzMy02LjU3OS0xNi4yNDItNi41Nzl6bS0uNTU2IDU3LjU0M2E4LjA1IDguMDUgMCAwIDEgNi4yOTkgMi4zNzhsLjAwMS4wMDFMOTM4LjU5OCAyMzEuNTdhOC4wNSA4LjA1IDAgMCAxIDIuMzIyIDUuNjcxYzAgMi4yOC0uOTQ1IDQuMzQxLTIuNDY0IDUuODA4bC0uMDAyLjAwMi04MC4wODIgNzguODIyYy0xLjQ1MSAxLjM5Ni0zLjQyNSAyLjI1NC01LjYwMSAyLjI1NHMtNC4xNS0uODYxLTUuNjAzLTIuMjU3bC4wMDIuMDAyLTE0Mi4xMDEtMTM5Ljg2NmMtMS40NzctMS40NjYtMi4zOTMtMy40OTYtMi4zOTMtNS43MzlzLjkxNi00LjI3NiAyLjM5My01LjczOGwuMDAxLS4wMDEgODAuMjIzLTc4Ljk2M2E4LjA1IDguMDUgMCAwIDEgNS4wMS0yLjM3N3pNNjY2LjI4NSAyMTEuMjY5YTguMDUgOC4wNSAwIDAgMSA2LjE1OSAyLjM3OGwuMDAxLjAwMSAxNDIuMTA0IDE0MC4wMDRjMS40NzcgMS40NjYgMi4zOTMgMy40OTYgMi4zOTMgNS43MzlzLS45MTYgNC4yNzYtMi4zOTMgNS43MzhsLS4wMDEuMDAxLTQwMi42NTQgMzk2Ljc3M2E4LjA1IDguMDUgMCAwIDEtNS41OTQgMi4zNzloLTE4LjI0OWE4LjA3NiA4LjA3NiAwIDAgMS04LjA3Ny04LjA3N3YtLjA0My4wMDItMzAuNTIyYzAtMTIuNDI4LTEwLjAyMy0yMi40MDEtMjIuODIxLTIyLjQwMWgtMzEuMTIxYTguMDc2IDguMDc2IDAgMCAxLTguMDc3LTguMDc3di0uMDQzLjAwMi0zMC41MjJjMC0xMi40MjgtMTAuMDIzLTIyLjQwMS0yMi44MjEtMjIuNDAxaC0zMC45ODNhOC4wNzYgOC4wNzYgMCAwIDEtOC4wNzctOC4wNzd2LS4wNDMuMDAyLTE3LjkyMmE4LjA1IDguMDUgMCAwIDEgMi41MTYtNS43MzVsLjAwNC0uMDA0IDQwMi42NTMtMzk2Ljc3M2E4LjA1IDguMDUgMCAwIDEgNS4wMS0yLjM3N2wuMDMtLjAwMnpNMjA0LjI3IDY2Ny4xMjVhOC4wOCA4LjA4IDAgMCAxIDcuMTE4IDQuNDM0bC4wMjIuMDQ1LjE0MS4yNzljLjA4NS4xNzcuMTc5LjQwOC4yNjQuNjQ2bC4wMTkuMDU2YzMuMjc1IDguNDMxIDExLjM5NiAxNC40MjEgMjEuMjgyIDE0LjQyMWgzMS4xMjFhOC4wNzYgOC4wNzYgMCAwIDEgOC4wNzcgOC4wNzd2LjA0MS0uMDAyIDMwLjUyMmMwIDEyLjQyOCAxMC4wMjMgMjIuNDAxIDIyLjgyMSAyMi40MDFoMzAuOTgzYTguMDc2IDguMDc2IDAgMCAxIDguMDc3IDguMDc3di4wNDMtLjAwMiAzMC41MjJjMCA5LjU1NyA1Ljk3NCAxNy42NjMgMTQuODQxIDIxIDMuMTIzIDEuMTY2IDUuMzA4IDQuMTIxIDUuMzA4IDcuNTg5YTguMDUgOC4wNSAwIDAgMS0yLjM2NyA1LjcxM2wtNi41NzkgNi41NzlhOC4xIDguMSAwIDAgMS0yLjc0NCAxLjgwMWwtLjA1NS4wMi0yMzYuNzQ3IDkzLjI0M2E4IDggMCAwIDEtMi45MDEuNTM5IDguMDc2IDguMDc2IDAgMCAxLTguMDc3LTguMDc3YzAtMS4xMTguMjI3LTIuMTg1LjYzNy0zLjE1MmwtLjAyMS4wNTIgOTQuNjQ0LTIzMy4yNDdhOC4xIDguMSAwIDAgMSAxLjY4NC0yLjY2NWw2LjU3NS02LjU3NWE4LjA2IDguMDYgMCAwIDEgNS44ODgtMi4zNzloLS4wMDh6Ii8+PC9zdmc+Cg=="}
							.label=${r("iframe_drawTool_enable")}
							@click=${()=>(0,G.i)(U.S.DRAW)}
						></ba-button>
						<ba-icon id="close-icon" class='tool-container__close-button draw-tool__disable-button' .icon='${R}' .size=${1.6} .color=${"var(--text2)"} .color_hover=${"var(--text2)"} @click=${()=>(0,G.i)(null)}>						
					</div>
					<div class="draw-tool-container">
						<div class="ba-tool-container__title">${r("iframe_drawTool_label")}</div>
						<div class="draw-tool__buttons">
							${(0,k.u)(n.filter((e=>e.visible)),(e=>e.id),(e=>(e=>{const n={"is-active":e.active,"is-enabled":t};return o.qy`
				<button
					id=${e.name+"-button"}
					data-test-id
					class="draw-tool__button ${(0,z.H)(n)}"
					?disabled=${!t}
					title=${e.title}
					@click=${()=>{e.active?e.deactivate():e.activate()}}
				>
					<div class="draw-tool__background"></div>
					<div class="draw-tool__icon ${e.icon}"></div>
					<div class="draw-tool__button-text">${e.title}</div>
				</button>
			`})(e)))}
						</div>
						<div class="draw-tool__actions">${i}</div>
					</div>
				</div>
			</div>
		`:o.s6}_buildTools(){const e=e=>this._translationService.translate(e);return[{id:1,name:"point",active:!1,title:e("iframe_drawTool_symbol"),icon:"symbol",visible:!0,activate:()=>(0,j.dv)("point"),deactivate:()=>(0,j.cL)()},{id:2,name:"line",active:!1,title:e("iframe_drawTool_line"),icon:"line",visible:!0,activate:()=>(0,j.dv)("line"),deactivate:()=>(0,j.cL)()},{id:3,name:"polygon",active:!1,title:e("iframe_drawTool_polygon"),icon:"polygon",visible:!0,activate:()=>(0,j.dv)("polygon"),deactivate:()=>(0,j.cL)()}]}_getActiveTool(e){return e.tools.find((e=>e.active))}_showActive(e){e.forEach((e=>{const t=this._root.querySelector(`#${e.name}-button`);t&&(e.active?t.classList.add("is-active"):t.classList.remove("is-active"))}))}_getIcons(e){const t=e=>this._translationService.translate(e),{mode:n,validGeometry:r}=e,i=this._getActiveTool(e),a=i?i.name:"noTool",s=["draw","modify"].includes(n),c="draw"===n&&["polygon","line"].includes(a)&&r;return(()=>{const e={finish:{id:"finish",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktY2hlY2stbGciPjwhLS1NSVQgTGljZW5zZS0tPjxwYXRoIGQ9Ik0xMy40ODUgMS40MzFhMS40NzMgMS40NzMgMCAwIDEgMi4xMDQgMi4wNjJsLTcuODQgOS44MDFhMS40NzMgMS40NzMgMCAwIDEtMi4xMi4wNEwuNDMxIDguMTM4YTEuNDczIDEuNDczIDAgMCAxIDIuMDg0LTIuMDgzbDQuMTExIDQuMTEyIDYuODItOC42OS4wNC0uMDQ1eiIvPjwvc3ZnPgo=",title:t("iframe_drawTool_finish"),onClick:()=>(0,j.O9)(),disabled:"draw"!==n},cancel:{id:"cancel",icon:R,title:t("iframe_drawTool_cancel"),onClick:()=>(0,j.cL)(),disabled:"draw"!==n},undo:{id:"undo",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctY291bnRlcmNsb2Nrd2lzZSI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCAzYTUgNSAwIDEgMS00LjU0NiAyLjkxNC41LjUgMCAwIDAtLjkwOC0uNDE3QTYgNiAwIDEgMCA4IDJ6Ii8+PHBhdGggZD0iTTggNC40NjZWLjUzNGEuMjUuMjUgMCAwIDAtLjQxLS4xOTJMNS4yMyAyLjMwOGEuMjUuMjUgMCAwIDAgMCAuMzg0bDIuMzYgMS45NjZBLjI1LjI1IDAgMCAwIDggNC40NjYiLz48L3N2Zz4K",title:t("iframe_drawTool_delete_point"),onClick:()=>(0,j.TF)(),disabled:!s},remove:{id:"remove",icon:R,title:t("iframe_drawTool_delete_drawing"),onClick:()=>(0,j.TF)(),disabled:!s}};return[r?e.finish:e.cancel,c?e.undo:e.remove]})().map((e=>((e,t,n,r)=>{const i={"is-disabled":r};return o.qy`<ba-button
				id=${e+"_icon"}
				class=${(0,z.H)(i)}
				.title=${t}
				.label=${t}
				.disabled=${r}
				@click=${n}
			></ba-button>`})(e.id,e.title,e.onClick,e.disabled)))}static get tag(){return"ba-draw-tool"}}var H=n(63690),Z=n.n(H);const W="update_modal_data";class V extends s.T{constructor(){super({content:null,active:!1});const{EnvironmentService:e}=r.z.inject("EnvironmentService");this._environmentService=e}onInitialize(){this.observe((e=>e.iframeContainer),(e=>this.signal(W,e)))}update(e,t,n){if(e===W)return{...n,content:t.content,active:t.active}}createView(e){const{active:t,content:n}=e;return t?o.qy`
				<style>
					${Z()}
				</style>
				<div class="container">${n}</div>
			`:o.s6}isRenderingSkipped(){return!this._environmentService.isEmbedded()}static get tag(){return"ba-iframe-container"}}window.customElements.get(f.tag)||window.customElements.define(f.tag,f),window.customElements.get(w.tag)||window.customElements.define(w.tag,w),window.customElements.get(E.tag)||window.customElements.define(E.tag,E),window.customElements.get(N.tag)||window.customElements.define(N.tag,N),window.customElements.get(B.tag)||window.customElements.define(B.tag,B),window.customElements.get(V.tag)||window.customElements.define(V.tag,V)},38071:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("infoButtonProvider",(e=>{switch(e){case"en":return{map_infoButton_title:"Information",map_infoButton_help:"Help",map_infoButton_contact:"Contact",map_infoButton_about:"About us"};case"de":return{map_infoButton_title:"Information",map_infoButton_help:"Hilfe",map_infoButton_contact:"Kontakt",map_infoButton_about:"Impressum"};default:return{}}})),i.register("zoomButtonsProvider",(e=>{switch(e){case"en":return{map_zoomButtons_in:"Zoom in",map_zoomButtons_out:"Zoom out",map_zoomButtons_extent:"Zoom to full extent"};case"de":return{map_zoomButtons_in:"Vergrößere Kartenausschnitt",map_zoomButtons_out:"Verkleinere Kartenausschnitt",map_zoomButtons_extent:"Ganz Bayern anzeigen"};default:return{}}})),i.register("geolocationButtonProvider",(e=>{switch(e){case"en":return{map_geolocationButton_title_activate:"Activate geolocation",map_geolocationButton_title_deactivate:"Deactivate geolocation",map_geolocationButton_title_denied:"Geolocation not allowed or not possible"};case"de":return{map_geolocationButton_title_activate:"Ortung einschalten",map_geolocationButton_title_deactivate:"Ortung ausschalten",map_geolocationButton_title_denied:"Ortung nicht erlaubt oder nicht möglich"};default:return{}}})),i.register("contextMenuProvider",(e=>{switch(e){case"en":return{map_contextMenu_header:"Location",map_contextMenu_close_button:"Close",map_contextMenuContent_elevation_label:"Elev.",map_contextMenuContent_community_label:"Community",map_contextMenuContent_district_label:"District",map_contextMenuContent_copy_icon:"Copy to clipboard",map_contextMenuContent_clipboard_error:'"Copy to clipboard" is not available',map_contextMenuContent_clipboard_success:"was copied to clipboard"};case"de":return{map_contextMenu_header:"Position",map_contextMenu_close_button:"Schließen",map_contextMenuContent_elevation_label:"Höhe",map_contextMenuContent_community_label:"Gemeinde",map_contextMenuContent_district_label:"Gemarkung",map_contextMenuContent_copy_icon:"In die Zwischenablage kopieren",map_contextMenuContent_clipboard_error:'"In die Zwischenablage kopieren" steht nicht zur Verfügung',map_contextMenuContent_clipboard_success:"wurde in die Zwischenablage kopiert"};default:return{}}})),i.register("attributionInfoProvider",(e=>{switch(e){case"en":return{map_attributionInfo_label:"Data",map_attributionInfo_collapse_title_open:"Show all",map_attributionInfo_collapse_title_close:"Close"};case"de":return{map_attributionInfo_label:"Daten",map_attributionInfo_collapse_title_open:"Alle anzeigen",map_attributionInfo_collapse_title_close:"Schließen"};default:return{}}})),i.register("rotationButtonProvider",(e=>{switch(e){case"en":return{map_rotationButton_title:"Reset rotation to north"};case"de":return{map_rotationButton_title:"Karte wieder nach Norden ausrichten"};default:return{}}}));var o=n(36752),a=n(64668),s=n.n(a),c=n(83245),l=n(99990);class d extends l.T{constructor(){super();const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e}createView(){const e=e=>this._translationService.translate(e);return o.qy`
			<style>${s()}</style>
			<div class="zoom-buttons">
				<button class="button" title="${e("map_zoomButtons_in")}" @click="${c.oi}"><span class="icon zoom-in"></button>
				<button class="button" title="${e("map_zoomButtons_out")}"  @click="${c.e1}"><span class="icon zoom-out"></button>
			</div>
		`}static get tag(){return"ba-zoom-buttons"}}var u=n(25049),g=n(19304),h=n.n(g);class p extends u.A{constructor(){super();const{TranslationService:e,MapService:t}=r.z.inject("TranslationService","MapService");this._translationService=e,this._mapService=t}createView(){const e=()=>this._mapService.getDefaultMapExtent();return o.qy`
			<style>
				${h()}
			</style>
			<div class="zoom-to-extent">
				<button class="zoom-to-extent-button" @click=${()=>{(0,c.BY)(e(),{useVisibleViewport:!1})}} title="${(e=>this._translationService.translate("map_zoomButtons_extent"))()}">
					<i class="icon zoom-to-extent-icon"></i>
				</button>
			</div>
		`}static get tag(){return"ba-extent-button"}}window.customElements.get(d.tag)||window.customElements.define(d.tag,d),window.customElements.get(p.tag)||window.customElements.define(p.tag,p);var m=n(63332),_=n.n(m);const v="update_isPortrait_hasMinWidth";class y extends l.T{constructor(){super({isPortrait:!1,hasMinWidth:!1});const{EnvironmentService:e}=r.z.inject("EnvironmentService");this._environmentService=e}update(e,t,n){if(e===v)return{...n,...t}}onInitialize(){this.observe((e=>e.media),(e=>this.signal(v,{isPortrait:e.portrait,hasMinWidth:e.minWidth})))}createView(e){const{isPortrait:t,hasMinWidth:n}=e;return o.qy`
			<style>
				${_()}
			</style>
			<div class="map-buttons-container ${t?"is-portrait":"is-landscape"} ${n?"is-desktop":"is-tablet"} ${(()=>this._environmentService.isEmbedded()?"is-embedded":"")()}">
				<ba-rotation-button></ba-rotation-button>
				<ba-geolocation-button></ba-geolocation-button>
				<ba-zoom-buttons></ba-zoom-buttons>
				<ba-extent-button></ba-extent-button>
			</div>
		`}static get tag(){return"ba-map-button-container"}}window.customElements.get(y.tag)||window.customElements.define(y.tag,y);var S=n(59540),b=n.n(S),f=n(6683),w=n(52957);const M="update_active",I="update_denied";class A extends l.T{constructor(){super({active:!1,denied:!1});const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e}onInitialize(){this.observe((e=>e.geolocation.active),(e=>this.signal(M,e))),this.observe((e=>e.geolocation.denied),(e=>this.signal(I,e)))}update(e,t,n){switch(e){case M:return{...n,active:t};case I:return{...n,denied:t}}}createView(e){const{active:t,denied:n}=e,r={inactive:!t,active:t,denied:n};return o.qy`
			<style>
				${b()}
			</style>
			<div class="geolocation">
				<button class="geolocation-button ${(0,f.H)(r)}" @click=${()=>{t?(0,w.LU)():(0,w.Yf)()}} title=${(e=>this._translationService.translate(e))(t?"map_geolocationButton_title_deactivate":n?"map_geolocationButton_title_denied":"map_geolocationButton_title_activate")}>
					<i class="icon geolocation-icon"></i>
				</button>
			</div>
		`}static get tag(){return"ba-geolocation-button"}}window.customElements.get(A.tag)||window.customElements.define(A.tag,A);var T=n(12378),E=n(49208),L=n.n(E),D=n(50567);const x="update";class C extends l.T{#r;#D;constructor(){super({coordinate:null,content:null});const{TranslationService:e,StoreService:t}=r.z.inject("TranslationService","StoreService");this.#r=e,this.#D=e=>{"Escape"!==e.key||t.getStore().getState().modal.active||(e.preventDefault(),(0,D.Z_)())}}onInitialize(){this.observe((e=>e.mapContextMenu),(e=>this.signal(x,e))),this.observeModel(["coordinate"],(e=>{e?document.addEventListener("keydown",this.#D):this.#x()}))}#x(){document.removeEventListener("keydown",this.#D)}onDisconnect(){this.#x()}update(e,t){const{coordinate:n,content:r}=t;if(e===x)return{coordinate:n,content:r}}_calculateSector(e){const t=.5*window.innerWidth,n=.5*window.innerHeight;return e[0]<=t&&e[1]<=n?0:e[0]>t&&e[1]<=n?1:e[0]>t&&e[1]>n?2:3}createView(e){const t=e=>this.#r.translate(e),{coordinate:n,content:r}=e;if(!n||!r)return o.s6;const i=this._calculateSector(n),a=20*(i<2?1:-1),s={"--mouse-x":n[0]+"px","--mouse-y":n[1]+a+"px"},c="sector-"+i;return o.qy` <style>
				${L()}
			</style>
			<div class="context-menu ${c}" style=${(0,T.W)(s)}>
				<div class="header">
					${t("map_contextMenu_header")}<ba-icon
						class="close-icon"
						.icon="${"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmkteC1sZyI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTMuODU0IDIuMTQ2YS41LjUgMCAwIDEgMCAuNzA4bC0xMSAxMWEuNS41IDAgMCAxLS43MDgtLjcwOGwxMS0xMWEuNS41IDAgMCAxIC43MDggMCIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIuMTQ2IDIuMTQ2YS41LjUgMCAwIDAgMCAuNzA4bDExIDExYS41LjUgMCAwIDAgLjcwOC0uNzA4bC0xMS0xMWEuNS41IDAgMCAwLS43MDggMCIvPjwvc3ZnPgo="}"
						.title=${t("map_contextMenu_close_button")}
						.size=${1.5}
						.color=${"var(--text2)"}
						.color_hover=${"var(--text2)"}
						@click=${D.Z_}
					></ba-icon>
				</div>
				${r}
			</div>`}static get tag(){return"ba-map-context-menu"}}var N=n(58349),z=n.n(N),k=n(2277);const j="update_coordinate",R="update_elevation",P="update_administration";class O extends l.T{constructor(){super({coordinate:null,elevation:null,administration:{community:null,district:null}});const{MapService:e,CoordinateService:t,TranslationService:n,ShareService:i,ElevationService:o,AdministrationService:a}=r.z.inject("MapService","CoordinateService","TranslationService","ShareService","ElevationService","AdministrationService");this._mapService=e,this._coordinateService=t,this._translationService=n,this._shareService=i,this._elevationService=o,this._administrationService=a}update(e,t,n){switch(e){case j:return{...n,coordinate:t};case R:return{...n,elevation:t};case P:return{...n,administration:t}}}set coordinate(e){this.signal(j,e),this._getElevation(e),this._getAdministration(e)}async _getElevation(e){try{const t=await this._elevationService.getElevation(e)+" (m)";this.signal(R,t)}catch(e){console.error(e),this.signal(R,null)}}async _getAdministration(e){const t={community:null,district:null};try{const t=await this._administrationService.getAdministration(e);this.signal(P,t??k.L)}catch(e){console.error(e),this.signal(P,t)}}async _copyCoordinateToClipboard(e){try{await this._shareService.copyToClipboard(e),(0,k.L)(`"${e}" ${this._translationService.translate("map_contextMenuContent_clipboard_success")}`,k.A.INFO)}catch{const e=this._translationService.translate("map_contextMenuContent_clipboard_error");(0,k.L)(e,k.A.WARN),console.warn("Clipboard API not available")}}createView(e){const{coordinate:t,elevation:n,administration:{community:r,district:i}}=e,a=e=>this._translationService.translate(e);if(t){const e=this._mapService.getCoordinateRepresentations(t).map((e=>{const{label:n}=e,r=this._coordinateService.stringify(t,e);return o.qy`
					<span class="label">${n}</span><span class="coordinate">${r}</span>
					<span class="icon">
						<ba-icon
							class="close"
							.icon="${"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktY2xpcGJvYXJkIj48IS0tTUlUIExpY2Vuc2UtLT48cGF0aCBkPSJNNCAxLjVIM2EyIDIgMCAwIDAtMiAyVjE0YTIgMiAwIDAgMCAyIDJoMTBhMiAyIDAgMCAwIDItMlYzLjVhMiAyIDAgMCAwLTItMmgtMXYxaDFhMSAxIDAgMCAxIDEgMVYxNGExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVYzLjVhMSAxIDAgMCAxIDEtMWgxeiIvPjxwYXRoIGQ9Ik05LjUgMWEuNS41IDAgMCAxIC41LjV2MWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXYtMWEuNS41IDAgMCAxIC41LS41em0tMy0xQTEuNSAxLjUgMCAwIDAgNSAxLjV2MUExLjUgMS41IDAgMCAwIDYuNSA0aDNBMS41IDEuNSAwIDAgMCAxMSAyLjV2LTFBMS41IDEuNSAwIDAgMCA5LjUgMHoiLz48L3N2Zz4K"}"
							.title=${a("map_contextMenuContent_copy_icon")}
							.size=${1.5}
							@click=${()=>{this._copyCoordinateToClipboard(r)}}
						></ba-icon>
					</span>
				`}));return o.qy`
				<style>
					${z()}
				</style>

				<div class="container">
					<ul class="content selectable">
						<li>
							<span class="label">${a("map_contextMenuContent_community_label")}</span><span class="coordinate">${r||"-"}</span>
						</li>
						<li>
							<span class="label">${a("map_contextMenuContent_district_label")}</span><span class="coordinate">${i||"-"}</span>
						</li>
						${e.map((e=>o.qy`<li>${e}</li>`))}
						<li>
							<span class="label">${a("map_contextMenuContent_elevation_label")}</span><span class="coordinate">${n||"-"}</span>
						</li>
					</ul>
					<div class="chips">
						<ba-share-chip .center=${t}></ba-share-chip>
						<ba-map-feedback-chip .center=${t}></ba-map-feedback-chip>
						<ba-routing-chip .coordinate=${t}></ba-routing-chip>
					</div>
				</div>
			`}return o.s6}static get tag(){return"ba-map-context-menu-content"}}window.customElements.get(C.tag)||window.customElements.define(C.tag,C),window.customElements.get(O.tag)||window.customElements.define(O.tag,O);var G=n(97156),U=n.n(G),F=n(70402);const $="update_open_property",Y="update_activeLayers_property",B="update_zoomLevel_property";class H extends l.T{constructor(){super({open:!1,activeLayers:null,zoomLevel:null});const{TranslationService:e,GeoResourceService:t,EnvironmentService:n}=r.z.inject("TranslationService","GeoResourceService","EnvironmentService");this._translationService=e,this._georesourceService=t,this._environmentService=n}onInitialize(){this.observe((e=>e.layers.active),(e=>this.signal(Y,e))),this.observe((e=>e.position.zoom),(e=>this.signal(B,e)))}update(e,t,n){switch(e){case $:return{...n,open:t};case Y:return{...n,activeLayers:t};case B:return{...n,zoomLevel:t}}}_getCopyrights(e,t){const n=e.filter((({visible:e})=>e)).filter((({constraints:{hidden:e}})=>!e)).map((e=>this._georesourceService.byId(e.geoResourceId)));return(0,F.I)(n,t)}createView(e){const t=e=>this._translationService.translate(e),{activeLayers:n,zoomLevel:r,open:i}=e,a=this._getCopyrights(n,r).map(((e,t,n)=>{const r=t===n.length-1?"":",";return e.url?o.qy`<a class="attribution attribution-link" target="_blank" title="${e.label}" href=${e.url}
						>${e.label}${r}</a
					>`:o.qy`<span class="attribution">${e.label}${r}</span>`})),s={isopen:i,selectable:i,isembedded:this._environmentService.isEmbedded()};return o.qy` <style>
				${U()}
			</style>
			<div class="attribution-container ${(0,f.H)(s)}">
				© ${t("map_attributionInfo_label")}: ${a}
				<div @click=${()=>this.signal($,!i)} class="collapse-button ${a.length>0||i?"is-collapse":""}" title="${t(i?"map_attributionInfo_collapse_title_close":"map_attributionInfo_collapse_title_open")}">
					<i class="icon chevron"></i>
				</div>
			</div>`}static get tag(){return"ba-attribution-info"}}window.customElements.get(H.tag)||window.customElements.define(H.tag,H);var Z=n(93062),W=n.n(Z),V=n(99651);const Q="update_live_rotation";class X extends l.T{constructor(){super({liveRotation:0});const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e,this._timeoutId=null}update(e,t,n){if(e===Q)return{...n,liveRotation:t}}onInitialize(){const e=(0,V.v6)(X.THROTTLE_DELAY_MS,(e=>this.signal(Q,e)));this.observe((e=>e.position.liveRotation),(t=>{Math.abs(t)>=X.VISIBILITY_THRESHOLD_RAD?this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null):this._timeoutId||(this._timeoutId=setTimeout((()=>{e(t)}),X.HIDE_BUTTON_DELAY_MS)),e(t)}),!0)}createView(e){const{liveRotation:t}=e,n=e=>this._translationService.translate(e);if(!this._timeoutId){const e=()=>{(0,c.bg)(0)},r={transform:`rotate(${t}rad)`};return o.qy`
				<style>
					${W()}
				</style>
				<div>
					<button class="rotation-button" style="${(0,T.W)(r)}" @click=${e} title=${n("map_rotationButton_title")}>
						<i class="icon rotation-icon"></i>
					</button>
				</div>
			`}return o.s6}static get tag(){return"ba-rotation-button"}static get HIDE_BUTTON_DELAY_MS(){return 1e3}static get THROTTLE_DELAY_MS(){return 10}static get VISIBILITY_THRESHOLD_RAD(){return 1e-4}}window.customElements.get(X.tag)||window.customElements.define(X.tag,X)},85919:(e,t,n)=>{"use strict";n.d(t,{S:()=>c});var r=n(36752),i=n(99990),o=n(87402),a=n.n(o);const s="update_disabled";class c extends i.T{constructor(e={}){if(super({...e,active:!1}),this.constructor===c)throw new TypeError("Can not construct abstract class.")}update(e,t,n){if(e===s)return{...n,active:t}}defaultCss(){return r.qy`
			${super.defaultCss()}
			<style>
				${a()}
			</style>
		`}setActive(e){this.signal(s,e)}isActive(){return this.getModel().active}}},75488:(e,t,n)=>{"use strict";n.d(t,{J:()=>p,O:()=>w});var r=n(36752),i=n(40068),o=n(99293),a=n.n(o),s=n(6683),c=n(18410),l=n(16800),d=n(34142),u=n(42376),g=n(70915),h=n(99990);const p={TEXT:"text",AREA:"area",DISTANCE:"distance",DISTANCE_PARTITION:"distance-partition",HELP:"help"},m="update_value",_="update_overlay_type",v="update_draggable",y="update_floating",S="update_geometry",b="update_placement",f={sector:"init",positioning:"top-center",offset:[0,-25]};class w extends h.T{#C;#N;constructor(){super({value:null,floating:!0,overlayType:p.TEXT,draggable:!1,placement:f,geometry:null,position:null});const{UnitsService:e,MapService:t}=c.z.inject("UnitsService","MapService");this.#C=e,this.#N=t}update(e,t,n){const r=(e,t,n)=>{switch(t){case p.AREA:return e instanceof d.Ay?e.getInteriorPoint().getCoordinates().slice(0,-1):(0,g.q1)(e.getExtent());case p.DISTANCE_PARTITION:return(0,l.CG)(e,n);case p.DISTANCE:case p.HELP:case p.TEXT:default:return e.getLastCoordinate()}};switch(e){case m:return{...n,value:t};case _:return{...n,overlayType:t};case v:return{...n,draggable:t};case y:return{...n,floating:t};case S:return{...n,geometry:t,position:r(t,n.overlayType,n.value)};case b:return{...n,placement:t}}}createView(e){const{overlayType:t,floating:n,draggable:o,placement:c}=e,l=this.#z(e),d={help:t===p.HELP,area:t===p.AREA,distance:t===p.DISTANCE,partition:t===p.DISTANCE_PARTITION,static:!n&&t!==p.HELP,floating:n&&t!==p.HELP,draggable:o,top:"top"===c.sector,right:"right"===c.sector,bottom:"bottom"===c.sector,left:"left"===c.sector,init:"init"===c.sector};return r.qy`
			<style>
				${a()}
			</style>
			<div class="ba-overlay ${(0,s.H)(d)}">${l?(0,i._)(l):r.s6}</div>
		`}#z(e){const{geometry:t,overlayType:n,value:r}=e,i=()=>{const e=this.#k(t)*r;return this.#C.formatDistance((0,u.LI)(Math.round(e),-1),0)},o=()=>(0,l.Q5)(t)?`${(0,l.nT)(t).toFixed(2)}°/${this.#C.formatDistance(this.#k(t),2)}`:t?this.#C.formatDistance(this.#k(t),2):"",a=()=>t instanceof d.Ay?this.#C.formatArea(this.#N.calcArea(t.getCoordinates()),2):"";switch(n){case p.AREA:return a();case p.DISTANCE:return o();case p.DISTANCE_PARTITION:return t?i():"";case p.HELP:case p.TEXT:default:return r}}static get tag(){return"ba-map-overlay"}#k=e=>e.get(l.tT)??this.#N.calcLength((0,l.qC)(e).getCoordinates());set placement(e){this.signal(b,e)}get placement(){return this.getModel().placement}set value(e){this.signal(m,e)}get value(){return this.getModel().value}set type(e){this.signal(_,e)}get type(){return this.getModel().overlayType}set isDraggable(e){this.signal(v,e)}get isDraggable(){return this.getModel().draggable}set static(e){this.signal(y,!e)}get static(){return!this.getModel().floating}set geometry(e){this.signal(S,e)}get geometry(){return this.getModel().geometry}get position(){return this.getModel().position}}},69716:(e,t,n)=>{"use strict";n.d(t,{_:()=>z});var r=n(36752),i=n(99990),o=n(3632),a=n.n(o),s=n(90061),c=n.n(s),l=n(91765),d=n(78556),u=n(56916),g=n(43965),h=n(99113),p=n(33711),m=n(89707),_=n(83245),v=n(18410),y=n(57114),S=n(47518),b=n(39043);const f=()=>{const{StoreService:e}=v.z.inject("StoreService");return e.getStore()},w=e=>{f().dispatch({type:b.cw,payload:e})};var M=n(56851);const I=()=>{const{StoreService:e}=v.z.inject("StoreService");return e.getStore()},A=e=>{I().dispatch({type:M.LU,payload:e})};var T=n(49466),E=n(35598),L=n(94447),D=n(2277),x=n(99887);const C="update_position",N="update_layers";class z extends i.T{constructor(){super({zoom:null,center:null,rotation:null,fitRequest:null,fitLayerRequest:null,layers:[]});const{MapService:e,GeoResourceService:t,LayerService:n,EnvironmentService:r,TranslationService:i,OlMeasurementHandler:o,OlDrawHandler:a,OlGeolocationHandler:s,OlHighlightLayerHandler:c,OlFeatureInfoHandler:l,OlElevationProfileHandler:d,OlMfpHandler:u,OlRoutingHandler:g,OlSelectableFeatureHandler:h}=v.z.inject("MapService","GeoResourceService","LayerService","EnvironmentService","TranslationService","OlMeasurementHandler","OlDrawHandler","OlGeolocationHandler","OlHighlightLayerHandler","OlFeatureInfoHandler","OlElevationProfileHandler","OlMfpHandler","OlRoutingHandler","OlSelectableFeatureHandler");this._mapService=e,this._layerService=n,this._environmentService=r,this._translationService=i,this._geoResourceService=t,this._layerHandler=new Map([[o.id,o],[s.id,s],[c.id,c],[a.id,a],[u.id,u],[g.id,g]]),this._mapHandler=new Map([[l.id,l],[d.id,d],[h.id,h]])}update(e,t,n){switch(e){case C:return{...n,...t};case N:return{...n,layers:t}}}createView(){return r.qy`
			<style>
				${a()+c()}
			</style>
			<div data-test-id id="ol-map" tabindex="0"></div>
		`}onInitialize(){this.observe((e=>e.position),(e=>this.signal(C,e))),this.observe((e=>e.layers.active),(e=>this.signal(N,e))),this.observe((e=>e.media.portrait),(()=>this._map.updateSize()),!1);const{zoom:e,center:t,rotation:n}=this.getModel();this._view=new l.Ay({center:t,zoom:e,rotation:n,minZoom:this._mapService.getMinZoomLevel(),maxZoom:this._mapService.getMaxZoomLevel(),constrainRotation:!1,constrainResolution:!this._environmentService.isTouch()}),this._view.on("change:rotation",(e=>{(0,_.FA)(e.target.getRotation())})),this._view.on("change:center",(e=>{(0,_.sQ)(e.target.getCenter())})),this._view.on("change:resolution",(e=>{(0,_.CI)(e.target.getZoom())})),this._map=new d.A({layers:[],view:this._view,controls:(0,u.N)({attribution:!1,zoom:!1,rotate:!1}).extend([new g.A({target:this._mapService.getScaleLineContainer()})]),moveTolerance:this._environmentService.isTouch()?3:1,interactions:(0,h.N)({pinchRotate:!1}).extend([new p.A({threshold:this._mapService.getMinimalRotation()})])}),this._map.on("movestart",(()=>{I().dispatch({type:M.i8,payload:new S.MD("movestart")}),A(!0)})),this._map.on("moveend",(()=>{this._view&&this._syncStore(),w(!1),I().dispatch({type:M.Xd,payload:new S.MD("moveend")}),A(!1)}));const r=e=>{if(0===[...this._layerHandler.values()].filter((e=>e.active)).filter((e=>e.options.preventDefaultClickHandling)).length){e.preventDefault();t={coordinate:this._map.getEventCoordinate(e.originalEvent),screenCoordinate:[e.originalEvent.clientX,e.originalEvent.clientY]},f().dispatch({type:b.a6,payload:new S.MD(t)})}var t},i=e=>{if(0===[...this._layerHandler.values()].filter((e=>e.active)).filter((e=>e.options.preventDefaultContextClickHandling)).length){e.preventDefault();t={coordinate:this._map.getEventCoordinate(e.originalEvent),screenCoordinate:[e.originalEvent.clientX,e.originalEvent.clientY]},f().dispatch({type:b.SM,payload:new S.MD(t)})}var t};this._environmentService.isTouch()?(0,y.nf)(this._map,i,r):(this._map.on("contextmenu",i),this._map.on("singleclick",r)),this._map.on("pointermove",(e=>{if(e.dragging)return;var t;t={coordinate:this._map.getEventCoordinate(e.originalEvent),screenCoordinate:[e.originalEvent.clientX,e.originalEvent.clientY]},f().dispatch({type:b.Fw,payload:new S.MD(t)})})),this._map.on("pointerdrag",(()=>{w(!0)})),this._mapHandler.forEach((e=>{e.register(this._map)})),this.observeModel(["fitRequest","fitLayerRequest"],(e=>this._fitToExtent(e))),this.observeModel("layers",(()=>this._syncLayers())),this.observeModel(["zoom","center","rotation"],(()=>this._syncView()))}onDisconnect(){this._map?.setTarget(null),this._map=null,this._view=null}onModelChanged(){}_syncStore(){(0,_.uj)({zoom:this._view.getZoom(),center:this._view.getCenter(),rotation:this._view.getRotation()})}_syncView(){const{zoom:e,center:t,rotation:n}=this.getModel(),r=this._map.getView();(0,S.aI)(e,(0,x.qL)(r.getZoom()))&&(0,S.aI)(t,(0,x.OB)(r.getCenter()))&&(0,S.aI)(n,(0,x.FW)(r.getRotation()))||this._view.animate({zoom:e,center:t,rotation:n,duration:200})}_syncLayers(){const e=(e,t=[])=>this._translationService.translate(e,t),{layers:t}=this.getModel(),n=t.map((e=>e.id)),r=this._map.getLayers().getArray().map((e=>e.get("id"))),i=n.filter((e=>r.includes(e))),o=n.filter((e=>!r.includes(e))),a=r.filter((e=>!n.includes(e))),s=e=>{e.getSource()instanceof T.A&&e.getSource().clear()};a.forEach((e=>{const t=(0,y.SU)(this._map,e);t&&(this._map.removeLayer(t),this._layerHandler.has(e)&&this._layerHandler.get(e).deactivate(this._map),t instanceof E.A?t.getLayers().forEach(s):s(t))})),o.forEach((n=>{const r=t.find((e=>e.id===n))?.geoResourceId,i=this._geoResourceService.byId(r);i?.getType()===L.Fl.FUTURE&&i.get().then((e=>{const r=t.find((e=>e.id===n)),i=this._layerService.toOlLayer(n,e,this._map);(0,y.Y5)(i,r),this._map.getLayers().remove((0,y.SU)(this._map,n)),this._map.getLayers().insertAt(r.zIndex,i)})),((n,r)=>{const i=r?this._layerService.toOlLayer(n,r,this._map):this._layerHandler.has(n)?(0,y.wX)(n,this._layerHandler.get(n),this._map):null;if(i){const e=t.find((e=>e.id===n));(0,y.Y5)(i,e),this._map.getLayers().insertAt(e.zIndex,i)}else console.warn(`Could not add an olLayer for id '${n}'`),(0,D.L)(`${e("global_geoResource_not_available",[r?.id??n])}`,D.A.WARN),(0,m.e5)(n)})(n,i)})),i.forEach((e=>{const n=t.find((t=>t.id===e)),r=(0,y.SU)(this._map,e);(0,y.Y5)(r,n),this._map.getLayers().remove(r),this._map.getLayers().insertAt(n.zIndex,r)}))}_fitToExtent(e){const t=()=>{this._syncStore()},n=()=>{const n=(0,y.SU)(this._map,e.payload.id)?.getSource?.()?.getExtent?.()??e.payload.extent;if(n){const r=e.payload.options.maxZoom??this._view.getMaxZoom(),i=this._mapService.getVisibleViewport(this._map.getTarget()),o=e.payload.options.useVisibleViewport?[i.top+z.DEFAULT_PADDING_PX[0],i.right+z.DEFAULT_PADDING_PX[1],i.bottom+z.DEFAULT_PADDING_PX[2],i.left+z.DEFAULT_PADDING_PX[3]]:z.DEFAULT_PADDING_PX;this._view.fit(n,{maxZoom:r,callback:t,padding:o})}};if(e.payload.id){const{layers:t}=this.getModel(),r=t.find((t=>t.id===e.payload.id))?.geoResourceId,i=this._geoResourceService.byId(r);i instanceof L.fX?i.onResolve((()=>setTimeout((()=>n())))):n()}else n()}onAfterRender(e){e&&this._map.setTarget(this.shadowRoot.getElementById("ol-map"))}static get tag(){return"ba-ol-map"}static get DEFAULT_PADDING_PX(){return Array.of(10,10,10,10)}}},26421:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("mapProvider",(e=>{switch(e){case"en":return{olMap_handler_measure_start:"Click to start measurement",olMap_handler_measure_continue_line:"Click to continue drawing the line (double-click to finish)",olMap_handler_measure_continue_polygon:"Click to continue drawing the polygon (double-click to finish)",olMap_handler_measure_snap_first_point:"Click to close the surface",olMap_handler_measure_snap_last_point:"Click to finish the line",olMap_handler_measure_modify_click_new_point:"Click, to add point<br/> Click then drag to move the point",olMap_handler_measure_modify_click_or_drag:"Click then drag to move the point",olMap_handler_measure_modify_polygon_click_or_drag:"Click to delete the point (3 points min.).<br/> Click then drag to move the point",olMap_handler_measure_modify_linestring_click_or_drag:"Click to delete the point (2 points min.).<br/> Click then drag to move the point",olMap_handler_measure_modify_click_drag_overlay:"Click then drag to move the label",olMap_handler_measure_modify_key_for_delete:"Press DEL to delete the measurement",olMap_handler_draw_modify_key_for_delete:"Press DEL to delete the drawing",olMap_handler_delete_last_point:"Press DEL to remove the last point drawn",olMap_handler_measure_select:"Select existing or start new measurement",olMap_handler_measure_layer_label:"Measurement",olMap_handler_draw_start:"Click to start drawing",olMap_handler_draw_layer_label:"Drawing",olMap_handler_draw_continue_line:"Click to continue drawing the line (double-click to finish)",olMap_handler_draw_select:"Select existing or start new drawing",olMap_handler_draw_new_text:"new text",olMap_handler_storage_offline:"Offline: Could not store layer-data. The data will get lost after this session.",olMap_handler_featureInfo_not_available:"Object Information not available",olMap_handler_termsOfUse:"",olMap_handler_mfp_distortion_warning:"The projection used for export has distortions in some areas which are not suitable for length measurements.",olMap_handler_mfp_distortion_more_info:"More info...",olMap_handler_mfp_id_a4_landscape:"DIN A4 landscape",olMap_handler_mfp_id_a4_portrait:"DIN A4 portrait",olMap_handler_mfp_id_a3_landscape:"DIN A3 landscape",olMap_handler_mfp_id_a3_portrait:"DIN A3 portrait",olMap_handler_mfp_encoder_layer_not_exportable:"The following layers cannot be exported:",olMap_handler_routing_choose_alternative_route:e=>`${e[0]}`,olMap_handler_routing_modify_segment:"Pull to modify the route",olMap_handler_routing_modify_start:"Pull to modify the start point",olMap_handler_routing_modify_destination:"Pull to modify the destination point",olMap_handler_routing_modify_intermediate:"Pull to modify the waypoint",olMap_handler_routing_rt_layer_label:"Route (Track)",olMap_handler_routing_wp_layer_label:"Route (Waypoints)",olMap_handler_routing_routingService_exception:"Due to a technical error no route could be created",olMap_handler_routing_routingService_improper_waypoints:"No route could be created based on the given points. Please adjust one ore more points.",olMap_vectorLayerService_default_layer_name_vector:"Data"};case"de":return{olMap_handler_measure_start:"Klicken, um die Messung zu beginnen",olMap_handler_measure_continue_line:"Klicken, um die Messlinie zu zeichnen (Doppelklick zum Beenden)",olMap_handler_measure_continue_polygon:"Klicken, um die Fläche zu zeichnen (Doppelklick zum Beenden)",olMap_handler_measure_snap_first_point:"Klicke, um die Fläche zu schliessen",olMap_handler_measure_snap_last_point:"Klicke, um die Messung abzuschliessen",olMap_handler_measure_modify_click_new_point:"Klicke, um einen Punkt hinzuzufügen.<br/> Punkt verschieben: klicken und ziehen",olMap_handler_measure_modify_click_or_drag:"Punkt verschieben: klicken und ziehen",olMap_handler_measure_modify_polygon_click_or_drag:"Klicke, um den Punkt zu löschen (mind. 3 Punkte).<br/> Punkt verschieben: klicken und ziehen",olMap_handler_measure_modify_linestring_click_or_drag:"Klicke, um den Punkt zu löschen (mind. 2 Punkte).<br/> Punkt verschieben: klicken und ziehen",olMap_handler_measure_modify_click_drag_overlay:"Klicke und ziehen um die Beschriftung zu verschieben",olMap_handler_measure_modify_key_for_delete:"Messung löschen: ENTF Taste",olMap_handler_draw_modify_key_for_delete:"Zeichnung löschen: ENTF Taste",olMap_handler_delete_last_point:"Letzter Punkt löschen: ENTF Taste",olMap_handler_measure_select:"bestehende Messung auswählen oder neue Messung beginnen",olMap_handler_measure_layer_label:"Messung",olMap_handler_draw_start:"Klicken, um die Zeichnung zu beginnen",olMap_handler_draw_layer_label:"Zeichnung",olMap_handler_draw_continue_line:"Klicken, um die Linie zu zeichnen (Doppelklick zum Beenden)",olMap_handler_draw_select:"bestehende Zeichnung auswählen oder neue Zeichnung beginnen",olMap_handler_draw_new_text:"Neuer Text",olMap_handler_storage_offline:"Offline: Die Zeichnung kann nicht gespeichert werden. Die Daten werden nach der Sitzung gelöscht.",olMap_handler_featureInfo_not_available:"Objekt-Info nicht verfügbar",olMap_handler_termsOfUse:'Ihre Zeichnung wird automatisch gespeichert. Durch die Nutzung dieses Dienstes stimmen Sie den <a href="https://geoportal.bayern.de/geoportalbayern/seiten/nutzungsbedingungen.html" target="_blank" tabindex="0">Nutzungsbedingungen</a> zu.',olMap_handler_mfp_distortion_warning:"Die für den Export verwendete Projektion besitzt in einigen Bereichen\nVerzerrungen, die nicht für Längenmessungen geeignet sind.",olMap_handler_mfp_distortion_more_info:"Mehr erfahren...",olMap_handler_mfp_id_a4_landscape:"DIN A4 Querformat",olMap_handler_mfp_id_a4_portrait:"DIN A4 Hochformat",olMap_handler_mfp_id_a3_landscape:"DIN A3 Querformat",olMap_handler_mfp_id_a3_portrait:"DIN A3 Hochformat",olMap_handler_mfp_encoder_layer_not_exportable:"Die folgenden Ebenen können nicht exportiert werden:",olMap_handler_routing_choose_alternative_route:e=>`${e[0]}`,olMap_handler_routing_modify_segment:"Zum Ändern der Route ziehen",olMap_handler_routing_modify_start:"Zum Ändern des Startpunktes ziehen",olMap_handler_routing_modify_destination:"Zum Ändern des Zielpunktes ziehen",olMap_handler_routing_modify_intermediate:"Zum Ändern des Zwischenpunktes ziehen",olMap_handler_routing_rt_layer_label:"Route (Track)",olMap_handler_routing_wp_layer_label:"Route (Wegpunkte)",olMap_handler_routing_routingService_exception:"Aufgrund eines technischen Fehlers konnte keine Route erstellt werden",olMap_handler_routing_routingService_improper_waypoints:"Anhand der angegebenen Punkte konnte keine Route erstellt werden. Bitte passen Sie einen oder mehrere Punkte an.",olMap_vectorLayerService_default_layer_name_vector:"Daten"};default:return{}}}));var o=n(69716),a=n(75488);window.customElements.get(o._.tag)||window.customElements.define(o._.tag,o._),window.customElements.get(a.O.tag)||window.customElements.define(a.O.tag,a.O)},16800:(e,t,n)=>{"use strict";n.d(t,{$4:()=>M,CG:()=>_,CR:()=>L,Fl:()=>p,Fp:()=>w,GT:()=>A,Kr:()=>E,Q5:()=>v,Ql:()=>m,TV:()=>I,Zj:()=>b,hd:()=>T,nT:()=>y,p2:()=>D,qC:()=>g,r6:()=>f,tT:()=>u,xQ:()=>S});var r=n(11217),i=n(22809),o=n(34142),a=n(96702),s=n(44294),c=n(27430),l=n(28353),d=n(18410);const u="projectedLength",g=e=>e instanceof r.A?e:e instanceof i.A?new r.A(e.getCoordinates()):e instanceof o.Ay?new r.A(e.getCoordinates(!1)[0]):e instanceof a.A?1===e.getLineStrings().length?e.getLineStrings()[0]:h(e):null,h=e=>{if(!(e instanceof a.A))return null;const t=(e,t)=>{const n=e.getLastCoordinate(),r=t.getFirstCoordinate();return n[0]===r[0]&&n[1]===r[1]},n=e.getLineStrings();let i=[];for(let e=0;e<n.length;e++){const r=n[e],o=n[e+1];if(o&&!t(r,o)){i.length=0;break}i=i.concat(r.getCoordinates())}return 0===i.length?null:new r.A(i)},p=e=>{if(!Array.isArray(e)||4!==e.length)return null;const[t,n,r,i]=e;return new o.Ay([[[t,i],[r,i],[r,n],[t,n],[t,i]]])},m=(e,t)=>{if(e&&t&&(0,l.Et)(t.width)&&(0,l.Et)(t.height))return[e[0]-t.width/2,e[1]-t.height/2,e[0]+t.width/2,e[1]+t.height/2]},_=(e,t)=>{const n=g(e);return n?n.getCoordinateAt(t):null},v=e=>{if(e instanceof r.A){const t=e.getCoordinates();if(2===t.length||3===t.length&&t[1][0]===t[2][0]&&t[1][1]===t[2][1])return!0}return!1},y=e=>{if(!(e instanceof o.Ay||e instanceof r.A||e instanceof i.A))return null;const t=e instanceof o.Ay?e.getCoordinates(!1)[0]:e.getCoordinates();if(t.length<2)return null;const n=t[0],a=t[1],s=a[0]-n[0],c=a[1]-n[1];return(360+(s>0?1:-1)*Math.acos(c/Math.sqrt(s*s+c*c))*180/Math.PI)%360},S=e=>{if(!e||"Polygon"!==e.getType())return null;const t=e.getCoordinates()[0],n=(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0]);return(n(t[0],t[1])+n(t[3],t[2]))/2},b=(e,t=1)=>{const n=r=>{const i=r/e;return 1<i?1:(o=r)/t>40&&e>o&&.02<i?i:n(10*r);var o};return n(10)},f=(e,t)=>{if(!(t instanceof s.A))return!1;const n=t.getCoordinates(),r=(e=>e instanceof o.Ay?e.getCoordinates(!1)[0]:e instanceof s.A?[e.getCoordinates()]:e.getCoordinates())(e);return!!r.find((e=>e[0]===n[0]&&e[1]===n[1]))},w=(e,t,n)=>{const i=Math.atan2(t[1]-e[1],t[0]-e[0]),o=[Math.sin(i)*n+e[0],-Math.cos(i)*n+e[1]],a=[Math.sin(i)*n+t[0],-Math.cos(i)*n+t[1]];return new r.A([o,a])},M=(e,t)=>{const n=[],i=g(e);if(i){const e=i.getLength()*t;let o=0,a=0;i.forEachSegment(((t,i)=>{const s=new r.A([t,i]);o+=s.getLength(),n.push(a),a=o%e/e}))}return n},I=e=>null!=e&&(e instanceof s.A||(e instanceof r.A?e.getLength()>0:e instanceof o.Ay&&e.getArea()>0)),A=e=>{const{MapService:t}=d.z.inject("MapService"),n={coordinate:null,azimuth:null,length:null,area:null};return e instanceof s.A?{...n,coordinate:e.getCoordinates()}:e instanceof r.A?{...n,azimuth:v(e)?y(e):null,length:t.calcLength(e.getCoordinates())}:e instanceof a.A?{...n,length:e.getLineStrings().reduce(((e,n)=>e+t.calcLength(n.getCoordinates())),0)}:e instanceof o.Ay?{...n,length:t.calcLength(g(e).getCoordinates()),area:t.calcArea(e.getCoordinates())}:n},T=17.5,E=1e3,L=(e,t,n)=>e instanceof c.A&&t&&n&&e?.getCoordinates().length>t?e.simplify(n):e,D=e=>{if(e instanceof c.A){const t=L(g(e),E,T);if(t)return t.getCoordinates()}return[]}},57114:(e,t,n)=>{"use strict";n.d(t,{SU:()=>a,Y5:()=>r,nf:()=>o,wX:()=>i});const r=(e,t)=>(e.setVisible(t.visible),e.setOpacity(t.opacity),e),i=(e,t,n)=>{const r=t.activate(n);return r&&r.set("id",e),r},o=(e,t,n=(()=>{}),r=300)=>{let i;const o=()=>{window.clearTimeout(i),i=null};e.on("pointerdown",(e=>{i&&o(),i=window.setTimeout((()=>{i=null,t(e)}),r)})),e.on("pointerup",(e=>{i&&n(e),o()})),e.on("pointermove",(e=>{e.dragging&&o()}))},a=(e,t)=>e&&t?e.getLayers().getArray().find((e=>e.get("id")===t))??null:null},40922:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("notificationsProvider",(e=>{switch(e){case"en":return{notifications_item_info:"Info",notifications_item_warn:"Warning",notifications_item_error:"Error"};case"de":return{notifications_item_info:"Info",notifications_item_warn:"Warnung",notifications_item_error:"Fehler"};default:return{}}}));var o=n(36752),a=n(64935),s=n(16575),c=n.n(s),l=n(99990);const d="update_notifications",u="update_bottom_sheet",g="update_remove_notification";class h extends l.T{constructor(){super({notifications:[],bottomSheet:null,autocloseTime:5e3,lastNotification:null})}onInitialize(){this.observe((e=>e.notifications.latest),(e=>{e&&this.signal(d,e)})),this.observe((e=>e.bottomSheet),(e=>{this.signal(u,e)}))}update(e,t,n){switch(e){case d:return{...n,notifications:[{...t.payload,id:t.id}].concat(n.notifications),lastNotification:t};case u:return{...n,bottomSheet:t.data};case g:return{...n,notifications:n.notifications.filter((e=>e.id!==t.id))};case"update_autoclose_time":return{...n,autocloseTime:t}}}createView(e){const{notifications:t,bottomSheet:n,autocloseTime:r}=e;return 0===t.length&&null==n?o.s6:o.qy` <style>
						${c()}
					</style>
					<div class="stackable-content-notification-panel">${(0,a.u)(t,(e=>e.id),((e,t)=>{const n={...e,index:t,autocloseTime:r};return o.qy`<ba-notification-item
				.content=${n}
				.onClose=${e=>this.signal(g,e)}
			></ba-notification-item>`}))}</div>
					<div class="stackable-content-sheet-panel">${i=n,i?o.qy`<ba-bottom-sheet .content=${n}></ba-bottom-sheet>`:o.s6}</div>`;var i}static get tag(){return"ba-notification-panel"}}var p=n(14707),m=n.n(p),_=n(72145),v=n(6683);const y="update",S="update_main_menu",b="update_media",f="update_isOpen_NavigationRail";class w extends l.T{constructor(){super({content:null,isOpen:!1,isOpenNavigationRail:!1,isPortrait:!1}),this.observe((e=>e.mainMenu),(e=>this.signal(S,e)),!0),this.observe((e=>e.media),(e=>this.signal(b,e)),!0),this.observe((e=>e.navigationRail),(e=>this.signal(f,{isOpenNavigationRail:e.open})))}update(e,t,n){switch(e){case S:return{...n,isOpen:t.open};case y:return{...n,content:t};case b:return{...n,isPortrait:t.portrait};case f:return{...n,...t}}}createView(e){const{content:t,isOpen:n,isOpenNavigationRail:r,isPortrait:i}=e,a={"is-open":n&&!i,"is-open-navigationRail":r&&!i,"is-portrait":i,"is-landscape":!i};return t?o.qy` <style>
						${m()}
					</style>
					<div class="bottom-sheet ${(0,v.H)(a)}" data-test-id>
						${t}
						<ba-icon
							id="close-icon"
							class="tool-container__close-button"
							.icon="${"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmkteC1sZyI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTMuODU0IDIuMTQ2YS41LjUgMCAwIDEgMCAuNzA4bC0xMSAxMWEuNS41IDAgMCAxLS43MDgtLjcwOGwxMS0xMWEuNS41IDAgMCAxIC43MDggMCIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIuMTQ2IDIuMTQ2YS41LjUgMCAwIDAgMCAuNzA4bDExIDExYS41LjUgMCAwIDAgLjcwOC0uNzA4bC0xMS0xMWEuNS41IDAgMCAwLS43MDggMCIvPjwvc3ZnPgo="}"
							.size=${1.6}
							.color=${"var(--text2)"}
							.color_hover=${"var(--text2)"}
							@click=${()=>{const e=this.shadowRoot.querySelector(".bottom-sheet");e.classList.add("fade-out"),e.addEventListener("animationend",(()=>{(0,_.D)()}))}}
						></ba-icon>
					</div>`:o.s6}static get tag(){return"ba-bottom-sheet"}set content(e){this.signal(y,e)}}var M=n(2277),I=n(87093),A=n.n(I);const T={content:null,level:null,autocloseTime:0},E="update_notification";class L extends l.T{constructor(){super({notification:T,autocloseTimeoutId:null});const{TranslationService:e}=r.z.inject("TranslationService");this._translationService=e,this._onClose=()=>{}}update(e,t,n){if(e===E)return{...n,notification:t,autocloseTimeoutId:t.autocloseTime>0?(()=>setTimeout((()=>this._hide()),t.autocloseTime))():null}}createView(e){const{notification:t}=e,n=e=>this._translationService.translate(e),r={notification_info:t.level===M.A.INFO,notification_warn:t.level===M.A.WARN,notification_error:t.level===M.A.ERROR};return t.content?o.qy` <style>
						${A()}
					</style>
					<div class="notification_item ${(0,v.H)(r)}">
						${(e=>{switch(e){case M.A.INFO:return o.qy`<div id="notification-info" data-test-id class="notification_level">${n("notifications_item_info")}</div>`;case M.A.WARN:return o.qy`<div class="notification_level">${n("notifications_item_warn")}</div>`;case M.A.ERROR:return o.qy`<div class="notification_level">${n("notifications_item_error")}</div>`;default:return o.qy.nothing}})(t.level)}
						<div class="notification_content">${t.content}</div>
					</div>`:o.s6}_hide(){const{notification:e,autocloseTimeoutId:t}=this.getModel(),n=this.shadowRoot.querySelector(".notification_item");n.classList.add("notification_item_hide"),n.addEventListener("animationend",(()=>{this.onClose(e),clearTimeout(t)}))}static get tag(){return"ba-notification-item"}set content(e){const t={...T,...e};this.signal(E,t)}set onClose(e){this._onClose=e}get onClose(){return this._onClose}}window.customElements.get(h.tag)||window.customElements.define(h.tag,h),window.customElements.get(w.tag)||window.customElements.define(w.tag,w),window.customElements.get(L.tag)||window.customElements.define(L.tag,L)},87037:(e,t,n)=>{"use strict";var r=n(18410);const{TranslationService:i}=r.z.inject("TranslationService");i.register("uiThemeProvider",(e=>{switch(e){case"en":return{uiTheme_toggle_tooltip_dark:"Disable contrast mode",uiTheme_toggle_tooltip_light:"Enable contrast mode"};case"de":return{uiTheme_toggle_tooltip_dark:"Kontrastmodus deaktivieren",uiTheme_toggle_tooltip_light:"Kontrastmodus aktivieren"};default:return{}}}));var o=n(25049);class a extends o.A{constructor(){super();const{EnvironmentService:e}=r.z.inject("EnvironmentService");this._environmentService=e}initialize(){this._updateCss(this.getState())}_updateCss(e){const{darkSchema:t}=e,n=t?"dark-theme":"light-theme",r=t?"light-theme":"dark-theme";this._environmentService.getWindow().document.body.classList.add(n),this._environmentService.getWindow().document.body.classList.remove(r)}isRenderingSkipped(){return!0}onStateChanged(e){this._updateCss(e)}extractState(e){const{media:{darkSchema:t}}=e;return{darkSchema:t}}static get tag(){return"ba-theme-provider"}}window.customElements.get(a.tag)||window.customElements.define(a.tag,a)},45838:(e,t,n)=>{"use strict";n.d(t,{M:()=>l});var r=n(36752),i=n(18410),o=n(32907),a=n.n(o),s=n(24973),c=n(99990);class l extends c.T{constructor(){super();const{ConfigService:e}=i.z.inject("ConfigService");this._configService=e}isRenderingSkipped(){return!this._configService.getValue("SOFTWARE_INFO",!1)}createView(){const e=this._configService.getValue("SOFTWARE_INFO",!1);return r.qy`
			<style>${a()}</style>
			<div class='container'><ba-button @click=${()=>{(0,s.qf)("Showcase",r.qy`<ba-showcase></ba-showcase>`)}} .size=${2} .label=${e} .type=${"secondary"}><ba-button></div>
		`}static get tag(){return"ba-dev-info"}}},11697:(e,t,n)=>{"use strict";var r=n(36752),i=n(18410),o=n(83245);const a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcm9ja2V0LXRha2VvZmYiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PCEtLU1JVCBMaWNlbnNlLS0+CiAgPHBhdGggZD0iTTkuNzUyIDYuMTkzYy41OTkuNiAxLjczLjQzNyAyLjUyOC0uMzYycy45Ni0xLjkzMi4zNjItMi41MzFjLS41OTktLjYtMS43My0uNDM4LTIuNTI4LjM2MS0uNzk4LjgtLjk2IDEuOTMzLS4zNjIgMi41MzIiLz4KICA8cGF0aCBkPSJNMTUuODExIDMuMzEyYy0uMzYzIDEuNTM0LTEuMzM0IDMuNjI2LTMuNjQgNi4yMThsLS4yNCAyLjQwOGEyLjU2IDIuNTYgMCAwIDEtLjczMiAxLjUyNkw4LjgxNyAxNS44NWEuNTEuNTEgMCAwIDEtLjg2Ny0uNDM0bC4yNy0xLjg5OWMuMDQtLjI4LS4wMTMtLjU5My0uMTMxLS45NTZhOSA5IDAgMCAwLS4yNDktLjY1N2wtLjA4Mi0uMjAyYy0uODE1LS4xOTctMS41NzgtLjY2Mi0yLjE5MS0xLjI3Ny0uNjE0LS42MTUtMS4wNzktMS4zNzktMS4yNzUtMi4xOTVsLS4yMDMtLjA4M2ExMCAxMCAwIDAgMC0uNjU1LS4yNDhjLS4zNjMtLjExOS0uNjc1LS4xNzItLjk1NS0uMTMybC0xLjg5Ni4yN0EuNTEuNTEgMCAwIDEgLjE1IDcuMTdsMi4zODItMi4zODZjLjQxLS40MS45NDctLjY3IDEuNTI0LS43MzRoLjAwNmwyLjQtLjIzOEM5LjAwNSAxLjU1IDExLjA4Ny41ODIgMTIuNjIzLjIwOGMuODktLjIxNyAxLjU5LS4yMzIgMi4wOC0uMTg4LjI0NC4wMjMuNDM1LjA2LjU3LjA5M3EuMS4wMjYuMTYuMDQ1Yy4xODQuMDYuMjc5LjEzLjM1MS4yOTVsLjAyOS4wNzNhMy41IDMuNSAwIDAgMSAuMTU3LjcyMWMuMDU1LjQ4NS4wNTEgMS4xNzgtLjE1OSAyLjA2NW0tNC44MjggNy40NzUuMDQtLjA0LS4xMDcgMS4wODFhMS41NCAxLjU0IDAgMCAxLS40NC45MTNsLTEuMjk4IDEuMy4wNTQtLjM4Yy4wNzItLjUwNi0uMDM0LS45OTMtLjE3Mi0xLjQxOGE5IDkgMCAwIDAtLjE2NC0uNDVjLjczOC0uMDY1IDEuNDYyLS4zOCAyLjA4Ny0xLjAwNk01LjIwNSA1Yy0uNjI1LjYyNi0uOTQgMS4zNTEtMS4wMDQgMi4wOWE5IDkgMCAwIDAtLjQ1LS4xNjRjLS40MjQtLjEzOC0uOTEtLjI0NC0xLjQxNi0uMTcybC0uMzguMDU0IDEuMy0xLjNjLjI0NS0uMjQ2LjU2Ni0uNDAxLjkxLS40NGwxLjA4LS4xMDd6bTkuNDA2LTMuOTYxYy0uMzgtLjAzNC0uOTY3LS4wMjctMS43NDYuMTYzLTEuNTU4LjM4LTMuOTE3IDEuNDk2LTYuOTM3IDQuNTIxLS42Mi42Mi0uNzk5IDEuMzQtLjY4NyAyLjA1MS4xMDcuNjc2LjQ4MyAxLjM2MiAxLjA0OCAxLjkyOC41NjQuNTY1IDEuMjUuOTQxIDEuOTI0IDEuMDQ5LjcxLjExMiAxLjQyOS0uMDY3IDIuMDQ4LS42ODggMy4wNzktMy4wODMgNC4xOTItNS40NDQgNC41NTYtNi45ODcuMTgzLS43NzEuMTgtMS4zNDUuMTM4LTEuNzEzYTMgMyAwIDAgMC0uMDQ1LS4yODMgMyAzIDAgMCAwLS4zLS4wNDFaIi8+CiAgPHBhdGggZD0iTTcuMDA5IDEyLjEzOWE3LjYgNy42IDAgMCAxLTEuODA0LTEuMzUyQTcuNiA3LjYgMCAwIDEgMy43OTQgOC44NmMtMS4xMDIuOTkyLTEuOTY1IDUuMDU0LTEuODM5IDUuMTguMTI1LjEyNiAzLjkzNi0uODk2IDUuMDU0LTEuOTAyWiIvPgo8L3N2Zz4=",s="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcm9ja2V0LXRha2VvZmYiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PCEtLU1JVCBMaWNlbnNlLS0+CjxwYXRoIGQ9Ik04IDBjLTQuNDE4IDAtOCAzLjU4Mi04IDh2MGMwIDQuNDE4IDMuNTgyIDggOCA4djBjNC40MTggMCA4LTMuNTgyIDgtOHYwYzAtNC40MTgtMy41ODItOC04LTh2MHpNOC4xNiAyLjMxM2MwLjA2OCAwIDAuMTE2IDAuMDE4IDAuMTcgMC4wNDMgMC4wMjUgMC4wMTEgMC4wNTcgMC4wMjggMC4wOTggMC4wNTEgMC4wODAgMC4wNDUgMC4xODggMC4xMTMgMC4zMTQgMC4yMTMgMC4yNTMgMC4yMDEgMC41NzYgMC41MjkgMC44OTMgMS4wNDMgMC41NDkgMC44ODkgMS4wNzMgMi4zMjQgMS4yMDUgNC42MjFsMS4wMTYgMS4yNGMwLjIzMSAwLjI4NyAwLjM3MSAwLjY1NiAwLjM3MSAxLjA1OCAwIDAgMCAwIDAgMHYtMCAyLjIzNmMtMC4wMDEgMC4xODctMC4xNTIgMC4zMzgtMC4zMzkgMC4zMzgtMC4xMSAwLTAuMjA4LTAuMDUzLTAuMjctMC4xMzRsLTAuMDAxLTAuMDAxLTAuNzY0LTEuMDE4Yy0wLjExMy0wLjE1LTAuMjg1LTAuMjctMC41MS0wLjM4NS0wLjE0NS0wLjA3My0wLjI3OS0wLjEzLTAuNDI0LTAuMTkxbC0wLjEzMy0wLjA1N2MtMC40NzQgMC4yOS0xLjA1MSAwLjQzLTEuNjI3IDAuNDNzLTEuMTUyLTAuMTQtMS42MjctMC40M2MtMC4wNDYgMC4wMjAtMC4wOTEgMC4wMzktMC4xMzUgMC4wNTctMC4xNDMgMC4wNjAtMC4yNzkgMC4xMTgtMC40MjQgMC4xOTEtMC4yMjUgMC4xMTUtMC4zOTcgMC4yMzQtMC41MSAwLjM4NWwtMC43NjIgMS4wMThjLTAuMDYzIDAuMDgyLTAuMTYgMC4xMzUtMC4yNyAwLjEzNS0wLjE4NyAwLTAuMzM4LTAuMTUxLTAuMzM5LTAuMzM4di0yLjIzNmMwLTAgMC0wIDAtMCAwLTAuNDAyIDAuMTQtMC43NzEgMC4zNzQtMS4wNjJsLTAuMDAzIDAuMDAzIDAuMDAyLTAuMDAyIDEuMDE2LTEuMjM4YzAuMTM0LTIuMjUyIDAuNjU2LTMuNjgyIDEuMjAxLTQuNTc4IDAuMzE2LTAuNTIgMC42MzgtMC44NTYgMC44ODktMS4wNjQgMC4xMi0wLjEwMSAwLjI1My0wLjE5NCAwLjM5NS0wLjI3M2wwLjAxMy0wLjAwN2MwLjA1Mi0wLjAzMCAwLjExMy0wLjA0OCAwLjE3OS0wLjA0OWgwek04LjE2IDUuMDIzYy0wLjU2MSAwLTEuMDE4IDAuNjA2LTEuMDE4IDEuMzU1czAuNDU2IDEuMzU1IDEuMDE4IDEuMzU1YzAuNTYxIDAgMS4wMTYtMC42MDYgMS4wMTYtMS4zNTVzLTAuNDU0LTEuMzU1LTEuMDE2LTEuMzU1ek03LjE1OCAxMi4wNDdjMC4zMjUgMC4wNjMgMC42NjQgMC4wOTQgMS4wMDIgMC4wOTRzMC42NzctMC4wMzEgMS4wMDItMC4wOTRsLTAuNzMgMC45NzVjLTAuMDYyIDAuMDgzLTAuMTYxIDAuMTM2LTAuMjcxIDAuMTM2cy0wLjIwOS0wLjA1My0wLjI3MS0wLjEzNWwtMC4wMDEtMC4wMDEtMC43My0wLjk3NXoiPjwvcGF0aD4KPC9zdmc+";var c=n(16129),l=n(89707),d=n(2277),u=n(24973),g=n(94447),h=n(84459),p=n.n(h),m=n(34919),_=n(72145),v=n(38611),y=n(99651),S=n(99990);const b="update_profile_active";class f extends S.T{constructor(){super({activeProfile:!1});const{CoordinateService:e,EnvironmentService:t,ShareService:n,UrlService:r,FileStorageService:o,ImportVectorDataService:a}=i.z.inject("CoordinateService","EnvironmentService","ShareService","UrlService","FileStorageService","ImportVectorDataService");this._coordinateService=e,this._environmentService=t,this._importVectorDataService=a,this._urlService=r,this._shareService=n,this._icons=[],this._url="",this._shortUrl="",this._fileStorageService=o}onInitialize(){this.observe((e=>e.elevationProfile.active),(e=>this.signal(b,e)))}update(e,t,n){if(e===b)return{...n,activeProfile:t}}createView(e){const{profileActive:t}=e,n=async()=>{const e=this._importVectorDataService.forUrl("https://www.geodaten.bayern.de/ba-data/Themen/kml/huetten.kml");e.onReject((({id:e})=>console.warn(`Oops, something got wrong for ${e}`)));const{id:t}=e;(0,l.VE)(t)},i=()=>{(0,o.eP)({zoom:11,center:this._coordinateService.fromLonLat([11.081,49.449])})},h=e=>{console.log("toggled "+e.detail.checked)};let S=1;const b=[{label:"Apple",icon:a,action:()=>(0,d.L)("Apple",d.A.INFO)},{label:"Lemon",icon:a,action:()=>(0,d.L)("Lemon",d.A.INFO)},{label:"Orange",action:()=>(0,d.L)("Orange",d.A.INFO)},{label:"Banana",icon:s,disabled:!0,action:()=>(0,d.L)("Banana",d.A.INFO)}];return r.qy`
			<style>
				${p()}
			</style>
			<div>
				<div class="divider">
					<p>Here we present components in random order that:</p>
					<ul>
						<li>are <i>common and reusable</i> components or <i>functional behaviors</i>, who can be added to or extend other components</li>
						<li><i>feature</i> components, which have already been implemented, but have not yet been given the most suitable place...</li>
					</ul>
				</div>

				<h2>Specific components</h2>

				<div class="section">
					<h3>slider</h3>
					<div class="example row">
						<input type="range" />
					</div>

					<h3>Switch</h3>
					<div class="example row">
						<ba-switch .title=${"Toggle me"} @toggle=${h}><span slot="before">Toggle</span></ba-switch>
						<ba-switch .title=${"Toggle me"} @toggle=${h}><slot slot="after">Toggle</slot></ba-switch>
						<ba-switch .title=${"Toggle me.checked"} .checked=${!0} @toggle=${h}>checked</ba-switch>
						<ba-switch .title=${"Toggle me.indeterminate"} .indeterminate=${!0} @toggle=${h}>indeterminate</ba-switch>
						<ba-switch .title=${"Toggle me.disabled"} .disabled=${!0}>disabled</ba-switch>
						<ba-switch .title=${"Toggle me.disabled"} .disabled=${!0} .checked=${!0}>disabled.checked</ba-switch>
					</div>

					<h3>Profile</h3>
					<div class="example row">
						<ba-button id="button1" .label=${"Show/Hide elevation profile"} .type=${"primary"} @click=${()=>{t?(0,v.Er)():((0,u.Oo)(),(0,v.UO)([[1328315.0062647895,6089975.78297438],[1310581.6157026286,6045336.558455837]]))}}></ba-button>
					</div>

					<h3>Measure Distance</h3>
					<div class="example row">
						<ba-button
							id="buttonActivateMeasureDistance"
							.label=${"Measure Distance"}
							.type=${"primary"}
							@click=${()=>{(0,c.Yf)(),(0,u.Oo)()}}
						></ba-button>
						<ba-button
							id="buttonDeactivateMeasureDistance"
							.label=${"Deactivate Measure Distance"}
							.type=${"secondary"}
							@click=${()=>{(0,c.LU)(),(0,u.Oo)()}}
						></ba-button>
					</div>

					<h3>BaseLayer Switcher</h3>
					<div class="example">
						<ba-base-layer-switcher></ba-base-layer-switcher>
					</div>

					<h3>Url of State</h3>
					<div class="example row">
						<ba-button id="copyurlbutton" .label=${"Copy Url"} .type=${"primary"} @click=${async()=>{const e=this._shareService.encodeState(),t=await this._urlService.shorten(e);await this._shareService.copyToClipboard(e),this._url=e,this._shortUrl=t,this.render()}}></ba-button>
						<input type="text" readonly="readonly" value=${this._url} />
						<input type="text" readonly="readonly" value=${this._shortUrl} />
					</div>

					<h3>Layer Manager</h3>
					<div class="example">
						<ba-layer-manager></ba-layer-manager>
					</div>

					<h3>Notifications</h3>
					<div class="example row">
						<ba-button id="notification0" .label=${"Info Notification"} .type=${"primary"} @click=${()=>{(0,d.L)("This is just a Info ("+new Date+")",d.A.INFO)}}></ba-button>
						<ba-button id="notification1" .label=${"Warn Notification"} .type=${"primary"} @click=${()=>{(0,d.L)("This is a Warning! Prepare yourself! ("+new Date+")",d.A.WARN)}}></ba-button>
						<ba-button id="notification2" .label=${"Error Notification"} .type=${"primary"} @click=${()=>{(0,d.L)("This is a Error! Oh no...something went wrong. ("+new Date+")",d.A.ERROR)}}></ba-button>
						<ba-button id="notification3" .label=${"Open Bottom Sheet"} .type=${"primary"} @click=${()=>{const e=()=>setTimeout((()=>(0,_.D)()),2e3),t=()=>(0,_.D)(),n=()=>{const e=this.observe((e=>e.pointer.beingDragged),(()=>{(0,_.D)(),e()}));return r.qy`<div>
					<h3>Bottom Sheet autoclose with...</h3>
					<div style="color: white;background-color: var(--warning-color);">observing store...</div>
					<div style="color: white;background-color: var(--error-color);">i.e. dragging map</div>
				</div>`};var i;(0,_.j)((i=>{switch(i){case 1:return r.qy`<div>
							<h3>Feature-Info</h3>
							<div style="color: var(--text1);background-color: var(--secondary-color);"><b>ID:</b>Lorem ipsum dolor</div>
							<div style="color: var(--text2);background-color: var(--secondary-bg-color);">
								<b>Value:</b>Lorem ipsum dolor sit amet, consetetur sadipscing elitr...
							</div>
							<div style="display:flex">
								<ba-button .label=${"Wait & close"} @click=${e}></ba-button
								><ba-button .label=${"dismiss!"} @click=${t}></ba-button>
							</div>
						</div>`;case 2:return r.qy`<div>
							<h3>Bottom Sheet ...</h3>
							<div style="color: white;background-color: var(--warning-color);">waiting forever...</div>
							<div style="color: white;background-color: var(--error-color);">until a new content for the bottom sheet comes</div>
						</div>`;case 3:return n()}})(S)),S=(i=S)===1?i+1:3===i?1:i+1}}></ba-button>
					</div>
				</div>

				<h2>Common components or functional behaviors</h2>

				<div class="section">
					<h3>ba-buttons</h3>
					<div class="example">
						<div class="row">
							<ba-button id="button0" .label=${"primary style"} .type=${"primary"} @click=${n}></ba-button>
							<ba-button id="button1" .label=${"secondary style"} @click=${i}></ba-button>
							<ba-button id="button2" .label=${"disabled"} .type=${"primary"} .disabled=${!0}></ba-button>
							<ba-button id="button3" .label=${"disabled"} .disabled=${!0}></ba-button>
							<ba-button id="button3" .label=${"loading style"} .type=${"loading"}></ba-button>
						</div>
						<div class="row" style="margin-top:2em">
							<ba-button id="button0" .label=${"primary style"} .icon=${a} .type=${"primary"} @click=${n}></ba-button>
							<ba-button id="button1" .label=${"secondary style"} .icon=${a} @click=${i}></ba-button>
							<ba-button id="button2" .label=${"disabled"} .icon=${a} .type=${"primary"} .disabled=${!0}></ba-button>
							<ba-button id="button3" .label=${"disabled"} .icon=${a} .disabled=${!0}></ba-button>
							<ba-button id="button3" .label=${"loading style"} .icon=${a} .type=${"loading"}></ba-button>
						</div>
					</div>
					<h3>ba-badges</h3>
					<div class="example">
						<div class="row">
							<ba-badge .color=${"var(--text3)"} .background=${"var(--primary-color)"} .label=${"Badge"}></ba-badge>
							<ba-badge .background=${"var(--secondary-bg-color)"} .label=${"Badge"} .color=${"var(--text2)"}></ba-badge>
							<ba-badge .background=${"var(--secondary-color)"} .label=${"42"} .color=${"var(--text3)"}></ba-badge>
							<ba-badge .icon=${a} .size=${"1.1"}></ba-badge>
							<ba-badge
								.icon=${a}
								.size=${"1.5"}
								.color=${"var(--text3)"}
								.background=${"var(--primary-color)"}
								.label=${"Badge"}
								.title=${"Badge title"}
							></ba-badge>
						</div>
					</div>

					<h3>ba-icons</h3>
					<div class="example icons">
						<ba-icon .icon="${a}" .title=${"some"} @click=${n}></ba-icon>
						<ba-icon .icon="${s}" .disabled=${!0} @click=${n}></ba-icon>
						<ba-icon .icon="${s}" .size=${1} @click=${n}></ba-icon>
						<ba-icon .icon="${s}" .size=${2.5} @click=${n}></ba-icon>
					</div>

					<h3>Overflow-Menu</h3>
					<div class="example menu">
						<div><ba-overflow-menu .items=${b}></ba-overflow-menu>Type:(Default)</div>
						<div><ba-overflow-menu .type=${m.$.MEATBALL} .items=${b}></ba-overflow-menu>Type:Meatball</div>
						<div><ba-overflow-menu .type=${m.$.KEBAB} .items=${b}></ba-overflow-menu>Type:Kebab</div>
					</div>

					<h3>Checkbox</h3>
					<div class="example row">
						<ba-checkbox .title=${"checkbox title"} @toggle=${h}><span>checkbox</span></ba-checkbox>
						<ba-checkbox .checked=${!0} .title=${"checkbox title"} @toggle=${h}><span>checkbox checked</span></ba-checkbox>
						<ba-checkbox .disabled=${!0} .title=${"checkbox title"} @toggle=${h}><span>checkbox disabled</span></ba-checkbox>
						<ba-checkbox .checked=${!0} .disabled=${!0} .title=${"checkbox title"} @toggle=${h}
							><span>checkbox checked disabled</span></ba-checkbox
						>
					</div>

					<h3>input</h3>
					<div class="example row">
						<input placeholder="input" />
						<input value="input readonly" readonly />
					</div>

					<h3>textarea</h3>
					<div class="example row">
						<textarea placeholder="textarea"></textarea>
						<textarea readonly> textarea readonly</textarea>
					</div>

					<h3>select</h3>
					<div class="example row">
						<select name="pets">
							<option>Value 1</option>
							<option>Value 2</option>
						</select>
						<select disabled>
							<option>Value 1</option>
							<option>Value 2</option>
						</select>
					</div>

					<h3>ba-form-element</h3>
					<div class="example row">
						<div class="column" style="width:40em;">
							<div class="ba-form-element">
								<input type="text" placeholder="Choose category" id="textarea-foo" />
								<label for="textarea-foo" class="control-label">Choose category</label>
								<i class="bar"></i>
								<i class="icon clear"></i>
							</div>
							<div class="ba-form-element">
								<textarea type="text" placeholder="Description"></textarea>
								<label class="control-label">Description</label>
								<i class="bar"></i>
								<label class="helper-label">Helper text</label>
							</div>
							<div class="ba-form-element">
								<input type="text" id="textarea-foo" placeholder="Test" pattern="[a-z]+" />
								<label for="textarea-foo" class="control-label">Test</label>
								<i class="bar"></i>
								<i class="icon error"></i>
								<label class="helper-label">Helper text</label>
							</div>
							<div class="ba-form-element">
								<input name="email" type="email" placeholder="Your email address" />
								<label for="tttttttt" class="control-label">Your email address</label>
								<i class="bar"></i>
								<i class="icon error"></i>
								<label class="helper-label">Helper text</label>
								<label class="error-label">Error text</label>
							</div>
							<div class="ba-form-element error">
								<input type="mail" id="textarea-foo" placeholder="with label" />
								<label for="textarea-foo" class="control-label">with label</label>
								<i class="bar"></i>
								<label class="helper-label error-label">Helper text error</label>
							</div>
							<div class="ba-form-element">
								<select select required>
									<option value=""></option>
									<option value="1">Value 1</option>
									<option value="2">Value 2</option>
								</select>
								<label for="select" class="control-label">with label</label><i class="bar"></i>
							</div>
						</div>
					</div>

					<h3>Loading hint</h3>
					<div class="example row">
						<ba-spinner></ba-spinner>
						<ba-spinner .label=${"Waiting"}></ba-spinner>
					</div>

					<h3>Credentials</h3>
					<div class="example row">
						<ba-button id="button0" .label=${"Authenticate by password for URL"} .type=${"primary"} @click=${async()=>{(0,u.Oo)(),await(0,y.yy)(1e3);const e="https://my.restricted.url/for/wms",t={},n=this.observe((e=>e.modal),(e=>o(e)),!1),i=(e,t)=>{n(),(e?()=>{(0,d.L)(t.message,d.A.INFO),(0,u.Oo)()}:()=>{(0,d.L)("Authentication aborted",d.A.WARN)})()},o=e=>{e.active||(n(),i(null))};(0,u.qf)("Connect to restricted WMS...",r.qy`<ba-auth-password-credential-panel
					.url=${e}
					.authenticate=${async(n,r)=>(await(0,y.yy)(3e3),r===e&&"foo"===n?.username&&"bar"===n?.password?(t.username=n.username,t.password=n.password,{message:"Credential is valid"}):null)}
					.onClose=${i}
				></ba-auth-password-credential-panel>`)}}></ba-button>
						<div>Hint: Demo Credentials are foo/bar</div>
					</div>

					<div class="example row">
						<ba-button id="button0" .label=${"Authenticate by password for Role"} .type=${"primary"} @click=${async()=>{(0,u.Oo)(),await(0,y.yy)(1e3);const e=g.Mg.PLUS,t={},n=this.observe((e=>e.modal),(e=>o(e)),!1),i=(e,t)=>{n(),(e?()=>{(0,d.L)(t.message,d.A.INFO),(0,u.Oo)()}:()=>{(0,d.L)("Authentication aborted",d.A.WARN)})()},o=e=>{e.active||(n(),i(null))},a=r.qy`Sign in
				<ba-badge .size=${"1.5"} .color=${"var(--text3)"} .background=${"var(--primary-color)"} .label=${"Role"}></ba-badge>`;(0,u.qf)(a,r.qy`<ba-auth-password-credential-panel .authenticate=${async(n,r)=>(await(0,y.yy)(3e3),r===e&&"foo"===n?.username&&"bar"===n?.password?(t.username=n.username,t.password=n.password,{message:"Credential is valid"}):null)} .onClose=${i}></ba-auth-password-credential-panel>`)}}></ba-button>
						<div>Hint: Demo Credentials are foo/bar</div>
					</div>

					<div class="example row">
						<ba-button
							id="button0"
							.label=${"Authenticate by password with custom footer content"}
							.type=${"primary"}
							@click=${async()=>{(0,u.Oo)(),await(0,y.yy)(1e3);const e=g.Mg.PLUS,t={},n=this.observe((e=>e.modal),(e=>o(e)),!1),i=(e,t)=>{n(),(e?()=>{(0,d.L)(t.message,d.A.INFO),(0,u.Oo)()}:()=>{(0,d.L)("Authentication aborted",d.A.WARN)})()},o=e=>{e.active||(n(),i(null))},a=r.qy`<ba-auth-password-credential-bvv-footer></ba-auth-password-credential-bvv-footer>`,s=r.qy`Sign in
				<ba-badge .size=${"1.5"} .color=${"var(--text3)"} .background=${"var(--primary-color)"} .label=${"Role"}></ba-badge>`;(0,u.qf)(s,r.qy`<ba-auth-password-credential-panel
					.authenticate=${async(n,r)=>(await(0,y.yy)(3e3),r===e&&"foo"===n?.username&&"bar"===n?.password?(t.username=n.username,t.password=n.password,{message:"Credential is valid"}):null)}
					.footer=${a}
					.onClose=${i}
				></ba-auth-password-credential-panel>`)}}
						></ba-button>
						<div>Hint: Demo Credentials are foo/bar</div>
					</div>
				</div>
			</div>
		`}static get tag(){return"ba-showcase"}}window.customElements.get(f.tag)||window.customElements.define(f.tag,f);var w=n(45838);window.customElements.get(w.M.tag)||window.customElements.define(w.M.tag,w.M)},26221:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});class r{constructor(){if(this.constructor===r)throw new Error("Can not construct abstract class.")}async register(e){throw new Error("Please implement abstract method #register or do not call super.register from child.")}}},28288:(e,t,n)=>{"use strict";n.d(t,{$A:()=>u,k3:()=>p,xf:()=>g});var r=n(47518),i=n(26221),o=n(89707),a=n(56729),s=n(38903),c=n(42376),l=n(18410),d=n(40781);const u="highlight_layer",g="queryRunningHighlightFeatureId",h="querySuccessHighlightFeatureId";class p extends i.h{constructor(){super();const{TranslationService:e}=l.z.inject("TranslationService");this._translationService=e}async register(e){const t=`${(0,c.Ds)()}`,n=e=>this._translationService.translate(e),{EnvironmentService:i}=l.z.inject("EnvironmentService");i.getQueryParams().get(d.h.CROSSHAIR)&&setTimeout((()=>{(0,a.lX)({id:`${(0,c.Ds)()}`,label:n("global_marker_symbol_label"),data:{coordinate:e.getState().position.center},type:a.pN.MARKER})})),(0,r.lB)(e,(e=>e.highlight.active),(e=>{e?(0,o.VE)(u,{constraints:{hidden:!0,alwaysTop:!0}}):(0,o.e5)(u)})),(0,r.lB)(e,(e=>e.pointer.click),(()=>{(0,a.kf)(g)})),(0,r.lB)(e,(e=>e.mainMenu.tab),(e=>{e!==s.K.FEATUREINFO&&(0,a.kf)([g,h])}),!1),(0,r.lB)(e,(e=>e.search.query),(e=>{e.payload||(0,a.kf)(["searchResultHighlightFeatureId","searchResultTemporaryHighlightFeatureId"])})),(0,r.lB)(e,(e=>e.featureInfo.querying),((e,n)=>{if(e){const e=n.featureInfo.coordinate.payload;(0,a.lX)({id:t,data:{coordinate:e},type:a.pN.QUERY_RUNNING}),(0,a.kf)(h)}else{const e=n.featureInfo.coordinate.payload;(0,a.kf)(t),n.featureInfo.current.some((e=>!e.geometry))&&(0,a.lX)({id:h,data:{coordinate:e},type:a.pN.QUERY_SUCCESS})}}))}}},14075:(e,t,n)=>{"use strict";n.d(t,{n1:()=>u,C_:()=>l,EI:()=>d});var r=n(18410),i=n(44668);const o=async e=>{const{HttpService:t,ConfigService:n}=r.z.inject("HttpService","ConfigService"),o=await(async()=>{switch(e.constructor){case d:return await t.post(`${n.getValueAsPath("BACKEND_URL")}feedback/tim/message`,JSON.stringify(e),i.z.JSON,{timeout:2e3});case l:return await t.post(`${n.getValueAsPath("BACKEND_URL")}feedback/general/message`,JSON.stringify(e),i.z.JSON,{timeout:2e3});default:throw new Error("Feedback could not be stored: Unknown feedback class")}})();if(200===o.status)return!0;throw new Error(`Feedback could not be stored: Http-Status ${o.status}`)},a=async()=>{const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService"),n=`${t.getValueAsPath("BACKEND_URL")}feedback/tim/categories`,i=await e.get(n);if(200===i.status)return await i.json();throw new Error(`MapFeedback categories could not be loaded: Http-Status ${i.status}`)},s=async()=>{const{HttpService:e,ConfigService:t}=r.z.inject("HttpService","ConfigService"),n=`${t.getValueAsPath("BACKEND_URL")}feedback/general/categories`,i=await e.get(n);if(200===i.status)return await i.json();throw new Error(`MapFeedback categories could not be loaded: Http-Status ${i.status}`)},c=()=>"tim";class l{constructor(e,t,n=null,r=null){this.category=e,this.description=t,this.email=n,this.rating=r}}class d{constructor(e,t,n,r,i=null){this.state=e,this.category=t,this.description=n,this.geometryId=r,this.email=i}}class u{constructor(e=o,t=a,n=c,r=s){this._feedbackStorageProvider=e,this._mapFeedbackCategoriesProvider=t,this._mapFeedbackOverlayGeoResourceProvider=n,this._generalFeedbackCategoriesProvider=r,this._mapCategories=null,this._generalCategories=null}async getMapFeedbackCategories(){return this._mapCategories||(this._mapCategories=await this._mapFeedbackCategoriesProvider()),[...this._mapCategories]}async getGeneralFeedbackCategories(){return this._generalCategories||(this._generalCategories=await this._generalFeedbackCategoriesProvider()),[...this._generalCategories]}async save(e){return this._feedbackStorageProvider(e)}getOverlayGeoResourceId(){return this._mapFeedbackOverlayGeoResourceProvider()}}},51207:(e,t,n)=>{"use strict";n.d(t,{Ve:()=>c,a9:()=>l,aI:()=>a,hM:()=>d,l6:()=>s});var r=n(18410),i=n(28353),o=n(94447);const a=(e,t=0)=>{const{GeoResourceService:n}=r.z.inject("GeoResourceService");if(e.getType()===o.Fl.AGGREGATE)return[...new Set(e.geoResourceIds.map((e=>{const r=n.byId(e);return r?r.getAttribution(t):null})).filter((e=>!!e)).flatMap((e=>e)))];const i=e.attribution;if(!i||t<0)return null;if(Array.isArray(i)){const e=Math.round(t);return e>i.length-1?i[i.length-1]:i[e]}return i},s=e=>e.attribution?(0,i.Kg)(e.attribution)?u(e.attribution):e.attribution:u(""),c=e=>{const{TranslationService:t}=r.z.inject("TranslationService");return{description:e.label,copyright:{label:t.translate("global_locally_imported_dataset_copyright_label")}}},l=e=>({description:e.label,copyright:[{label:"Bayerische Vermessungsverwaltung"},{label:"Powered by Graphhopper",url:"https://www.graphhopper.com/"}]}),d=e=>t=>({description:t.label,copyright:(e=>{const t=new URL(e);return{label:t.hostname,url:`${t.protocol}//${t.hostname}`}})(e)}),u=e=>({copyright:{label:e}})},63103:(e,t,n)=>{"use strict";n.d(t,{E4:()=>h,FJ:()=>m,ZZ:()=>u,tH:()=>p});var r=n(78314),i=n(94447),o=n(39400),a=n(18410),s=n(28353),c=n(42376),l=n(51207);const d=e=>{const t=t=>t?t.setAttributionProvider(l.aI).setAttribution(g(e)).setOpacity(e.opacity??t.opacity).setHidden(e.hidden??t.hidden).setMinZoom(e.minZoom??null).setMaxZoom(e.maxZoom??null).setQueryable(e.queryable??!0).setExportable(e.exportable??!0).setAuthRoles(e.authRoles??[]):null;return t((e=>{switch(e.type){case"wms":return new i.He(e.id,e.label,e.url,e.layers,e.format).setExtraParams(e.extraParams??{}).setMaxSize(e.maxSize??null);case"xyz":return new i.X5(e.id,e.label,e.urls).setTileGridId(e.tileGridId);case"vt":return new i.u8(e.id,e.label,e.url);case"vector":return new i.fX(e.id,_(e.url,Symbol.for(e.sourceType),e.id,e.label),e.label).onResolve((n=>{t(n.setClusterParams(e.clusterParams??{}))}));case"rtvector":return new i.H5(e.id,e.label,e.url,Symbol.for(e.sourceType)).setClusterParams(e.clusterParams??{});case"aggregate":return new i.DJ(e.id,e.label,e.geoResourceIds);default:return null}})(e))},u=async()=>{const{HttpService:e,ConfigService:t}=a.z.inject("HttpService","ConfigService"),n=t.getValueAsPath("BACKEND_URL")+"georesources/all",r=await e.get(n,{timeout:2e3});if(r.ok){const e=[];return(await r.json()).forEach((t=>{const n=d(t);n?e.push(n):console.warn("Could not create a GeoResource  for "+t.id)})),e}throw new Error("GeoResources could not be loaded")},g=e=>Array.isArray(e.extendedAttributions)?e.extendedAttributions.map((t=>({copyright:t.copyright??e?.attribution?.copyright??null,description:t.description??e?.attribution?.description??null}))):e.attribution??null,h=e=>{const{HttpService:t,ConfigService:n}=a.z.inject("HttpService","ConfigService");return new i.fX(e,(async e=>{const i=`${n.getValueAsPath("BACKEND_URL")}georesources/byId/${e}`,o=await t.get(i);if(o.ok){const e=await o.json(),t=d(e);if(t)return t}throw new r.o(`GeoResource for id '${e}' could not be loaded`,e,o.status)}))},p=e=>{if((0,s.oq)(e)){const t=e.split("||"),{SourceTypeService:n,ImportVectorDataService:s,ImportWmsService:c}=a.z.inject("SourceTypeService","ImportVectorDataService","ImportWmsService"),l=async()=>{const i=t[0],{status:a,sourceType:l}=await n.forUrl(i);if(a===o.$I.OK||a===o.$I.BAA_AUTHENTICATED){const n=async n=>{switch(n.name){case o.bu.GEOJSON:case o.bu.GPX:case o.bu.KML:case o.bu.EWKT:{const r=t[1],o=await s.forUrl(i,{sourceType:n,id:e}).get();return r?.length?o.setLabel(r):o}case o.bu.WMS:{const r=()=>{throw new Error(`Unsupported WMS: '${i}'`)},s=t[1],l=t[2],d=s?{sourceType:n,layers:[s],ids:[e]}:{sourceType:n,layers:[],ids:[e]};d.isAuthenticated=a===o.$I.BAA_AUTHENTICATED;const u=(await c.forUrl(i,d))[0]??r();return l?.length?u.setLabel(l):u}default:throw new Error(`Unsupported source type '${Object.keys(n.name)[0]}'`)}};return n(l)}throw new r.o(`SourceTypeService returns status=${Object.keys(o.$I).find((e=>o.$I[e]===a))} for ${i}`,e)};return new i.fX(e,l)}return null},m=(e,t,n=(0,c.Ds)().toString(),o=null)=>async()=>{const{HttpService:s}=a.z.inject("HttpService"),c=await s.get(e,{timeout:5e3});if(c.ok){const e=await c.text();return new i.HA(n,o,t).setSource(e,4326)}throw new r.o(`VectorGeoResource for '${e}' could not be loaded`,n,c.status)},_=(e,t,n,o)=>async()=>{const{HttpService:s,UrlService:c,GeoResourceService:l}=a.z.inject("HttpService","UrlService","GeoResourceService"),d=await s.get(c.proxifyInstant(e),{timeout:5e3},{response:[l.getAuthResponseInterceptorForGeoResource(n)]});if(d.ok){const e=await d.text();return new i.HA(n,o,t).setSource(e,4326)}throw new r.o(`VectorGeoResource for '${e}' could not be loaded`,n,d.status)}},72145:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,j:()=>a});var r=n(61263),i=n(18410);const o=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},a=e=>{o().dispatch({type:r.TR,payload:e})},s=()=>{o().dispatch({type:r.TR,payload:null})}},61263:(e,t,n)=>{"use strict";n.d(t,{TR:()=>r,j2:()=>o});const r="bottomSheet/contentChanged",i={data:null,active:!1},o=(e=i,t)=>{const{type:n,payload:o}=t;return n===r?{...e,data:o,active:!!o}:e}},39447:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>m,Hy:()=>u,LU:()=>c,O9:()=>y,TF:()=>S,Xo:()=>p,Yf:()=>s,ZR:()=>h,cL:()=>v,dv:()=>d,eC:()=>g,iY:()=>l,td:()=>_});var r=n(49105),i=n(18410),o=n(47518);const a=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},s=(e=!0)=>{a().dispatch({type:r.kR,payload:{active:!0,createPermanentLayer:e}})},c=()=>{a().dispatch({type:r.kR,payload:{active:!1,createPermanentLayer:!0}})},l=e=>{a().dispatch({type:r.LN,payload:e})},d=e=>{a().dispatch({type:r.Em,payload:e})},u=e=>{a().dispatch({type:r.o1,payload:e})},g=e=>{a().dispatch({type:r.zN,payload:e})},h=e=>{a().dispatch({type:r.HD,payload:e})},p=e=>{a().dispatch({type:r.Au,payload:e})},m=e=>{a().dispatch({type:r.o7,payload:new o.MD(e)})},_=e=>{a().dispatch({type:r.Wn,payload:e})},v=()=>{a().dispatch({type:r.tD,payload:new o.MD("reset")})},y=()=>{a().dispatch({type:r.ly,payload:new o.MD("finish")})},S=()=>{a().dispatch({type:r.WD,payload:new o.MD("remove")})}},49105:(e,t,n)=>{"use strict";n.d(t,{Au:()=>d,BE:()=>y,Em:()=>a,HD:()=>l,LN:()=>o,WD:()=>m,Wn:()=>g,kR:()=>i,ly:()=>h,o1:()=>s,o7:()=>u,tD:()=>p,zN:()=>c,zR:()=>_});var r=n(47518);const i="draw/active",o="draw/mode",a="draw/type",s="draw/geometryIsValid",c="draw/style",l="draw/selectedStyle",d="draw/description",u="draw/fileSaveResult",g="draw/selection",h="draw/finish",p="draw/reset",m="draw/remove",_={symbolSrc:null,scale:null,color:null,text:null},v={active:!1,createPermanentLayer:!0,mode:null,type:null,validGeometry:!1,style:_,selectedStyle:null,description:null,fileSaveResult:new r.MD(null),selection:[],finish:null,reset:null,remove:null},y=(e=v,t)=>{const{type:n,payload:r}=t;switch(n){case i:{const{active:t,createPermanentLayer:n}=r;return{...e,active:t,createPermanentLayer:n}}case o:return{...e,mode:r};case a:return{...e,type:r};case s:return{...e,validGeometry:r};case c:return{...e,style:r};case l:return{...e,selectedStyle:r};case d:return{...e,description:r};case"draw/clearDescription":return{...e,description:null};case"draw/clearText":return{...e,style:{...e.style,text:null},selectedStyle:e.selectedStyle?{...e.selectedStyle,style:{...e.selectedStyle.style,text:null}}:null};case u:return{...e,fileSaveResult:r};case g:return{...e,selection:[...r]};case h:return{...e,finish:r};case p:return{...e,reset:r};case m:return{...e,remove:r}}return e}},38611:(e,t,n)=>{"use strict";n.d(t,{Er:()=>s,KZ:()=>c,UO:()=>a});var r=n(18410),i=n(13869);const o=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},a=()=>{o().dispatch({type:i.K1,payload:{active:!0}})},s=()=>{o().dispatch({type:i.K1,payload:{active:!1}})},c=e=>{o().dispatch({type:i.hK,payload:e})}},13869:(e,t,n)=>{"use strict";n.d(t,{K1:()=>r,Tk:()=>a,hK:()=>i});const r="elevationProfile/activeChanged",i="elevationProfile/changed",o={active:!1,id:null},a=(e=o,t)=>{const{type:n,payload:a}=t;switch(n){case r:{const{active:t}=a;return{...e,active:t}}case i:return{...e,id:a}}return e}},78645:(e,t,n)=>{"use strict";n.d(t,{E7:()=>l,Mr:()=>u,mj:()=>c,pT:()=>d,wA:()=>s,zN:()=>g});var r=n(31507),i=n(18410),o=n(47518);const a=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},s=Object.freeze({GEOJSON:0}),c=e=>{const t=Array.isArray(e)?[...e]:[e];a().dispatch({type:r.NX,payload:t})},l=e=>{a().dispatch({type:r.zy,payload:new o.MD(e)})},d=()=>{a().dispatch({type:r.Hz,payload:new o.MD})},u=e=>{a().dispatch({type:r.i_,payload:e})},g=e=>{a().dispatch({type:r.mC,payload:e})}},31507:(e,t,n)=>{"use strict";n.d(t,{Hz:()=>o,NX:()=>r,Vj:()=>l,i_:()=>a,mC:()=>s,zy:()=>i});const r="featureInfo/added",i="featureInfo/request/start",o="featureInfo/request/abort",a="featureInfo/queriedGeoresource/added",s="featureInfo/queriedGeoresource/removed",c={current:[],coordinate:null,queries:[],querying:!1,aborted:null},l=(e=c,t)=>{const{type:n,payload:l}=t;switch(n){case r:return{...e,current:[...l,...e.current]};case i:return{...e,current:[],coordinate:l,querying:!0};case a:return{...e,queries:[...e.queries,l],querying:!0};case s:{const t=e.queries.filter((e=>e!==l));return{...e,queries:t,querying:t.length>0}}case o:return{...e,queries:[],aborted:l,querying:!1}}return e}},52957:(e,t,n)=>{"use strict";n.d(t,{Kk:()=>u,LU:()=>s,Wh:()=>l,Yf:()=>a,c_:()=>d,uc:()=>c});var r=n(83739),i=n(18410);const o=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},a=()=>{o().dispatch({type:r.kR,payload:!0})},s=()=>{o().dispatch({type:r.kR,payload:!1})},c=e=>{o().dispatch({type:r.nz,payload:e})},l=e=>{o().dispatch({type:r.rg,payload:e})},d=e=>{o().dispatch({type:r.NH,payload:e})},u=e=>{o().dispatch({type:r.Zg,payload:e})}},83739:(e,t,n)=>{"use strict";n.d(t,{NH:()=>a,Zg:()=>s,kR:()=>r,nz:()=>i,rS:()=>l,rg:()=>o});const r="geolocation/active",i="geolocation/denied",o="geolocation/tracking",a="geolocation/accuracy",s="geolocation/position",c={active:!1,denied:!1,tracking:!1,accuracy:null,position:null},l=(e=c,t)=>{const{type:n,payload:l}=t;switch(n){case r:return{...e,active:l};case i:return{...e,denied:l};case s:return{...e,position:l};case a:return{...e,accuracy:l};case o:return{...e,tracking:l}}return e}},56729:(e,t,n)=>{"use strict";n.d(t,{N_:()=>l,kf:()=>d,lX:()=>c,pN:()=>o,v4:()=>a});var r=n(1175),i=n(18410);const o=Object.freeze({MARKER:0,MARKER_TMP:1,QUERY_RUNNING:2,QUERY_SUCCESS:3,DEFAULT:4,DEFAULT_TMP:5}),a=Object.freeze({GEOJSON:0,WKT:1}),s=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},c=e=>{const t=Array.isArray(e)?[...e]:[e];s().dispatch({type:r.R_,payload:t})},l=()=>{s().dispatch({type:r.Yz})},d=e=>{const t=Array.isArray(e)?[...e]:[e];s().dispatch({type:r.um,payload:t})}},1175:(e,t,n)=>{"use strict";n.d(t,{R_:()=>i,Yz:()=>o,hs:()=>c,um:()=>a});var r=n(42376);const i="highlight/feature/add",o="highlight/clear",a="highlight/remove/id",s={features:[],active:!1},c=(e=s,t)=>{const n=e=>e.map((e=>(e.id||(e.id=(0,r.Ds)()),e))),{type:c,payload:l}=t;switch(c){case i:{const t=[...e.features,...n(l)],r=!!t.length;return{...e,features:t,active:r}}case o:return{...e,features:[],active:!1};case a:{const t=e.features.filter((e=>!l.includes(e.id))),n=!!t.length;return{...e,features:t,active:n}}}return e}},80009:(e,t,n)=>{"use strict";n.d(t,{X:()=>l,c:()=>c});var r=n(18410),i=n(47518),o=n(6727);const a={url:null,data:null,sourceType:null},s=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},c=(e,t)=>{s().dispatch({type:o.pI,payload:new i.MD({...a,url:e,sourceType:t})})},l=(e,t)=>{s().dispatch({type:o.pI,payload:new i.MD({...a,data:e,sourceType:t})})}},6727:(e,t,n)=>{"use strict";n.d(t,{iu:()=>o,pI:()=>r});const r="import/added",i={latest:null},o=(e=i,t)=>{const{type:n,payload:o}=t;return n===r?{...e,latest:o}:e}},89707:(e,t,n)=>{"use strict";n.d(t,{Ek:()=>u,VE:()=>s,e5:()=>c,m6:()=>l,ux:()=>d});var r=n(14629),i=n(18410),o=n(94447);const a=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},s=(e,t={})=>{a().dispatch({type:r.dN,payload:{id:e,properties:t}})},c=e=>{a().dispatch({type:r.ZS,payload:e})},l=(e=[],t=!1)=>{a().dispatch({type:r.Qw,payload:{layerOptions:[...e],restoreHiddenLayers:t}})},d=()=>{a().dispatch({type:r.mg,payload:!0})},u=e=>{a().dispatch({type:r.bW,payload:e instanceof o.q9?e.id:e})}},14629:(e,t,n)=>{"use strict";n.d(t,{Qw:()=>a,ZS:()=>o,bW:()=>c,dN:()=>i,mg:()=>s,vH:()=>g});var r=n(47518);const i="layer/added",o="layer/removed",a="layer/removeAndSet",s="layer/resources/ready",c="layer/geoResource/changed",l={active:[],removed:new r.MD([]),added:new r.MD([]),ready:!1},d=e=>(e.forEach(((e,t)=>{e.zIndex=t})),e),u=e=>{const t=e.filter((e=>e.constraints.alwaysTop)),n=e.sort(((e,t)=>e.zIndex-t.zIndex));return t.forEach((e=>{n.push(n.splice(n.indexOf(e),1)[0])})),d(n)},g=(e=l,t)=>{const{type:n,payload:g}=t;switch(n){case i:return((e,t)=>{const{id:n,properties:i}=t;if(-1!==e.active.findIndex((e=>e.id===n)))return{...e};const o={visible:!0,zIndex:-1,opacity:1,constraints:{alwaysTop:!1,hidden:!1,cloneable:!0,metaData:!0},grChangedFlag:null,geoResourceId:n,...i,constraints:{alwaysTop:!1,hidden:!1,cloneable:!0,metaData:!0,...i.constraints??{}},id:n},{constraints:{alwaysTop:a}}=o,s=i.zIndex>=0&&!a?i.zIndex:e.active.length,c=[...e.active];return c.splice(s,0,o),{...e,active:u(d(c)),added:new r.MD([n])}})(e,g);case o:return((e,t)=>{const n=d(e.active.filter((e=>e.id!==t)));return{...e,active:n,removed:e.active.length!==n.length?new r.MD([t]):e.removed}})(e,g);case a:return((e,t)=>{const{layerOptions:n,restoreHiddenLayers:i}=t,o=n.map(((t,n)=>({visible:!0,zIndex:-1,opacity:1,constraints:{alwaysTop:!1,hidden:!1,cloneable:!0,metaData:!0},grChangedFlag:null,geoResourceId:t.id,...t,zIndex:n,grChangedFlag:e.active[n]?.id===t.id?e.active[n].grChangedFlag:null})));if(i){const t=e.active.map(((e,t)=>e.constraints.hidden?t:-1)).filter((e=>e>-1));t.forEach((t=>{const n=e.active[t];n.zIndex=o.length,o.splice(o.length,0,n)}))}return{...e,active:o,removed:e.active.length>0?new r.MD([...e.active.filter((e=>!i||!e.constraints.hidden)).map((e=>e.id))]):e.removed,added:n.length>0?new r.MD(n.map((e=>e.id))):e.added}})(e,g);case"layer/modified":return((e,t)=>{const{id:n,properties:r}=t,i=e.active.find((e=>e.id===n));if(i){const t=[...e.active],n=t.indexOf(i);t.splice(n,1);const o={...i,...r};return t.splice(o.zIndex,0,o),{...e,active:u(d(t))}}return{...e}})(e,g);case c:return((e,t)=>({...e,active:e.active.map((e=>({...e,grChangedFlag:e.geoResourceId===t?new r.MD(t):e.grChangedFlag})))}))(e,g);case s:return((e,t)=>({...e,ready:t}))(e,g)}return e}},52411:(e,t,n)=>{"use strict";n.d(t,{VN:()=>s,ho:()=>a,sI:()=>c});var r=n(9525),i=n(18410);const o=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},a=()=>{o().dispatch({type:r.Hp,payload:!0})},s=()=>{o().dispatch({type:r.Hp,payload:!1})},c=e=>{o().dispatch({type:r.l3,payload:e})}},9525:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>r,l3:()=>i,po:()=>o});const r="components/menu/mainMenu/open",i="components/menu/mainMenu/tabChanged",o=(e=window)=>{const t={open:!e.matchMedia("(max-width: 80em) or (orientation: portrait)").matches,tab:null};return(e=t,n)=>((e,t)=>{const{type:n,payload:o}=t;switch(n){case r:return{...e,open:o};case i:return{...e,tab:o}}return e})(e,n)}},56851:(e,t,n)=>{"use strict";n.d(t,{J5:()=>s,LU:()=>r,Xd:()=>o,i8:()=>i});const r="pointer/beingMoved",i="pointer/moveStart",o="pointer/moveEnd",a={moveStart:null,moveEnd:null,beingMoved:!1},s=(e=a,t)=>{const{type:n,payload:s}=t;switch(n){case r:return{...e,beingMoved:s};case i:return{...e,moveStart:s};case o:return{...e,moveEnd:s}}return e}},50567:(e,t,n)=>{"use strict";n.d(t,{Z_:()=>s,jA:()=>a});var r=n(1473),i=n(18410);const o=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},a=(e,t)=>{o().dispatch({type:r.aN,payload:{coordinate:e,content:t}})},s=()=>{o().dispatch({type:r.aN,payload:{coordinate:null,content:null}})}},1473:(e,t,n)=>{"use strict";n.d(t,{Jm:()=>o,aN:()=>r});const r="contextMenu/changed",i={coordinate:null,content:null,active:!1},o=(e=i,t)=>{const{type:n,payload:o}=t;switch(n){case r:return{...e,coordinate:o.coordinate,content:o.content,active:!!o.coordinate};case"contextMenu/contentChanged":return{...e,content:o}}return e}},16129:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>u,LU:()=>c,Yf:()=>s,b4:()=>l,iY:()=>d,td:()=>g});var r=n(79071),i=n(18410),o=n(47518);const a=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},s=()=>{a().dispatch({type:r.kR,payload:!0})},c=()=>{a().dispatch({type:r.kR,payload:!1})},l=e=>{a().dispatch({type:r.Y2,payload:e})},d=e=>{a().dispatch({type:r.LN,payload:e})},u=e=>{a().dispatch({type:r.o7,payload:new o.MD(e)})},g=e=>{a().dispatch({type:r.Wn,payload:e})}},79071:(e,t,n)=>{"use strict";n.d(t,{LN:()=>a,Vy:()=>d,Wn:()=>c,Y2:()=>o,kR:()=>i,o7:()=>s});var r=n(47518);const i="measurement/active",o="measurement/statistic",a="measurement/mode",s="measurement/fileSaveResult",c="measurement/selection",l={active:!1,statistic:{length:null,area:null},mode:null,fileSaveResult:new r.MD(null),selection:[],finish:null,reset:null,remove:null},d=(e=l,t)=>{const{type:n,payload:r}=t;switch(n){case i:return{...e,active:r};case o:return{...e,statistic:r};case a:return{...e,mode:r};case s:return{...e,fileSaveResult:r};case c:return{...e,selection:[...r]};case"measurement/finish":return{...e,finish:r};case"measurement/reset":return{...e,reset:r};case"measurement/remove":return{...e,remove:r}}return e}},96057:(e,t,n)=>{"use strict";n.d(t,{ZD:()=>s,qi:()=>c,sL:()=>a});var r=n(18410),i=n(22295);const o=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},a=e=>{const{media:{observeResponsiveParameter:t}}=o().getState();t&&o().dispatch({type:i.aF,payload:e})},s=e=>{const{media:{observeResponsiveParameter:t}}=o().getState();t&&o().dispatch({type:i.z_,payload:e})},c=e=>{o().dispatch({type:i.T5,payload:e})}},22295:(e,t,n)=>{"use strict";n.d(t,{KC:()=>c,SO:()=>s,T5:()=>o,TN:()=>l,aF:()=>r,rf:()=>a,z_:()=>i});const r="media/orientation",i="media/min-width",o="media/color-schema",a="(orientation: portrait)",s="(min-width: 80em)",c="(prefers-color-scheme: dark)",l=(e=window)=>{const t={portrait:e.matchMedia(a).matches,minWidth:e.matchMedia(s).matches,darkSchema:e.matchMedia(c).matches,observeResponsiveParameter:!0};return(e=t,n)=>((e,t)=>{const{type:n,payload:a}=t;switch(n){case r:return{...e,portrait:a};case i:return{...e,minWidth:a};case o:return{...e,darkSchema:a};case"media/responsive-parameter-observation":return{...e,observeResponsiveParameter:a}}return e})(e,n)}},56741:(e,t,n)=>{"use strict";n.d(t,{LU:()=>c,Yf:()=>s,_1:()=>u,hF:()=>l,iY:()=>d,mh:()=>g});var r=n(18410),i=n(47518),o=n(55171);const a=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},s=()=>{a().dispatch({type:o.kR,payload:!0})},c=()=>{a().dispatch({type:o.kR,payload:!1})},l=e=>{a().dispatch({type:o.C9,payload:e})},d=e=>{a().dispatch({type:o.dg,payload:e})},u=e=>{a().dispatch({type:o.R6,payload:new i.MD(e)})},g=()=>{a().dispatch({type:o.R6,payload:new i.MD(null)})}},55171:(e,t,n)=>{"use strict";n.d(t,{C9:()=>i,R6:()=>a,dg:()=>o,kR:()=>r,uR:()=>c});const r="mfp/active",i="mfp/current/scale",o="mfp/current",a="mfp/job/spec",s={active:!1,current:{id:null,scale:null,dpi:null},showGrid:!1,jobRequest:null,jobSpec:null},c=(e=s,t)=>{const{type:n,payload:c}=t;switch(n){case r:return{...e,active:c};case i:{const{current:t}=e;return{...e,current:{...t,scale:c}}}case"mfp/current/id":{const{current:t}=e;return{...e,current:{...t,id:c}}}case o:return{...e,current:c};case"mfp/showGrid":return{...e,showGrid:c};case"mfp/job/request":return{...e,jobRequest:c};case a:return{...e,jobSpec:c}}return e}},24973:(e,t,n)=>{"use strict";n.d(t,{Oo:()=>s,qf:()=>a});var r=n(86731),i=n(18410);const o=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},a=(e,t,n={steps:1})=>{o().dispatch({type:r.k7,payload:{title:e,content:t,options:n}})},s=()=>{o().dispatch({type:r.k7,payload:null})}},86731:(e,t,n)=>{"use strict";n.d(t,{iT:()=>o,k7:()=>r});const r="modal/open-close",i={data:null,active:!1,currentStep:0,steps:1},o=(e=i,t)=>{const{type:n,payload:o}=t;switch(n){case r:return{...e,data:o,active:!!o,currentStep:o?e.currentStep:0,steps:o?o.options.steps:1};case"modal/incrementStep":return{...e,currentStep:e.currentStep<e.steps-1?e.currentStep+1:e.steps-1};case"modal/decrementStep":return{...e,currentStep:e.currentStep>0?e.currentStep-1:0}}return e}},78659:(e,t,n)=>{"use strict";n.d(t,{ho:()=>a,sm:()=>s});var r=n(73469),i=n(18410);const o=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},a=()=>{o().dispatch({type:r.Hp,payload:!0})},s=e=>{o().dispatch({type:r.Gq,payload:e})}},73469:(e,t,n)=>{"use strict";n.d(t,{Gq:()=>o,Hp:()=>i,bP:()=>a});var r=n(38903);const i="navigationRail/open",o="navigationRail/visitedTabIds",a=(e=window)=>{const t={open:!!e.matchMedia("(orientation: landscape) and (max-width: 80em)").matches,visitedTabIds:[r.K.FEATUREINFO,r.K.ROUTING]};return(e=t,n)=>((e,t)=>{const{type:n,payload:r}=t;switch(n){case i:return{...e,open:r};case o:return{...e,visitedTabIds:[...new Set([...e.visitedTabIds,r])]}}return e})(e,n)}},2277:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,L:()=>s});var r=n(91875),i=n(18410),o=n(47518);const a=Object.freeze({INFO:Symbol.for("info"),WARN:Symbol.for("warn"),ERROR:Symbol.for("error")}),s=(e,t)=>{(()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()})().dispatch({type:r.th,payload:new o.MD({content:e,level:t})})}},91875:(e,t,n)=>{"use strict";n.d(t,{qn:()=>o,th:()=>r});const r="notification/added",i={latest:null},o=(e=i,t)=>{const{type:n,payload:o}=t;return n===r?{...e,latest:o}:e}},39043:(e,t,n)=>{"use strict";n.d(t,{Fw:()=>a,SM:()=>i,a6:()=>r,cw:()=>o,yp:()=>c});const r="pointer/click",i="pointer/contextClick",o="pointer/beingDragged",a="pointer/move",s={click:null,contextClick:null,beingDragged:!1,move:null},c=(e=s,t)=>{const{type:n,payload:c}=t;switch(n){case r:return{...e,click:c};case i:return{...e,contextClick:c};case a:return{...e,move:c};case o:return{...e,beingDragged:c}}return e}},83245:(e,t,n)=>{"use strict";n.d(t,{BY:()=>w,CI:()=>p,F4:()=>u,FA:()=>_,Uj:()=>S,bg:()=>m,bx:()=>M,dB:()=>g,e1:()=>y,eP:()=>d,oi:()=>v,sQ:()=>b,uj:()=>h});var r=n(93003),i=n(18410),o=n(47518),a=n(99887);const s=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},c=()=>{const{MapService:e}=i.z.inject("MapService");return e},l=e=>e>c().getMaxZoomLevel()?c().getMaxZoomLevel():e<c().getMinZoomLevel()?c().getMinZoomLevel():(0,a.qL)(e),d=e=>{const{zoom:t,center:n}=e;s().dispatch({type:r.H5,payload:{center:(0,a.OB)(n),zoom:l(t)}})},u=e=>{const{zoom:t,rotation:n}=e;s().dispatch({type:r.Sb,payload:{rotation:(0,a.FW)(n),zoom:l(t)}})},g=e=>{const{center:t,rotation:n}=e;s().dispatch({type:r.oZ,payload:{center:(0,a.OB)(t),rotation:(0,a.FW)(n)}})},h=e=>{const{zoom:t,center:n,rotation:i}=e;s().dispatch({type:r.gg,payload:{zoom:l(t),center:(0,a.OB)(n),rotation:(0,a.FW)(i)}})},p=e=>{s().dispatch({type:r.Qf,payload:l(e)})},m=e=>{s().dispatch({type:r.Qt,payload:(0,a.FW)(e)})},_=e=>{s().dispatch({type:r.ZW,payload:(0,a.FW)(e)})},v=()=>{const{position:{zoom:e}}=s().getState();s().dispatch({type:r.NK,payload:l(e+1)})},y=()=>{const{position:{zoom:e}}=s().getState();s().dispatch({type:r.NK,payload:l(e-1)})},S=e=>{s().dispatch({type:r.dN,payload:(0,a.OB)(e)})},b=e=>{s().dispatch({type:r.E_,payload:(0,a.OB)(e)})},f={useVisibleViewport:!0},w=(e,t={})=>{const n={...f,...t};s().dispatch({type:r.fS,payload:new o.MD({extent:e,options:n})})},M=(e,t={})=>{const n={...f,...t};s().dispatch({type:r.zt,payload:new o.MD({id:e,options:n})})}},93003:(e,t,n)=>{"use strict";n.d(t,{E_:()=>c,H5:()=>d,NK:()=>i,Qf:()=>o,Qt:()=>g,Sb:()=>a,ZW:()=>h,aJ:()=>y,dN:()=>s,fS:()=>p,gg:()=>u,oZ:()=>l,zt:()=>m});var r=n(47518);const i="position/zoom",o="position/live_zoom",a="position/zoom_rotation",s="position/center",c="position/live_center",l="position/center_rotation",d="position/zoom_center",u="position/zoom_center_rotation",g="position/rotation",h="position/live_rotation",p="position/fit",m="position/fit_layer",_=[1288239.2412306187,6130212.561641981],v={zoom:12,liveZoom:12,center:_,liveCenter:_,rotation:0,liveRotation:0,fitRequest:new r.MD(null),fitLayerRequest:new r.MD(null)},y=(e=v,t)=>{const{type:n,payload:r}=t;switch(n){case i:return{...e,zoom:r};case o:return{...e,liveZoom:r};case a:{const{zoom:t,rotation:n}=r;return{...e,zoom:t,rotation:n}}case s:return{...e,center:r};case c:return{...e,liveCenter:r};case l:{const{center:t,rotation:n}=r;return{...e,center:t,rotation:n}}case d:{const{zoom:t,center:n}=r;return{...e,zoom:t,center:n}}case u:{const{zoom:t,center:n,rotation:i}=r;return{...e,zoom:t,center:n,rotation:i}}case g:return{...e,rotation:r};case h:return{...e,liveRotation:r};case p:return{...e,fitRequest:r};case m:return{...e,fitLayerRequest:r}}return e}},31533:(e,t,n)=>{"use strict";n.d(t,{BY:()=>_,Bi:()=>p,C$:()=>m,F7:()=>b,Fb:()=>c,Gl:()=>S,LU:()=>y,XX:()=>d,Yb:()=>l,Yf:()=>v,cL:()=>u,e5:()=>h,jV:()=>g});var r=n(18410),i=n(28353),o=n(47518),a=n(44651);const s=()=>{const{StoreService:e}=r.z.inject("StoreService");return e.getStore()},c=e=>{s().dispatch({type:a.bP,payload:e})},l=(e,t)=>{s().dispatch({type:a.Ct,payload:{route:e?{...e}:null,stats:t?{...t}:null}})},d=e=>{e?.length>1&&!e.some((e=>!(0,i.Xq)(e)))&&s().dispatch({type:a.v3,payload:[...e]})},u=()=>{s().dispatch({type:a.hK,payload:{}})},g=e=>{(0,i.Xq)(e)&&s().dispatch({type:a.lM,payload:e})},h=e=>{(0,i.Xq)(e)&&s().dispatch({type:a.r9,payload:e})},p=e=>{(0,i.Xq)(e)&&s().dispatch({type:a.NU,payload:e})},m=e=>{(0,i.Xq)(e)&&s().dispatch({type:a.jB,payload:e})},_=(e,t)=>{(0,i.Xq)(e)&&(0,i.Et)(t)&&s().dispatch({type:a.Vh,payload:new o.MD({coord:[...e],type:t})})},v=()=>{s().dispatch({type:a.lB,payload:!0})},y=()=>{s().dispatch({type:a.lB,payload:!1})},S=e=>{s().dispatch({type:a.qh,payload:{zoomToExtent:!1,...e}})},b=()=>{s().dispatch({type:a.uB})}},44651:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>a,NU:()=>g,Rb:()=>y,Vh:()=>p,bP:()=>o,hK:()=>l,jB:()=>h,lB:()=>s,lM:()=>d,qh:()=>m,r9:()=>u,uB:()=>_,v3:()=>c});var r=n(80943),i=n(47518);const o="routing/categoryChanged",a="routing/routeStatsChanged",s="routing/activeChanged",c="routing/waypointsChanged",l="routing/reset",d="routing/startSet",u="routing/forceStartSet",g="routing/destinationSet",h="routing/forceDestinationSet",p="routing/proposalSet",m="routing/highlightSet",_="routing/highlightRemoved",v={categoryId:null,status:r.Tc.Start_Destination_Missing,stats:null,route:null,waypoints:[],highlightedSegments:new i.MD,active:!1,proposal:new i.MD,intermediate:new i.MD},y=(e=v,t)=>{const{type:n,payload:y}=t;switch(n){case o:return{...e,categoryId:y};case"routing/statusChanged":return{...e,status:y};case"routing/statsChanged":return{...e,stats:y};case"routing/routeChanged":return{...e,route:y?{...y}:null};case a:return{...e,route:y.route?{...y.route}:null,stats:y.stats?{...y.stats}:null};case c:return{...e,waypoints:[...y.map((e=>[...e]))],status:r.Tc.Ok};case"routing/waypointDeleted":{const t=e.waypoints.findIndex((e=>(0,i.aI)(e,y))),n=()=>{if(1===e.waypoints.length&&0===t)return r.Tc.Start_Destination_Missing;if(2===e.waypoints.length)switch(t){case 0:return r.Tc.Start_Missing;case 1:return r.Tc.Destination_Missing}return e.status};return{...e,waypoints:e.waypoints.filter((e=>!(0,i.aI)(e,y))),status:n()}}case l:return{...e,waypoints:[],route:null,status:r.Tc.Start_Destination_Missing};case d:return 1===e.waypoints.length?{...e,waypoints:[[...y],...e.waypoints],status:r.Tc.Ok}:{...e,waypoints:[[...y]],status:r.Tc.Destination_Missing};case u:return{...e,waypoints:[[...y]],status:r.Tc.Destination_Missing};case g:return 1===e.waypoints.length?{...e,waypoints:[...e.waypoints,[...y]],status:r.Tc.Ok}:{...e,waypoints:[[...y]],status:r.Tc.Start_Missing};case h:return{...e,waypoints:[[...y]],status:r.Tc.Start_Missing};case p:return{...e,proposal:y};case"routing/intermediateSet":return-1===e.waypoints.findIndex((e=>(0,i.aI)(e,y.payload)))?{...e,intermediate:y}:{...e};case m:return{...e,highlightedSegments:new i.MD({...y,segments:[...y.segments.map((e=>[...e]))]})};case _:return{...e,highlightedSegments:new i.MD};case s:return{...e,active:y}}return e}},20083:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(62253),i=n(18410),o=n(47518);const a=e=>{(()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()})().dispatch({type:r.od,payload:new o.MD(e?.trim()??null)})}},62253:(e,t,n)=>{"use strict";n.d(t,{JT:()=>a,od:()=>i});var r=n(47518);const i="search/query",o={query:new r.MD(null)},a=(e=o,t)=>{const{type:n,payload:r}=t;return n===i?{...e,query:r}:e}},79545:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(48471),i=n(18410);const o=e=>{(()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()})().dispatch({type:r.sy,payload:e})}},48471:(e,t,n)=>{"use strict";n.d(t,{Q9:()=>o,sy:()=>r});const r="tools/toolId",i={current:null},o=(e=i,t)=>{const{type:n,payload:o}=t;return n===r?{...e,current:o}:e}},74975:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,u:()=>s});var r=n(38297),i=n(18410);const o=()=>{const{StoreService:e}=i.z.inject("StoreService");return e.getStore()},a=e=>{o().dispatch({type:r.Vv,payload:e})},s=()=>{o().dispatch({type:r.Mq,payload:!0})}},38297:(e,t,n)=>{"use strict";n.d(t,{Fn:()=>a,Mq:()=>i,Vv:()=>r});const r="topics/current",i="topics/resources/ready",o={current:null,ready:!1},a=(e=o,t)=>{const{type:n,payload:a}=t;switch(n){case r:return{...e,current:a};case i:return{...e,ready:a}}return e}},86407:(e,t,n)=>{"use strict";n.d(t,{ak:()=>i});const r={index:0},i=(e=r,t)=>{const{type:n,payload:i}=t;return"topics/topicsContentPane/index"===n?{...e,index:i}:e}},17937:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,i:()=>i});const r=Object.freeze({LOCAL:"local",REMOTE:"remote",UNKNOWN:"unknown"}),i=e=>e?.startsWith("data:image/svg+xml;base64,")?r.LOCAL:e?.startsWith("http://")||e?.startsWith("https://")?r.REMOTE:r.UNKNOWN},70402:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});const r=(e=[],t=0)=>{const n=e.map((e=>e?.getAttribution(t))).filter((e=>!!e)).flat().reverse().map((e=>Array.isArray(e.copyright)?e.copyright:[e?.copyright])).flat().filter((e=>!!e));return n.filter(((e,t)=>n.findIndex((t=>t.label===e.label))===t))}},39892:(e,t,n)=>{"use strict";n.d(t,{E2:()=>a,Ob:()=>o,yQ:()=>c});var r=n(28353);const i=e=>Array.isArray(e)&&3<=e.filter((e=>0<=e&&e<=255)).length,o=e=>{if(!i(e))return null;const t=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t};return"#"+t(e[0])+t(e[1])+t(e[2])},a=e=>{if(!(0,r.Kg)(e))return null;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},s=e=>{if(t=e,!(Array.isArray(t)&&3<=t.filter((e=>0<=e)).length&&t[0]<=360&&t[1]<=1&&t[2]<=1))return null;var t;const n=e[0]/360,r=e[1],i=e[2],o=Math.floor(6*n),a=6*n-o,s=i*(1-r),c=i*(1-a*r),l=i*(1-(1-a)*r),d=(()=>{switch(o%6){case 0:return[i,l,s];case 1:return[c,i,s];case 2:return[s,i,l];case 3:return[s,c,i];case 4:return[l,s,i];case 5:return[i,s,c]}})();return[Math.round(255*d[0]),Math.round(255*d[1]),Math.round(255*d[2])]},c=e=>{if(!i(e))return null;const t=(e=>{if(!i(e))return null;const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a&&(o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a);return[60*(s<0?s+6:s),o&&a/o,o]})(e);if(1===t[1]&&1===t[2]){const e=[(t[0]+180)%360,t[1],t[2]],n=s(e),r=.299*n[0]+.587*n[1]+.114*n[2];return[r,r,r]}const n=(e=>e[2]<.7)(t)?(e=>[e[0],0,1])(t):(e=>[e[0],0,0])(t);return s(n)}},99887:(e,t,n)=>{"use strict";n.d(t,{FW:()=>a,OB:()=>s,b3:()=>i,qL:()=>o});var r=n(42376);const i=(e,t,n)=>{var r;return r=e,-85.05112878,85.05112878,e=Math.min(Math.max(r,-85.05112878),85.05112878),2*Math.cos(e*Math.PI/180)*Math.PI*6378137/((e,t)=>Math.ceil(t*Math.pow(2,e)))(t,n)},o=e=>(0,r.LI)(e,3),a=e=>(0,r.LI)(e,5),s=e=>e.map((e=>(0,r.LI)(e,7)))},99651:(e,t,n)=>{"use strict";function r(e,t){let n=0;return function(...r){const i=(new Date).getTime();if(!(i-n<e))return n=i,t(...r)}}function i(e,t){let n;return function(...r){n&&clearTimeout(n),n=setTimeout((()=>{t(...r),n=null}),e)}}n.d(t,{qr:()=>i,v6:()=>r,yy:()=>o});const o=async e=>new Promise((t=>setTimeout(t,e)))},19366:(e,t,n)=>{"use strict";n.d(t,{$z:()=>i,dR:()=>a,eD:()=>o,w0:()=>r});const r=e=>{const t=new URL(e);return`${t.origin}${t.pathname.length>1?t.pathname:""}`},i=e=>`${new URL(e).origin}`,o=e=>new URL(e).pathname.split("/").filter((e=>e.length>0)),a=(e,t={})=>{const n=new URL(e),r=n.toString().replace(n.search,""),i=new URLSearchParams(n.search);for(const[e,n]of Object.entries(t))i.set(e,n);return`${r}?${i.toString()}`}},60704:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImN1cnJlbnRDb2xvciIgY2xhc3M9ImJpIGJpLXRocmVlLWRvdHMtdmVydGljYWwiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZD0iTTkuNSAxM2ExLjUgMS41IDAgMSAxLTMgMCAxLjUgMS41IDAgMCAxIDMgMG0wLTVhMS41IDEuNSAwIDEgMS0zIDAgMS41IDEuNSAwIDAgMSAzIDBtMC01YTEuNSAxLjUgMCAxIDEtMyAwIDEuNSAxLjUgMCAwIDEgMyAwIi8+PC9zdmc+Cg=="},2151:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImN1cnJlbnRDb2xvciIgY2xhc3M9ImJpIGJpLXRocmVlLWRvdHMiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZD0iTTMgOS41YTEuNSAxLjUgMCAxIDEgMC0zIDEuNSAxLjUgMCAwIDEgMCAzbTUgMGExLjUgMS41IDAgMSAxIDAtMyAxLjUgMS41IDAgMCAxIDAgM201IDBhMS41IDEuNSAwIDEgMSAwLTMgMS41IDEuNSAwIDAgMSAwIDMiLz48L3N2Zz4K"},48187:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctbGVmdC1zaG9ydCI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIgOGEuNS41IDAgMCAxLS41LjVINS43MDdsMi4xNDcgMi4xNDZhLjUuNSAwIDAgMS0uNzA4LjcwOGwtMy0zYS41LjUgMCAwIDEgMC0uNzA4bDMtM2EuNS41IDAgMSAxIC43MDguNzA4TDUuNzA3IDcuNUgxMS41YS41LjUgMCAwIDEgLjUuNSIvPjwvc3ZnPgo="},44389:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMzE2OSIKICAgd2lkdGg9IjIzMC4zOTk5OSIKICAgaGVpZ2h0PSIyMjcuMiIKICAgdmlld0JveD0iMCAwIDIzMC4zOTk5OSAyMjcuMiIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMzE3NSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczMxNzMiIC8+CiAgPGVsbGlwc2UKICAgICBzdHlsZT0ib3BhY2l0eTowLjE1NTtmaWxsOiMzNTk5YzM7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjE1LjcxNjM7cGFpbnQtb3JkZXI6c3Ryb2tlIGZpbGwgbWFya2VycyIKICAgICBpZD0iZWxsaXBzZTk2MC0zLTYiCiAgICAgcnk9IjU3LjIzODY0IgogICAgIHJ4PSI1OC4zODU5MjUiCiAgICAgY3k9IjExNS45MDc5OCIKICAgICBjeD0iMTE0LjE3OCIgLz4KICA8ZWxsaXBzZQogICAgIHN0eWxlPSJvcGFjaXR5OjAuMTU1O2ZpbGw6IzM1OTljMztmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MjAuNDYxNDtwYWludC1vcmRlcjpzdHJva2UgZmlsbCBtYXJrZXJzIgogICAgIGlkPSJlbGxpcHNlOTYwLTMiCiAgICAgcnk9Ijc0LjUyMDQ3NyIKICAgICByeD0iNzYuMDE0MTY4IgogICAgIGN5PSIxMTUuMTMxNDgiCiAgICAgY3g9IjExMy43ODAyNyIgLz4KICA8ZWxsaXBzZQogICAgIHN0eWxlPSJvcGFjaXR5OjAuMTU1O2ZpbGw6IzM1OTljMztmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MjUuMDIzOTtwYWludC1vcmRlcjpzdHJva2UgZmlsbCBtYXJrZXJzIgogICAgIGlkPSJlbGxpcHNlOTYwLTMtNyIKICAgICByeT0iOTEuMTM3MzA2IgogICAgIHJ4PSI5Mi45NjQwNSIKICAgICBjeT0iMTE1LjUwNDU0IgogICAgIGN4PSIxMTMuNjcxNzEiIC8+CiAgPGNpcmNsZQogICAgIHI9IjQwLjMyNjY5OCIKICAgICBjeT0iMTEzLjgyNzcyIgogICAgIGN4PSIxMTMuNjc2MzIiCiAgICAgaWQ9InBhdGg4MTciCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS4zNDYxOTtzdHJva2UtbGluZWNhcDpzcXVhcmU7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6c3Ryb2tlIGZpbGwgbWFya2VycyIgLz4KICA8Y2lyY2xlCiAgICAgcj0iMzQuNjUzNDMxIgogICAgIGN5PSIxMTQuMTk0MDIiCiAgICAgY3g9IjExMy45NTQ4MyIKICAgICBpZD0icGF0aDgxNy03IgogICAgIHN0eWxlPSJmaWxsOiMzNjlkYzk7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuMTU2ODtzdHJva2UtbGluZWNhcDpzcXVhcmU7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6c3Ryb2tlIGZpbGwgbWFya2VycyIgLz4KICA8ZwogICAgIHN0eWxlPSJmaWxsOiNmZmZmZmYiCiAgICAgaWQ9Imc5NzgiCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoNC41ODYxODg2LDAsMCw0LjU4NjE4ODYsODAuMjYwMDI3LDU2LjM1NjczNykiIC8+CiAgPGcKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmIgogICAgIGlkPSJnODkzMyIKICAgICB0cmFuc2Zvcm09Im1hdHJpeCg0Ljk5NjMzNDIsMCwwLDQuOTk2MzM0Miw4Mi4zNzQwNTEsMTE3LjU4MDc2KSI+CiAgICA8cGF0aAogICAgICAgZD0iTSA4LjUsNC40NjYgViAxLjc1IEEgMS43NSwxLjc1IDAgMSAwIDUsMS43NSBWIDcuMDkgTCAzLjgsNy4zMyBBIDEuNSwxLjUgMCAwIDAgMi42MDQsOC45NjYgbCAwLjM0NSwzLjEwNiBhIDIuNSwyLjUgMCAwIDAgMC40MDUsMS4xMSBsIDEuNDMzLDIuMTUgQSAxLjUsMS41IDAgMCAwIDYuMDM1LDE2IGggNi4zODUgYSAxLjUsMS41IDAgMCAwIDEuMzAyLC0wLjc1NiBsIDEuMzk1LC0yLjQ0MSBhIDMuNSwzLjUgMCAwIDAgMC40NDQsLTEuMzg5IEwgMTUuODMyLDguNjk5IEEgMiwyIDAgMCAwIDEzLjg0Miw2LjUgSCAxMy4yNjEgQSA1LDUgMCAwIDAgMTMuMDY2LDYuMjUyIEMgMTIuODc1LDYuMDIzIDEyLjU1Niw1LjY4NCAxMi4xODYsNS41MzYgMTEuODIyLDUuMzkgMTEuMzQsNS40MDQgMTEuMDI4LDUuNDI4IEwgMTAuODk2LDUuNDQgQSAxLjI2LDEuMjYgMCAwIDAgMTAuMzM2LDQuNzk4IDIuNiwyLjYgMCAwIDAgOS41OTgsNC41MSBDIDkuMjg4LDQuNDQ4IDguODU5LDQuNDUyIDguNTQ4LDQuNDY0IFoiCiAgICAgICBpZD0icGF0aDg5MjQiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmIiAvPgogIDwvZz4KICA8ZwogICAgIHN0eWxlPSJmaWxsOmN1cnJlbnRDb2xvciIKICAgICBpZD0iZzg4NDIiCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoNS41MTc2NjA4LDAsMCw1LjUxNzY2MDgsNzguNDM0MzA0LDExMi43OTQzNykiPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gNi43NSwxIEEgMC43NSwwLjc1IDAgMCAxIDcuNSwxLjc1IFYgOCBhIDAuNSwwLjUgMCAwIDAgMSwwIFYgNS40NjcgTCA4LjU4Niw1LjQ2MyBDIDguOTAzLDUuNDUxIDkuMjIzLDUuNDU1IDkuNDAyLDUuNDkgOS41MzYsNS41MTcgOS42OTYsNS41ODYgOS44NSw1LjY3MiA5LjkyNyw1LjcxNCAxMCw1LjgxOSAxMCw1Ljk4NiBWIDggYSAwLjUsMC41IDAgMSAwIDEsMCBWIDYuNDM1IGwgMC4xMDYsLTAuMDEgYyAwLjMxNiwtMC4wMjQgMC41ODQsLTAuMDEgMC43MDgsMC4wNCAwLjExOCwwLjA0NiAwLjMsMC4yMDcgMC40ODYsMC40MyAwLjA4MSwwLjA5NiAwLjE1LDAuMTkgMC4yLDAuMjU5IFYgOC41IGEgMC41LDAuNSAwIDAgMCAxLDAgdiAtMSBoIDAuMzQyIGEgMSwxIDAgMCAxIDAuOTk1LDEuMSBsIC0wLjI3MSwyLjcxNSBhIDIuNSwyLjUgMCAwIDEgLTAuMzE3LDAuOTkxIGwgLTEuMzk1LDIuNDQyIEEgMC41LDAuNSAwIDAgMSAxMi40MiwxNSBIIDYuMDM1IEEgMC41LDAuNSAwIDAgMSA1LjYxOSwxNC43NzcgTCA0LjE4NiwxMi42MjcgQSAxLjUsMS41IDAgMCAxIDMuOTQzLDExLjk2MSBMIDMuNTk4LDguODU2IEEgMC41LDAuNSAwIDAgMSAzLjk5Nyw4LjMxIEwgNSw4LjExIFYgOSBBIDAuNSwwLjUgMCAwIDAgNiw5IFYgMS43NSBBIDAuNzUsMC43NSAwIDAgMSA2Ljc1LDEgTSA4LjUsNC40NjYgViAxLjc1IEEgMS43NSwxLjc1IDAgMSAwIDUsMS43NSBWIDcuMDkgTCAzLjgsNy4zMyBBIDEuNSwxLjUgMCAwIDAgMi42MDQsOC45NjYgbCAwLjM0NSwzLjEwNiBhIDIuNSwyLjUgMCAwIDAgMC40MDUsMS4xMSBsIDEuNDMzLDIuMTUgQSAxLjUsMS41IDAgMCAwIDYuMDM1LDE2IGggNi4zODUgYSAxLjUsMS41IDAgMCAwIDEuMzAyLC0wLjc1NiBsIDEuMzk1LC0yLjQ0MSBhIDMuNSwzLjUgMCAwIDAgMC40NDQsLTEuMzg5IEwgMTUuODMyLDguNjk5IEEgMiwyIDAgMCAwIDEzLjg0Miw2LjUgSCAxMy4yNjEgQSA1LDUgMCAwIDAgMTMuMDY2LDYuMjUyIEMgMTIuODc1LDYuMDIzIDEyLjU1Niw1LjY4NCAxMi4xODYsNS41MzYgMTEuODIyLDUuMzkgMTEuMzQsNS40MDQgMTEuMDI4LDUuNDI4IEwgMTAuODk2LDUuNDQgQSAxLjI2LDEuMjYgMCAwIDAgMTAuMzM2LDQuNzk4IDIuNiwyLjYgMCAwIDAgOS41OTgsNC41MSBDIDkuMjg4LDQuNDQ4IDguODU5LDQuNDUyIDguNTQ4LDQuNDY0IFogbSAyLjA5NCwyLjAyNSIKICAgICAgIGlkPSJwYXRoODgzMyIgLz4KICA8L2c+Cjwvc3ZnPjwhLS1NSVQgTGljZW5zZS0tPgo="},40555:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYm91bmRpbmctYm94LWNpcmNsZXMiPjxwYXRoIGQ9Ik04LjUxNS0uMDA3YTIgMiAwIDAgMC0yIDIgMiAyIDAgMCAwIDIgMiAyIDIgMCAwIDAgMi0yIDIgMiAwIDAgMC0yLTJ6bTAgMWExIDEgMCAwIDEgMSAxIDEgMSAwIDAgMS0xIDEgMSAxIDAgMCAxLTEtMSAxIDEgMCAwIDEgMS0xek0xLjk2MiA3Ljk5MmEyIDIgMCAwIDAtMiAyIDIgMiAwIDAgMCAyIDIgMiAyIDAgMCAwIDItMiAyIDIgMCAwIDAtMi0yem0wIDFhMSAxIDAgMCAxIDEgMSAxIDEgMCAwIDEtMSAxIDEgMSAwIDAgMS0xLTEgMSAxIDAgMCAxIDEtMXptOS4wNCAzLjAzOGEyIDIgMCAwIDAtMiAyIDIgMiAwIDAgMCAyIDIgMiAyIDAgMCAwIDItMiAyIDIgMCAwIDAtMi0yem0wIDFhMSAxIDAgMCAxIDEgMSAxIDEgMCAwIDEtMSAxIDEgMSAwIDAgMS0xLTEgMSAxIDAgMCAxIDEtMXoiIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpyZWQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOnJlZDtzdHJva2Utd2lkdGg6MDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIi8+PHBhdGggZD0ibTMuMDA3IDguOTA3IDQuNTg3LTUuNzA1bS00LjM1NiA3LjYxMyA2LjI4MyAyLjcxOG0xLjg1MS0uODY3IDEuNTAzLTQuMzk1IiBzdHlsZT0iZmlsbDpub25lO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojMDAwO3N0cm9rZS13aWR0aDoxcHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIvPjwvc3ZnPjwhLS1NSVQgTGljZW5zZS0tPgo="},11177:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYm91bmRpbmctYm94LWNpcmNsZXMiPjxwYXRoIGQ9Im0yLjAxNyAzLjYyNSAxLjEzMS0uNjI3Ljc1LTEuMTA0IDguMjU5LjEzNy43NjMgMS4xMyAxLjAyMi42MTQuMTEgOC41MTgtMS4xNi41ODYtLjQ5IDEuMDc3LTguNjk1LjA0LS42NTQtMS4wNjItLjkxMy0uNTMyWiIgc3R5bGU9ImZpbGw6I2EwMDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6LjI0NTY2OTI5O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjE7b3BhY2l0eTouMjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIvPjxwYXRoIGQ9Ik0yIDFhMSAxIDAgMSAwIDAgMiAxIDEgMCAwIDAgMC0yek0wIDJhMiAyIDAgMCAxIDMuOTM3LS41aDguMTI2QTIgMiAwIDEgMSAxNC41IDMuOTM3djguMTI2YTIgMiAwIDEgMS0yLjQzNyAyLjQzN0gzLjkzN0EyIDIgMCAxIDEgMS41IDEyLjA2M1YzLjkzN0EyIDIgMCAwIDEgMCAyem0yLjUgMS45Mzd2OC4xMjZjLjcwMy4xOCAxLjI1Ni43MzQgMS40MzcgMS40MzdoOC4xMjZhMi4wMDQgMi4wMDQgMCAwIDEgMS40MzctMS40MzdWMy45MzdBMi4wMDQgMi4wMDQgMCAwIDEgMTIuMDYzIDIuNUgzLjkzN0EyLjAwNCAyLjAwNCAwIDAgMSAyLjUgMy45Mzd6TTE0IDFhMSAxIDAgMSAwIDAgMiAxIDEgMCAwIDAgMC0yek0yIDEzYTEgMSAwIDEgMCAwIDIgMSAxIDAgMCAwIDAtMnptMTIgMGExIDEgMCAxIDAgMCAyIDEgMSAwIDAgMCAwLTJ6Ii8+PC9zdmc+PCEtLU1JVCBMaWNlbnNlLS0+Cg=="},83241:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZ2VvLWFsdCI+PHBhdGggZD0iTTEyLjE2NiA4Ljk0Yy0uNTI0IDEuMDYyLTEuMjM0IDIuMTItMS45NiAzLjA3QTMyIDMyIDAgMCAxIDggMTQuNThhMzIgMzIgMCAwIDEtMi4yMDYtMi41N2MtLjcyNi0uOTUtMS40MzYtMi4wMDgtMS45Ni0zLjA3QzMuMzA0IDcuODY3IDMgNi44NjIgMyA2YTUgNSAwIDAgMSAxMCAwYzAgLjg2Mi0uMzA1IDEuODY3LS44MzQgMi45NE04IDE2czYtNS42ODYgNi0xMEE2IDYgMCAwIDAgMiA2YzAgNC4zMTQgNiAxMCA2IDEwIi8+PHBhdGggZD0iTTggOGEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRtMCAxYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNiIvPjxwYXRoIGQ9Ik04IDBhNiA2IDAgMCAwLTYgNmMwIDQuMzE0IDYgMTAgNiAxMHM2LTUuNjg2IDYtMTBhNiA2IDAgMCAwLTYtNm0tLjAzMyAzLjc2NEEyLjM3MyAyLjQwNyAwIDAgMSAxMC4zNCA2LjE3YTIuMzczIDIuNDA3IDAgMCAxLTIuMzczIDIuNDA2QTIuMzczIDIuNDA3IDAgMCAxIDUuNTk0IDYuMTdhMi4zNzMgMi40MDcgMCAwIDEgMi4zNzMtMi40MDYiIHN0eWxlPSJvcGFjaXR5Oi4yO2ZpbGw6I2YwZjtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPjwhLS1NSVQgTGljZW5zZS0tPgo="},49237:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzcz0iY2hldnJvbi1yaWdodCIgZGF0YS1pY29uPSJjaGV2cm9uLXJpZ2h0IiBkYXRhLXByZWZpeD0iZmFzIiB2aWV3Qm94PSIwIDAgMzIwIDUxMiI+PCEtLUZvbnQgQXdlc29tZSBGcmVlIDUuMTUuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKS0tPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTI4NS40NzYgMjcyLjk3MSA5MS4xMzIgNDY3LjMxNGMtOS4zNzMgOS4zNzMtMjQuNTY5IDkuMzczLTMzLjk0MSAwbC0yMi42NjctMjIuNjY3Yy05LjM1Ny05LjM1Ny05LjM3NS0yNC41MjItLjA0LTMzLjkwMUwxODguNTA1IDI1NiAzNC40ODQgMTAxLjI1NWMtOS4zMzUtOS4zNzktOS4zMTctMjQuNTQ0LjA0LTMzLjkwMWwyMi42NjctMjIuNjY3YzkuMzczLTkuMzczIDI0LjU2OS05LjM3MyAzMy45NDEgMEwyODUuNDc1IDIzOS4wM2M5LjM3MyA5LjM3MiA5LjM3MyAyNC41NjguMDAxIDMzLjk0MSIvPjwvc3ZnPgo="},81576:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIvPjxwYXRoIGQ9Ik0yMC45NCAxMUE4Ljk5NCA4Ljk5NCAwIDAgMCAxMyAzLjA2VjFoLTJ2Mi4wNkE4Ljk5NCA4Ljk5NCAwIDAgMCAzLjA2IDExSDF2MmgyLjA2QTguOTk0IDguOTk0IDAgMCAwIDExIDIwLjk0VjIzaDJ2LTIuMDZBOC45OTQgOC45OTQgMCAwIDAgMjAuOTQgMTNIMjN2LTJ6TTEyIDE5Yy0zLjg3IDAtNy0zLjEzLTctN3MzLjEzLTcgNy03IDcgMy4xMyA3IDctMy4xMyA3LTcgNyIvPjwvc3ZnPjwhLS1NSVQgTGljZW5zZS0tPgo="},35427:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZm9yd2FyZCI+PCEtLU1JVCBMaWNlbnNlLS0+PHBhdGggZD0iTS42NjMgOC4zNTFjLS44ODYuMDE4LS44NTktLjY5LjAyNy0uNzA3aDIuNjUzdi43MDd6bTEyLjExLjA1N3YtLjcwN2gyLjU5Yy44ODUgMCAuODg1LjcwNyAwIC43MDd6TTguMzY1IDEyLjg4djIuNTAzYzAgLjg2Mi0uNjczLjg2Mi0uNjczIDBWMTIuODh6IiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLXdpZHRoOjEuMzEwMDUxOTIiLz48ZyBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtc2l6ZTo3LjQzODgxNzVweDtsaW5lLWhlaWdodDoxMjUlO2ZvbnQtZmFtaWx5OlNhbnM7bGV0dGVyLXNwYWNpbmc6MDt3b3JkLXNwYWNpbmc6MDtmaWxsOiMwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOi4xODU5NzA0MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiPjxwYXRoIGQ9Ik03LjEgNS44NzJoLjg3MmwyLjEyIDR2LTRoLjYyN3Y0Ljc4MWgtLjg3MWwtMi4xMi00djRoLS42MjdaIiBhcmlhLWxhYmVsPSJOIiBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDo0MDA7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LWZhbWlseTpWZW1hbmEyMDAwOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246VmVtYW5hMjAwMDtzdHJva2Utd2lkdGg6LjE2Mzk0MzcycHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uOTM1IC0uMTkyKSIvPjwvZz48cGF0aCBkPSJtNy43NzIuMTczLTEuNTE4IDIuNmMtLjE4LjMwNy0uMDIzLjQ0NS4yNS40NDVoMy4wMzVjLjI3MiAwIC40MDctLjEzOC4yMjctLjQ0NUw4LjI0OC4xNzNjLS4xMjYtLjIxNi0uMzUtLjIxNi0uNDc2IDAiIHN0eWxlPSJzdHJva2Utd2lkdGg6LjM4NzQ4NzAyIi8+PC9zdmc+Cg=="},44275:e=>{"use strict";e.exports="data:image/svg+xml;base64,PCEtLUdlbmVyYXRlZCBieSBJY29Nb29uLmlvLS0+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZD0iTTEuMzU2IDUuNzYzaDMuMzIyTDguNjEgMS4wODVsMi44NDcgMy41OTMgMS40MjQtMS4wODVjNS4zMDEtLjAwOC4wNC0uMDEyIDYuNzI0LjAybDIuNzY4IDIuODk1LjA2OCAzLjY2MSAyLjEwMiAyLjU3NiA1Ljc2MyA0LjQwN3YyLjM3M2MtMi4zMzQgMS4zNzktMi43MzkgMS42OTItNi45MTUgNC4yNzFsMi40NDEgNS42OTUtNS4wMTctMi4xMDJjLTYuMDg4IDIuNTQ4LjAwMi4wNDMtNy4wNTEgMi45MTVsLTMuMzIyLTEuNjI3LTEuODMxIDMuMDUxLTMuNzk3LTMuMjU0IDIuNjQ0LTEuMDg1LS4yNzEtNi4wMzQgMy4xMTktMi4yMzd2LTMuMjU0bC0yLjMwNS0xLjQ5MmMtLjI3NC0xLjYzNC0uNDg0LTIuMjExLS44ODEtNC4xMzZMMy44NjYgOC40MDVsLTEuODMgMS44MzF6Ii8+PC9zdmc+Cg=="},72157:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJjdXJyZW50Q29sb3IiIGNsYXNzPSJiaSBiaS1kYXNoLWNpcmNsZS1maWxsIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTE2IDhBOCA4IDAgMSAxIDAgOGE4IDggMCAwIDEgMTYgME00IDcuNWEuNS41IDAgMCAwIDAgMWg4YS41LjUgMCAwIDAgMC0xeiIvPjwvc3ZnPgo="},13513:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJjdXJyZW50Q29sb3IiIGNsYXNzPSJiaSBiaS1wbHVzLWNpcmNsZS1maWxsIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTE2IDhBOCA4IDAgMSAxIDAgOGE4IDggMCAwIDEgMTYgME04LjUgNGEuNS41IDAgMCAwLTEgMHYzLjVINGEuNS41IDAgMCAwIDAgMWgzLjVWMTJhLjUuNSAwIDAgMCAxIDBWOC41SDEyYS41LjUgMCAwIDAgMC0xSDguNXoiLz48L3N2Zz4K"},31831:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzcz0iY2hldnJvbi1yaWdodCIgZGF0YS1pY29uPSJjaGV2cm9uLXJpZ2h0IiBkYXRhLXByZWZpeD0iZmFzIiB2aWV3Qm94PSIwIDAgMzIwIDUxMiI+PCEtLUZvbnQgQXdlc29tZSBGcmVlIDUuMTUuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKS0tPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTI4NS40NzYgMjcyLjk3MSA5MS4xMzIgNDY3LjMxNGMtOS4zNzMgOS4zNzMtMjQuNTY5IDkuMzczLTMzLjk0MSAwbC0yMi42NjctMjIuNjY3Yy05LjM1Ny05LjM1Ny05LjM3NS0yNC41MjItLjA0LTMzLjkwMUwxODguNTA1IDI1NiAzNC40ODQgMTAxLjI1NWMtOS4zMzUtOS4zNzktOS4zMTctMjQuNTQ0LjA0LTMzLjkwMWwyMi42NjctMjIuNjY3YzkuMzczLTkuMzczIDI0LjU2OS05LjM3MyAzMy45NDEgMEwyODUuNDc1IDIzOS4wM2M5LjM3MyA5LjM3MiA5LjM3MyAyNC41NjguMDAxIDMzLjk0MSIvPjwvc3ZnPgo="},29355:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmkteC1sZyI+PHBhdGggZD0iTTEuMjkzIDEuMjkzYTEgMSAwIDAgMSAxLjQxNCAwTDggNi41ODZsNS4yOTMtNS4yOTNhMSAxIDAgMSAxIDEuNDE0IDEuNDE0TDkuNDE0IDhsNS4yOTMgNS4yOTNhMSAxIDAgMCAxLTEuNDE0IDEuNDE0TDggOS40MTRsLTUuMjkzIDUuMjkzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNEw2LjU4NiA4IDEuMjkzIDIuNzA3YTEgMSAwIDAgMSAwLTEuNDE0Ii8+PC9zdmc+Cg=="},55973:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktaW5mby1sZyI+PHBhdGggZD0ibTEwLjI3NyA1LjQzMy00LjAzMS41MDUtLjE0NS42Ny43OTQuMTQ1Yy41MTYuMTIzLjYxOS4zMDkuNTA1LjgyNEw2LjEwMSAxMy42OGMtLjM0IDEuNTc4LjE4NiAyLjMyIDEuNDIzIDIuMzIuOTU5IDAgMi4wNzItLjQ0MyAyLjU3Ny0xLjA1MmwuMTU1LS43MzJjLS4zNS4zMS0uODY2LjQzNC0xLjIwNi40MzQtLjQ4NSAwLS42Ni0uMzQtLjUzNi0uOTM5em0uMTIyLTMuNjczYTEuNzYgMS43NiAwIDEgMS0zLjUyIDAgMS43NiAxLjc2IDAgMCAxIDMuNTIgMCIvPjwvc3ZnPgo="}}]);